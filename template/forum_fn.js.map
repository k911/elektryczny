{"version":3,"sources":["forum_fn.js"],"names":["find_username","url","popup","width","height","name","window","open","replace","pageJump","item","page","parseInt","val","perPage","attr","baseUrl","startName","isNaN","Math","floor","indexOf","document","location","href","marklist","id","state","jQuery","each","$this","this","substr","length","prop","viewableArea","e","itself","parentNode","vaHeight","style","overflow","maxHeight","vaMaxHeight","offsetHeight","activateSubPanel","p","panels","i","showPanel","$","map","getAttribute","css","toggleClass","selectCode","a","s","r","getElementsByTagName","getSelection","setBaseAndExtent","l","innerText","error","createRange","selectNodeContents","removeAllRanges","addRange","opera","innerHTML","substring","selection","body","createTextRange","moveToElementText","select","play_qt_file","obj","rectangle","GetRectangle","split","x1","x2","y1","y2","SetControllerVisible","Play","phpbbCheckKey","event","keyCode","inAutocomplete","lastKeyEntered","which","insertUser","formId","value","$form","formName","fieldName","opener","forms","type","insert_marked_users","users","checked","close","insert_single_user","user","adjustPosterProfile","postbody","unresize","profile","removeClass","parent","prev","post","resized","hasClass","addClass","checkNavigation","force","init","nav","responsive","lastWidth","itemCount","contents","menu","find","canToggle","noToggle","children","hide","items","lists","not","cloneClass","is","add","undefined","append","clone","responsiveClones","initialized","check","containerWidth","menuWidth","hiding","container","show","alwaysShowMenu","outerWidth","itemWidth","filter","styleConfig","_responsiveNavigation","initResponsiveNavigation","eq","prepend","phpbb","registerDropdown","push","parseDocument","$container","test","createElement","oldBrowser","borderRadius","$body","tabs","tab","className","title","text","trim","content","classes","key","current","found","match","matches","on","click","$input","siblings","preventDefault","$dropdownContainer","setTimeout","focus","resize","maxWidth","diff","$left","minWidth","max","throttled","$right","queued","$links","outerHeight","wrapped","join","classesLength","j","$link","selector","responsive2","compact","responsive1","$linksNotSkip","$menuContents","persistent","persistentContent","$menu","copied1","$clones1","$linksFirst","$linksLast","copied2","$clones2","filterSkip","filterLast","$linksAll","html","slack","before","load","wrapInner","z","$block","first","column","$children","$list","headers","headersLength","$th","totalHeaders","cell","colspan","dfn","row","cells","$items","arguments","$tabs","$item","toggleDropdown","call","get","$tab","$availableTabs","total","$ul","$tabLink","visibleClass","fullText","responsiveText","staticNavigation","enableStatic","navigation","isStatic","disableStatic","navbarBox","headerBox","testHash","hash","scrollTo","$w","scrollLeft","scrollTop","checkHash","top","windowWidth","minHeight","getBoundingClientRect","minTopPosition","staticNavigationMinWidth","staticNavigationMinHeight","breakLine","currOffset","prevOffset","abs","parents","next","matchMedia","replaceImage","img","naturalWidth","setAttribute","hdImage","Image","hdLoaded","normalLoaded","complete","onload","src","words","shift","_loaded","collapseForums","toggle","forum","toggled","stop","slideDown","deleteCookie","cookieConfig","slideUp","setCookie","getCookie","extendPosterProfile","$childNodes","defaultButton","processResizeEvent","_resizeThrottled","transforms","prefix","path","expires","Date","setFullYear","getFullYear","isTouch","config","extend","cookie","encodeURIComponent","toUTCString","domain","expr","RegExp","exec","decodeURIComponent","_resizeQueued"],"mappings":"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","file":"forum_fn.js","sourcesContent":["/* global phpbb */\r\n\r\n/**\r\n* phpBB3 forum functions\r\n*/\r\nvar styleConfig = {\r\n\tstaticNavigation: true,\r\n\tstaticNavigationMinWidth: 700,\r\n\tstaticNavigationMinHeight: 400,\r\n\textendPosterProfile: true,\r\n\tcollapseForums: true\r\n};\r\n\r\n/**\r\n* Find a member\r\n*/\r\nfunction find_username(url) {\r\n\t'use strict';\r\n\r\n\tpopup(url, 760, 570, '_usersearch');\r\n\treturn false;\r\n}\r\n\r\n/**\r\n* Window popup\r\n*/\r\nfunction popup(url, width, height, name) {\r\n\t'use strict';\r\n\r\n\tif (!name) {\r\n\t\tname = '_popup';\r\n\t}\r\n\r\n\twindow.open(url.replace(/&amp;/g, '&'), name, 'height=' + height + ',resizable=yes,scrollbars=yes, width=' + width);\r\n\treturn false;\r\n}\r\n\r\n/**\r\n* Jump to page\r\n*/\r\nfunction pageJump(item) {\r\n\t'use strict';\r\n\r\n\tvar page = parseInt(item.val(), 10),\r\n\t\tperPage = item.attr('data-per-page'),\r\n\t\tbaseUrl = item.attr('data-base-url'),\r\n\t\tstartName = item.attr('data-start-name');\r\n\r\n\tif (page !== null && !isNaN(page) && page === Math.floor(page) && page > 0) {\r\n\t\tif (baseUrl.indexOf('?') === -1) {\r\n\t\t\tdocument.location.href = baseUrl + '?' + startName + '=' + ((page - 1) * perPage);\r\n\t\t} else {\r\n\t\t\tdocument.location.href = baseUrl.replace(/&amp;/g, '&') + '&' + startName + '=' + ((page - 1) * perPage);\r\n\t\t}\r\n\t}\r\n}\r\n\r\n/**\r\n* Mark/unmark checklist\r\n* id = ID of parent container, name = name prefix, state = state [true/false]\r\n*/\r\nfunction marklist(id, name, state) {\r\n\t'use strict';\r\n\r\n\tjQuery('#' + id + ' input[type=checkbox][name]').each(function() {\r\n\t\tvar $this = jQuery(this);\r\n\t\tif ($this.attr('name').substr(0, name.length) === name) {\r\n\t\t\t$this.prop('checked', state);\r\n\t\t}\r\n\t});\r\n}\r\n\r\n/**\r\n* Resize viewable area for attached image or topic review panel (possibly others to come)\r\n* e = element\r\n*/\r\nfunction viewableArea(e, itself) {\r\n\t'use strict';\r\n\r\n\tif (!e) {\r\n\t\treturn;\r\n\t}\r\n\r\n\tif (!itself) {\r\n\t\te = e.parentNode;\r\n\t}\r\n\r\n\tif (!e.vaHeight) {\r\n\t\t// Store viewable area height before changing style to auto\r\n\t\te.vaHeight = e.offsetHeight;\r\n\t\te.vaMaxHeight = e.style.maxHeight;\r\n\t\te.style.height = 'auto';\r\n\t\te.style.maxHeight = 'none';\r\n\t\te.style.overflow = 'visible';\r\n\t} else {\r\n\t\t// Restore viewable area height to the default\r\n\t\te.style.height = e.vaHeight + 'px';\r\n\t\te.style.overflow = 'auto';\r\n\t\te.style.maxHeight = e.vaMaxHeight;\r\n\t\te.vaHeight = false;\r\n\t}\r\n}\r\n\r\n/**\r\n* Alternate display of subPanels\r\n*/\r\njQuery(function($) {\r\n\t'use strict';\r\n\r\n\t$('.sub-panels').each(function() {\r\n\r\n\t\tvar $childNodes = $('a[data-subpanel]', this),\r\n\t\t\tpanels = $childNodes.map(function () {\r\n\t\t\t\treturn this.getAttribute('data-subpanel');\r\n\t\t\t}),\r\n\t\t\tshowPanel = this.getAttribute('data-show-panel');\r\n\r\n\t\tif (panels.length) {\r\n\t\t\tactivateSubPanel(showPanel, panels);\r\n\t\t\t$childNodes.click(function () {\r\n\t\t\t\tactivateSubPanel(this.getAttribute('data-subpanel'), panels);\r\n\t\t\t\treturn false;\r\n\t\t\t});\r\n\t\t}\r\n\t});\r\n});\r\n\r\n/**\r\n* Activate specific subPanel\r\n*/\r\nfunction activateSubPanel(p, panels) {\r\n\t'use strict';\r\n\r\n\tvar i, showPanel;\r\n\r\n\tif (typeof p === 'string') {\r\n\t\tshowPanel = p;\r\n\t}\r\n\t$('input[name=\"show_panel\"]').val(showPanel);\r\n\r\n\tif (typeof panels === 'undefined') {\r\n\t\tpanels = jQuery('.sub-panels a[data-subpanel]').map(function() {\r\n\t\t\treturn this.getAttribute('data-subpanel');\r\n\t\t});\r\n\t}\r\n\r\n\tfor (i = 0; i < panels.length; i++) {\r\n\t\tjQuery('#' + panels[i]).css('display', panels[i] === showPanel ? 'block' : 'none');\r\n\t\tjQuery('#' + panels[i] + '-tab').toggleClass('activetab', panels[i] === showPanel);\r\n\t}\r\n}\r\n\r\nfunction selectCode(a) {\r\n\t'use strict';\r\n\r\n\t// Get ID of code block\r\n\tvar e = a.parentNode.parentNode.getElementsByTagName('CODE')[0];\r\n\tvar s, r;\r\n\r\n\t// Not IE and IE9+\r\n\tif (window.getSelection) {\r\n\t\ts = window.getSelection();\r\n\t\t// Safari and Chrome\r\n\t\tif (s.setBaseAndExtent) {\r\n\t\t\tvar l = (e.innerText.length > 1) ? e.innerText.length - 1 : 1;\r\n\t\t\ttry {\r\n\t\t\t\ts.setBaseAndExtent(e, 0, e, l);\r\n\t\t\t} catch (error) {\r\n\t\t\t\tr = document.createRange();\r\n\t\t\t\tr.selectNodeContents(e);\r\n\t\t\t\ts.removeAllRanges();\r\n\t\t\t\ts.addRange(r);\r\n\t\t\t}\r\n\t\t}\r\n\t\t// Firefox and Opera\r\n\t\telse {\r\n\t\t\t// workaround for bug # 42885\r\n\t\t\tif (window.opera && e.innerHTML.substring(e.innerHTML.length - 4) === '<BR>') {\r\n\t\t\t\te.innerHTML = e.innerHTML + '&nbsp;';\r\n\t\t\t}\r\n\r\n\t\t\tr = document.createRange();\r\n\t\t\tr.selectNodeContents(e);\r\n\t\t\ts.removeAllRanges();\r\n\t\t\ts.addRange(r);\r\n\t\t}\r\n\t}\r\n\t// Some older browsers\r\n\telse if (document.getSelection) {\r\n\t\ts = document.getSelection();\r\n\t\tr = document.createRange();\r\n\t\tr.selectNodeContents(e);\r\n\t\ts.removeAllRanges();\r\n\t\ts.addRange(r);\r\n\t}\r\n\t// IE\r\n\telse if (document.selection) {\r\n\t\tr = document.body.createTextRange();\r\n\t\tr.moveToElementText(e);\r\n\t\tr.select();\r\n\t}\r\n}\r\n\r\n/**\r\n* Play quicktime file by determining it's width/height\r\n* from the displayed rectangle area\r\n*/\r\nfunction play_qt_file(obj) {\r\n\t'use strict';\r\n\r\n\tvar rectangle = obj.GetRectangle();\r\n\tvar width, height;\r\n\r\n\tif (rectangle) {\r\n\t\trectangle = rectangle.split(',');\r\n\t\tvar x1 = parseInt(rectangle[0], 10);\r\n\t\tvar x2 = parseInt(rectangle[2], 10);\r\n\t\tvar y1 = parseInt(rectangle[1], 10);\r\n\t\tvar y2 = parseInt(rectangle[3], 10);\r\n\r\n\t\twidth = (x1 < 0) ? (x1 * -1) + x2 : x2 - x1;\r\n\t\theight = (y1 < 0) ? (y1 * -1) + y2 : y2 - y1;\r\n\t} else {\r\n\t\twidth = 200;\r\n\t\theight = 0;\r\n\t}\r\n\r\n\tobj.width = width;\r\n\tobj.height = height + 16;\r\n\r\n\tobj.SetControllerVisible(true);\r\n\tobj.Play();\r\n}\r\n\r\nvar inAutocomplete = false;\r\nvar lastKeyEntered = '';\r\n\r\n/**\r\n* Check event key\r\n*/\r\nfunction phpbbCheckKey(event) {\r\n\t'use strict';\r\n\r\n\t// Keycode is array down or up?\r\n\tif (event.keyCode && (event.keyCode === 40 || event.keyCode === 38)) {\r\n\t\tinAutocomplete = true;\r\n\t}\r\n\r\n\t// Make sure we are not within an \"autocompletion\" field\r\n\tif (inAutocomplete) {\r\n\t\t// If return pressed and key changed we reset the autocompletion\r\n\t\tif (!lastKeyEntered || lastKeyEntered === event.which) {\r\n\t\t\tinAutocomplete = false;\r\n\t\t\treturn true;\r\n\t\t}\r\n\t}\r\n\r\n\t// Keycode is not return, then return. ;)\r\n\tif (event.which !== 13) {\r\n\t\tlastKeyEntered = event.which;\r\n\t\treturn true;\r\n\t}\r\n\r\n\treturn false;\r\n}\r\n\r\n/**\r\n* Apply onkeypress event for forcing default submit button on ENTER key press\r\n*/\r\njQuery(function($) {\r\n\t'use strict';\r\n\r\n\t$('form input[type=text], form input[type=password]').on('keypress', function (e) {\r\n\t\tvar defaultButton = $(this).parents('form').find('input[type=submit].default-submit-action');\r\n\r\n\t\tif (!defaultButton || defaultButton.length <= 0) {\r\n\t\t\treturn true;\r\n\t\t}\r\n\r\n\t\tif (phpbbCheckKey(e)) {\r\n\t\t\treturn true;\r\n\t\t}\r\n\r\n\t\tif ((e.which && e.which === 13) || (e.keyCode && e.keyCode === 13)) {\r\n\t\t\tdefaultButton.click();\r\n\t\t\treturn false;\r\n\t\t}\r\n\r\n\t\treturn true;\r\n\t});\r\n});\r\n\r\n/**\r\n* Functions for user search popup\r\n*/\r\nfunction insertUser(formId, value) {\r\n\t'use strict';\r\n\r\n\tvar $form = jQuery(formId),\r\n\t\tformName = $form.attr('data-form-name'),\r\n\t\tfieldName = $form.attr('data-field-name'),\r\n\t\titem = opener.document.forms[formName][fieldName];\r\n\r\n\tif (item.value.length && item.type === 'textarea') {\r\n\t\tvalue = item.value + '\\n' + value;\r\n\t}\r\n\r\n\titem.value = value;\r\n}\r\n\r\nfunction insert_marked_users(formId, users) {\r\n\t'use strict';\r\n\r\n\tfor (var i = 0; i < users.length; i++) {\r\n\t\tif (users[i].checked) {\r\n\t\t\tinsertUser(formId, users[i].value);\r\n\t\t}\r\n\t}\r\n\r\n\twindow.close();\r\n}\r\n\r\nfunction insert_single_user(formId, user) {\r\n\t'use strict';\r\n\r\n\tinsertUser(formId, user);\r\n\twindow.close();\r\n}\r\n\r\n/**\r\n* Resize poster profile block\r\n*/\r\nfunction adjustPosterProfile(postbody) {\r\n\tvar profile = postbody.parent().prev(),\r\n\t\tpost = profile.parent(),\r\n\t\tresized = profile.hasClass('resized');\r\n\r\n\tfunction unresize() {\r\n\t\tprofile.removeClass('resized').css('min-height', '');\r\n\t}\r\n\r\n\tif (post.width() < (profile.width() + postbody.width())) {\r\n\t\tif (resized) {\r\n\t\t\tunresize();\r\n\t\t}\r\n\t\treturn false;\r\n\t}\r\n\r\n\tif (resized) {\r\n\t\tprofile.css('min-height', '');\r\n\t}\r\n\tprofile.css('min-height', Math.floor(postbody.height()) + 'px').addClass('resized');\r\n}\r\n\r\n/**\r\n* Responsive navigation\r\n*/\r\nfunction checkNavigation(force)\r\n{\r\n\tfunction init(nav)\r\n\t{\r\n\t\tnav.responsive = false;\r\n\t\tnav.lastWidth = 0;\r\n\t\tnav.itemCount = 0;\r\n\r\n\t\t// Copy children items\r\n\t\tnav.contents = nav.menu.find('.dropdown-contents:first');\r\n\t\tnav.canToggle = $();\r\n\t\tnav.noToggle = $();\r\n\t\tnav.contents.children('.separator:last-child').hide();\r\n\t\tnav.items = nav.lists.children().not(nav.menu).each(function(i) {\r\n\t\t\tvar $this = $(this),\r\n\t\t\t\tcloneClass;\r\n\r\n\t\t\tif ($this.is('.not-responsive, .responsive-menu, .dropdown-container, .selected') || $this.attr('data-skip-responsive') == 'true') {\r\n\t\t\t\t$this.attr('data-responsive-index', -1);\r\n\t\t\t\tnav.noToggle = nav.noToggle.add($this);\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tcloneClass = (\r\n\t\t\t\t\t$this.attr('data-responsive-class') === undefined ? \r\n\t\t\t\t\t\t($this.hasClass('small-icon') ? $this.attr('class') : '') : \r\n\t\t\t\t\t\t$this.attr('data-responsive-class')\r\n\t\t\t\t) + ' responsive-index-' + i;\r\n\r\n\t\t\tnav.contents.append(\r\n\t\t\t\t$this.clone(true).attr('class', cloneClass).addClass('responsive-clone').removeClass('tab')\r\n\t\t\t);\r\n\r\n\t\t\t$this.addClass('responsive-cloned-item').attr('data-clone-index', i);\r\n\t\t\tnav.canToggle = nav.canToggle.add($this);\r\n\t\t\tnav.itemCount ++;\r\n\t\t});\r\n\t\tnav.contents.find('a.nav-link').removeClass('nav-link');\r\n\t\tnav.responsiveClones = nav.contents.children('.responsive-clone').hide();\r\n\r\n\t\tnav.initialized = true;\r\n\t}\r\n\r\n\tfunction check(nav, force)\r\n\t{\r\n\t\tvar containerWidth, total, width, menuWidth, hiding;\r\n\r\n\t\t// Setup navigation\r\n\t\tif (!nav.initialized) {\r\n\t\t\tinit(nav);\r\n\t\t\tforce = true;\r\n\t\t}\r\n\r\n\t\tif (!nav.itemCount) {\r\n\t\t\t// Nothing to hide\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\t// Check width\r\n\t\tcontainerWidth = nav.container.width();\r\n\t\tif (!force && containerWidth == nav.lastWidth) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tnav.lastWidth = containerWidth;\r\n\r\n\t\t// Show all items\r\n\t\tif (nav.responsive) {\r\n\t\t\tnav.canToggle.show();\r\n\t\t\tnav.responsiveClones.hide();\r\n\t\t\tnav.menu.removeClass('showing-responsive-menu');\r\n\t\t\tif (!nav.alwaysShowMenu) {\r\n\t\t\t\tnav.menu.show();\r\n\t\t\t}\r\n\t\t}\r\n\t\tnav.responsive = false;\r\n\t\tmenuWidth = nav.menu.outerWidth(true);\r\n\t\twidth = menuWidth;\r\n\r\n\t\t// Count width of all items that cannot be hidden\r\n\t\tnav.noToggle.each(function() {\r\n\t\t\tvar $this = $(this);\r\n\t\t\tif ($this.is(':visible')) {\r\n\t\t\t\twidth += $this.outerWidth(true);\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\t// Test all other items\r\n\t\thiding = (width >= containerWidth);\r\n\t\tnav.canToggle.each(function() {\r\n\t\t\tvar $this = $(this),\r\n\t\t\t\titemWidth, margin;\r\n\r\n\t\t\tif (!$this.is(':visible')) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tif (!hiding) {\r\n\t\t\t\titemWidth = $this.outerWidth(true);\r\n\t\t\t\tif (!itemWidth) {\r\n\t\t\t\t\t$this.hide();\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\twidth += itemWidth;\r\n\t\t\t\tif (width >= containerWidth) {\r\n\t\t\t\t\thiding = true;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tif (hiding) {\r\n\t\t\t\t$this.hide();\r\n\t\t\t\tnav.responsiveClones.filter('.responsive-index-' + $this.attr('data-clone-index')).show();\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tnav.responsive = hiding;\r\n\t\tif (!hiding && !nav.alwaysShowMenu) {\r\n\t\t\tnav.menu.hide();\r\n\t\t}\r\n\t\telse if (hiding) {\r\n\t\t\tnav.menu.addClass('showing-responsive-menu');\r\n\t\t}\r\n\t}\r\n\r\n\tfor (var i=0; i<styleConfig._responsiveNavigation.length; i++) {\r\n\t\tcheck(styleConfig._responsiveNavigation[i], force);\r\n\t}\r\n}\r\n\r\nfunction initResponsiveNavigation()\r\n{\r\n\tstyleConfig._responsiveNavigation = [];\r\n\r\n\t$('.nav-tabs, .navbar.secondary').each(function() {\r\n\t\tvar $this = $(this),\r\n\t\t\tlists = $this.children('ul'),\r\n\t\t\tmenu = lists.children('.responsive-menu:first'),\r\n\t\t\talwaysShowMenu = (menu.length > 0);\r\n\r\n\t\t// Create empty hidden menu\r\n\t\tif (!menu.length) {\r\n\t\t\tif ($this.is('.nav-tabs')) {\r\n\t\t\t\t// Something went wrong - main menu must have responsive menu\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\t// Secondary menu\r\n\t\t\tlists.eq(0).prepend('<li class=\"responsive-menu dropdown-container\" style=\"display: none;\"><a href=\"#\" class=\"dropdown-trigger dropdown-toggle\"><i class=\"mdi mdi-menu\" aria-hidden=\"true\"></a>' +\r\n\t\t\t\t\t'<div class=\"dropdown hidden\">' + \r\n\t\t\t\t\t\t'<div class=\"pointer\"><div class=\"pointer-inner\"></div></div>' + \r\n\t\t\t\t\t\t'<ul class=\"dropdown-contents\" /></ul>' +\r\n\t\t\t\t\t'</div>' +\r\n\t\t\t\t'</li>');\r\n\t\t\tmenu = lists.children('.responsive-menu:first');\r\n\t\t\tphpbb.registerDropdown(menu.find('.dropdown-toggle'), menu.find('.dropdown'));\r\n\t\t}\r\n\r\n\t\tstyleConfig._responsiveNavigation.push({\r\n\t\t\tcontainer: $this,\r\n\t\t\tlists: lists,\r\n\t\t\tmenu: menu,\r\n\t\t\tinitialized: false,\r\n\t\t\talwaysShowMenu: alwaysShowMenu\r\n\t\t});\r\n\t});\r\n}\r\n\r\n/**\r\n* Parse document block\r\n*/\r\nfunction parseDocument($container) {\r\n\t'use strict';\r\n\r\n\tvar test = document.createElement('div'),\r\n\t\toldBrowser = (typeof test.style.borderRadius === 'undefined'),\r\n\t\t$body = $('body');\r\n\r\n\t/**\r\n\t* Adjust navigation tabs\r\n\t*/\r\n\t$container.find('.nav-tabs').each(function() {\r\n\t\tvar tabs = $(this).children().children();\r\n\r\n\t\t// Fix tabs structure\r\n\t\ttabs.not('.tab').each(function() {\r\n\t\t\tvar tab = $(this),\r\n\t\t\t\tclassName = tab.attr('class').split(' '),\r\n\t\t\t\ti;\r\n\t\t\ttab.attr('class', 'tab');\r\n\t\t\tfor (i=0; i<className.length; i++) {\r\n\t\t\t\tif (className[i].substr(0, 5) == 'icon-') {\r\n\t\t\t\t\ttab.addClass(className[i].substr(5));\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}).children(':first-child').addClass('nav-link');\r\n\r\n\t\t// Tooltips for tabs\r\n\t\ttabs.each(function() {\r\n\t\t\tvar $this = $(this),\r\n\t\t\t\ttitle = '';\r\n\t\t\tif (!$this.attr('title')) {\r\n\t\t\t\ttitle = $this.children('.nav-link').text().trim();\r\n\t\t\t\tif (!title.length) return;\r\n\r\n\t\t\t\t$this.children('.nav-link + strong').each(function() {\r\n\t\t\t\t\ttitle += ' (' + $(this).text().trim() + ')';\r\n\t\t\t\t});\r\n\t\t\t\t$this.attr('title', title);\r\n\t\t\t}\r\n\t\t});\r\n\t});\r\n\r\n\t/**\r\n\t* Switch selected tab\r\n\t*/\r\n\t$container.find('.nav-tabs[data-current-page]').each(function() {\r\n\t\tvar tabs = $(this),\r\n\t\t\tcurrent = tabs.attr('data-current-page'),\r\n\t\t\tfound = false,\r\n\t\t\tcontent, classes, i, key;\r\n\r\n\t\t$('.tab[data-select-match]', this).each(function() {\r\n\t\t\tvar matches = $(this).attr('data-select-match').split(','),\r\n\t\t\t\ti, match, item;\r\n\t\t\t\r\n\t\t\tfor (i=0; i<matches.length; i++) {\r\n\t\t\t\tmatch = matches[i].trim();\r\n\t\t\t\tif (current.indexOf(match) != -1) {\r\n\t\t\t\t\t// Found a match!\r\n\t\t\t\t\titem = $(this);\r\n\t\t\t\t\tif (!item.hasClass('selected')) {\r\n\t\t\t\t\t\ttabs.find('.tab.selected').removeClass('selected');\r\n\t\t\t\t\t\titem.addClass('selected');\r\n\t\t\t\t\t}\r\n\t\t\t\t\tfound = true;\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\t// Check for known extensions\r\n\t\tif (found) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tcontent = $container.find('.content.pages-content');\r\n\t\tif (content.length) {\r\n\t\t\t// Get page content class, try to find matching link\r\n\t\t\tclasses = content.prop('class').split(' ');\r\n\t\t\tfor (i = 0; i < classes.length && !found; i++) {\r\n\t\t\t\tkey = classes[i].trim();\r\n\t\t\t\tif (key !== 'content' && key !== 'pages-content') {\r\n\t\t\t\t\t$container.find('.tab.pages.' + key).each(function() {\r\n\t\t\t\t\t\ttabs.find('.tab.selected').removeClass('selected');\r\n\t\t\t\t\t\t$(this).addClass('selected');\r\n\t\t\t\t\t\tfound = true;\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (found) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\t// Get first page link\r\n\t\t\t$container.find('.tab.pages:first').each(function() {\r\n\t\t\t\ttabs.find('.tab.selected').removeClass('selected');\r\n\t\t\t\t$(this).addClass('selected');\r\n\t\t\t\tfound = true;\r\n\t\t\t});\r\n\t\t}\r\n\t});\r\n\r\n\t/**\r\n\t* Reset avatar dimensions when changing URL or EMAIL\r\n\t*/\r\n\t$container.find('input[data-reset-on-edit]').on('keyup', function() {\r\n\t\t$(this.getAttribute('data-reset-on-edit')).val('');\r\n\t});\r\n\r\n\t/**\r\n\t* Pagination\r\n\t*/\r\n\t$container.find('.pagination .page-jump-form :button').click(function() {\r\n\t\tvar $input = $(this).siblings('input.inputbox');\r\n\t\tpageJump($input);\r\n\t});\r\n\r\n\t$container.find('.pagination .page-jump-form input.inputbox').on('keypress', function(event) {\r\n\t\tif (event.which === 13 || event.keyCode === 13) {\r\n\t\t\tevent.preventDefault();\r\n\t\t\tpageJump($(this));\r\n\t\t}\r\n\t});\r\n\r\n\t$container.find('.pagination .dropdown-trigger').click(function() {\r\n\t\tvar $dropdownContainer = $(this).parent();\r\n\t\t// Wait a little bit to make sure the dropdown has activated\r\n\t\tsetTimeout(function() {\r\n\t\t\tif ($dropdownContainer.hasClass('dropdown-visible')) {\r\n\t\t\t\t$dropdownContainer.find('input.inputbox').focus();\r\n\t\t\t}\r\n\t\t}, 100);\r\n\t});\r\n\r\n\t/**\r\n\t* Adjust HTML code for IE8 and older versions\r\n\t*/\r\n\t// if (oldBrowser) {\r\n\t// \t// Fix .linklist.bulletin lists\r\n\t// \t$container\r\n\t// \t\t.find('ul.linklist.bulletin > li')\r\n\t// \t\t.filter(':first-child, .rightside:last-child')\r\n\t// \t\t.addClass('no-bulletin');\r\n\t// }\r\n\r\n\t/**\r\n\t* Resize navigation (breadcrumbs) block to keep all links on same line\r\n\t*/\r\n\t$container.find('.navlinks').each(function() {\r\n\t\tvar $this = $(this),\r\n\t\t\t$left = $this.children().not('.rightside'),\r\n\t\t\t$right = $this.children('.rightside'),\r\n\t\t\tqueued = false,\r\n\t\t\tthrottled = false;\r\n\r\n\t\tif ($left.length !== 1 || !$right.length) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tfunction resize() {\r\n\t\t\tvar width = 0,\r\n\t\t\t\tdiff = $left.outerWidth(true) - $left.width(),\r\n\t\t\t\tminWidth = Math.max($this.width() / 3, 240),\r\n\t\t\t\tmaxWidth;\r\n\r\n\t\t\tthrottled = false;\r\n\t\t\t$right.each(function() {\r\n\t\t\t\tvar $this = $(this);\r\n\t\t\t\tif ($this.is(':visible')) {\r\n\t\t\t\t\twidth += $this.outerWidth(true);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\tmaxWidth = $this.width() - width - diff;\r\n\t\t\t$left.css('max-width', Math.floor(Math.max(maxWidth, minWidth)) + 'px');\r\n\t\t}\r\n\r\n\t\tresize();\r\n\t\t$(window).resize(function() {\r\n\t\t\tif (throttled) {\r\n\t\t\t\tqueued = true;\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tresize();\r\n\t\t\t\tthrottled = true;\r\n\t\t\t\tqueued = false;\r\n\t\t\t\tsetTimeout(function() {\r\n\t\t\t\t\tthrottled = false;\r\n\t\t\t\t\tif (queued) {\r\n\t\t\t\t\t\tresize();\r\n\t\t\t\t\t}\r\n\t\t\t\t}, 250);\r\n\t\t\t}\r\n\t\t});\r\n\t});\r\n\r\n\t/**\r\n\t* Makes breadcrumbs responsive\r\n\t*/\r\n\t$container.find('.breadcrumbs:not([data-skip-responsive])').each(function() {\r\n\t\tvar $this = $(this),\r\n\t\t\t$links = $this.find('.crumb'),\r\n\t\t\tlength = $links.length,\r\n\t\t\tclasses = ['wrapped-max', 'wrapped-wide', 'wrapped-medium', 'wrapped-small', 'wrapped-tiny'],\r\n\t\t\tclassesLength = classes.length,\r\n\t\t\tmaxHeight = 0,\r\n\t\t\tlastWidth = false,\r\n\t\t\twrapped = false,\r\n\t\t\tqueued = false,\r\n\t\t\tthrottled = false;\r\n\r\n\t\t// Set tooltips\r\n\t\t$this.find('a').each(function() {\r\n\t\t\tvar $link = $(this);\r\n\t\t\t$link.attr('title', $link.text());\r\n\t\t});\r\n\r\n\t\t// Function that checks breadcrumbs\r\n\t\tfunction check() {\r\n\t\t\tvar height = $this.height(),\r\n\t\t\t\twidth;\r\n\r\n\t\t\t// Test max-width set in code for .navlinks above\r\n\t\t\twidth = parseInt($this.css('max-width'), 10);\r\n\t\t\tif (!width) {\r\n\t\t\t\twidth = $body.width();\r\n\t\t\t}\r\n\r\n\t\t\tthrottled = false;\r\n\t\t\tmaxHeight = parseInt($this.css('line-height'), 10);\r\n\t\t\t$links.each(function() {\r\n\t\t\t\tif ($(this).height() > 0) {\r\n\t\t\t\t\tmaxHeight = Math.max(maxHeight, $(this).outerHeight(true));\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\tif (height <= maxHeight) {\r\n\t\t\t\tif (!wrapped || lastWidth === false || lastWidth >= width) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tlastWidth = width;\r\n\r\n\t\t\tif (wrapped) {\r\n\t\t\t\t$this.removeClass('wrapped').find('.crumb.wrapped').removeClass('wrapped ' + classes.join(' '));\r\n\t\t\t\tif ($this.height() <= maxHeight) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\twrapped = true;\r\n\t\t\t$this.addClass('wrapped');\r\n\t\t\tif ($this.height() <= maxHeight) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tfor (var i = 0; i < classesLength; i++) {\r\n\t\t\t\tfor (var j = length - 1; j >= 0; j--) {\r\n\t\t\t\t\t$links.eq(j).addClass('wrapped ' + classes[i]);\r\n\t\t\t\t\tif ($this.height() <= maxHeight) {\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// Run function and set event\r\n\t\tcheck();\r\n\t\t$(window).resize(function() {\r\n\t\t\tif (throttled) {\r\n\t\t\t\tqueued = true;\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tcheck();\r\n\t\t\t\tthrottled = true;\r\n\t\t\t\tqueued = false;\r\n\t\t\t\tsetTimeout(function() {\r\n\t\t\t\t\tthrottled = false;\r\n\t\t\t\t\tif (queued) {\r\n\t\t\t\t\t\tcheck();\r\n\t\t\t\t\t}\r\n\t\t\t\t}, 250);\r\n\t\t\t}\r\n\t\t});\r\n\t});\r\n\r\n\t/**\r\n\t* Responsive link lists\r\n\t*/\r\n\tvar selector = '.linklist:not(.navlinks, [data-skip-responsive]),' +\r\n\t\t'.postbody .post-buttons:not([data-skip-responsive])';\r\n\t$container.find(selector).each(function() {\r\n\t\tvar $this = $(this),\r\n\t\t\tfilterSkip = '.breadcrumbs, [data-skip-responsive]',\r\n\t\t\tfilterLast = '.edit-icon, .quote-icon, [data-last-responsive]',\r\n\t\t\t$linksAll = $this.children(),\r\n\t\t\t$linksNotSkip = $linksAll.not(filterSkip), // All items that can potentially be hidden\r\n\t\t\t$linksFirst = $linksNotSkip.not(filterLast), // The items that will be hidden first\r\n\t\t\t$linksLast = $linksNotSkip.filter(filterLast), // The items that will be hidden last\r\n\t\t\tpersistent = $this.attr('id') === 'nav-main', // Does this list already have a menu (such as quick-links)?\r\n\t\t\thtml = '<li class=\"responsive-menu hidden\"><a href=\"javascript:void(0);\" class=\"responsive-menu-link\"></a><div class=\"dropdown hidden\"><div class=\"pointer\"><div class=\"pointer-inner\" /></div><ul class=\"dropdown-contents\" /></div></li>',\r\n\t\t\tslack = 3; // Vertical slack space (in pixels). Determines how sensitive the script is in determining whether a line-break has occured.\r\n\r\n\t\t// Add a hidden drop-down menu to each links list (except those that already have one)\r\n\t\tif (!persistent) {\r\n\t\t\tif ($linksNotSkip.is('.rightside')) {\r\n\t\t\t\t$linksNotSkip.filter('.rightside:first').before(html);\r\n\t\t\t\t$this.children('.responsive-menu').addClass('rightside');\r\n\t\t\t} else {\r\n\t\t\t\t$this.append(html);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// Set some object references and initial states\r\n\t\tvar $menu = $this.children('.responsive-menu'),\r\n\t\t\t$menuContents = $menu.find('.dropdown-contents'),\r\n\t\t\tpersistentContent = $menuContents.find('li:not(.separator)').length,\r\n\t\t\tlastWidth = false,\r\n\t\t\tcompact = false,\r\n\t\t\tresponsive1 = false,\r\n\t\t\tresponsive2 = false,\r\n\t\t\tcopied1 = false,\r\n\t\t\tcopied2 = false,\r\n\t\t\tmaxHeight = 0;\r\n\r\n\t\t// Find the tallest element in the list (we assume that all elements are roughly the same height)\r\n\t\t$linksAll.each(function() {\r\n\t\t\tif (!$(this).height()) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tmaxHeight = Math.max(maxHeight, $(this).outerHeight(true));\r\n\t\t});\r\n\t\tif (maxHeight < 1) {\r\n\t\t\treturn; // Shouldn't be possible, but just in case, abort\r\n\t\t} else {\r\n\t\t\tmaxHeight = maxHeight + slack;\r\n\t\t}\r\n\r\n\t\tfunction check() {\r\n\t\t\tvar width = $body.width();\r\n\t\t\t// We can't make it any smaller than this, so just skip\r\n\t\t\tif (responsive2 && compact && (width <= lastWidth)) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tlastWidth = width;\r\n\r\n\t\t\t// Reset responsive and compact layout\r\n\t\t\tif (responsive1 || responsive2) {\r\n\t\t\t\t$linksNotSkip.removeClass('hidden');\r\n\t\t\t\t$menuContents.children('.clone').addClass('hidden');\r\n\t\t\t\tresponsive1 = responsive2 = false;\r\n\t\t\t}\r\n\t\t\tif (compact) {\r\n\t\t\t\t$this.removeClass('compact');\r\n\t\t\t\tcompact = false;\r\n\t\t\t}\r\n\r\n\t\t\t// Unhide the quick-links menu if it has \"persistent\" content\r\n\t\t\tif (persistent && persistentContent) {\r\n\t\t\t\t$menu.removeClass('hidden');\r\n\t\t\t} else {\r\n\t\t\t\t$menu.addClass('hidden');\r\n\t\t\t}\r\n\r\n\t\t\t// Nothing to resize if block's height is not bigger than tallest element's height\r\n\t\t\tif ($this.height() <= maxHeight) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\t// STEP 1: Compact\r\n\t\t\tif (!compact) {\r\n\t\t\t\t$this.addClass('compact');\r\n\t\t\t\tcompact = true;\r\n\t\t\t}\r\n\t\t\tif ($this.height() <= maxHeight) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\t// STEP 2: First responsive set - compact\r\n\t\t\tif (compact) {\r\n\t\t\t\t$this.removeClass('compact');\r\n\t\t\t\tcompact = false;\r\n\t\t\t}\r\n\t\t\t// Copy the list items to the dropdown\r\n\t\t\tif (!copied1) {\r\n\t\t\t\tvar $clones1 = $linksFirst.clone();\r\n\t\t\t\t$menuContents.prepend($clones1.addClass('clone clone-first').removeClass('leftside rightside'));\r\n\r\n\t\t\t\tif ($this.hasClass('post-buttons')) {\r\n\t\t\t\t\t$('.button', $menuContents).removeClass('button icon-button');\r\n\t\t\t\t\t$('.responsive-menu-link', $menu).addClass('button icon-button').prepend('<span></span>');\r\n\t\t\t\t}\r\n\t\t\t\tcopied1 = true;\r\n\t\t\t}\r\n\t\t\tif (!responsive1) {\r\n\t\t\t\t$linksFirst.addClass('hidden');\r\n\t\t\t\tresponsive1 = true;\r\n\t\t\t\t$menuContents.children('.clone-first').removeClass('hidden');\r\n\t\t\t\t$menu.removeClass('hidden');\r\n\t\t\t}\r\n\t\t\tif ($this.height() <= maxHeight) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\t// STEP 3: First responsive set + compact\r\n\t\t\tif (!compact) {\r\n\t\t\t\t$this.addClass('compact');\r\n\t\t\t\tcompact = true;\r\n\t\t\t}\r\n\t\t\tif ($this.height() <= maxHeight) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\t// STEP 4: Last responsive set - compact\r\n\t\t\tif (!$linksLast.length) {\r\n\t\t\t\treturn; // No other links to hide, can't do more\r\n\t\t\t}\r\n\t\t\tif (compact) {\r\n\t\t\t\t$this.removeClass('compact');\r\n\t\t\t\tcompact = false;\r\n\t\t\t}\r\n\t\t\t// Copy the list items to the dropdown\r\n\t\t\tif (!copied2) {\r\n\t\t\t\tvar $clones2 = $linksLast.clone();\r\n\t\t\t\t$menuContents.prepend($clones2.addClass('clone clone-last').removeClass('leftside rightside'));\r\n\t\t\t\tcopied2 = true;\r\n\t\t\t}\r\n\t\t\tif (!responsive2) {\r\n\t\t\t\t$linksLast.addClass('hidden');\r\n\t\t\t\tresponsive2 = true;\r\n\t\t\t\t$menuContents.children('.clone-last').removeClass('hidden');\r\n\t\t\t}\r\n\t\t\tif ($this.height() <= maxHeight) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\t// STEP 5: Last responsive set + compact\r\n\t\t\tif (!compact) {\r\n\t\t\t\t$this.addClass('compact');\r\n\t\t\t\tcompact = true;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (!persistent) {\r\n\t\t\tphpbb.registerDropdown($menu.find('a.responsive-menu-link'), $menu.find('.dropdown'), false);\r\n\t\t}\r\n\r\n\t\t// If there are any images in the links list, run the check again after they have loaded\r\n\t\t$linksAll.find('img').each(function() {\r\n\t\t\t$(this).load(function() {\r\n\t\t\t\tcheck();\r\n\t\t\t});\r\n\t\t});\r\n\r\n\t\tcheck();\r\n\t\t$(window).resize(check);\r\n\t});\r\n\r\n\t/**\r\n\t* Fix container for messages\r\n\t*/\r\n\t$container.find('.postbody').each(function() {\r\n\t\tvar $this = $(this),\r\n\t\t\tchildren = $this.children();\r\n\r\n\t\tif (children.length == 1 && children.is('div')) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\t$this.wrapInner('<div class=\"postbody-inner\" />');\r\n\t});\r\n\r\n\t/**\r\n\t* Adjust post z-index for post profiles for all posts\r\n\t*/\r\n\t$('.postprofile').each(function(i) {\r\n\t\tvar z = Math.max(28 - i, 2);\r\n\t\t$(this).css('z-index', z);\r\n\t});\r\n\r\n\t/**\r\n\t* Do not run functions below for old browsers\r\n\t*/\r\n\tif (oldBrowser) {\r\n\t\treturn;\r\n\t}\r\n\r\n\t/**\r\n\t* Adjust topiclist lists with check boxes\r\n\t*/\r\n\t$container.find('ul.topiclist dd.mark').siblings('dt').children('.list-inner').addClass('with-mark');\r\n\r\n\t/**\r\n\t* Appends contents of all extra columns to first column in\r\n\t* .topiclist lists for mobile devices. Copies contents as is.\r\n\t*\r\n\t* To add that functionality to .topiclist list simply add\r\n\t* responsive-show-all to list of classes\r\n\t*/\r\n\t$container.find('.topiclist.responsive-show-all > li > dl').each(function() {\r\n\t\tvar $this = $(this),\r\n\t\t\t$block = $this.find('dt .responsive-show:last-child'),\r\n\t\t\tfirst = true;\r\n\r\n\t\t// Create block that is visible only on mobile devices\r\n\t\tif (!$block.length) {\r\n\t\t\t$this.find('dt > .list-inner').append('<div class=\"responsive-show\" style=\"display:none;\" />');\r\n\t\t\t$block = $this.find('dt .responsive-show:last-child');\r\n\t\t} else {\r\n\t\t\tfirst = ($.trim($block.text()).length === 0);\r\n\t\t}\r\n\r\n\t\t// Copy contents of each column\r\n\t\t$this.find('dd').not('.mark').each(function() {\r\n\t\t\tvar column = $(this),\r\n\t\t\t\t$children = column.children(),\r\n\t\t\t\thtml = column.html();\r\n\r\n\t\t\tif ($children.length === 1 && $children.text() === column.text()) {\r\n\t\t\t\thtml = $children.html();\r\n\t\t\t}\r\n\r\n\t\t\t$block.append((first ? '' : '<br />') + html);\r\n\r\n\t\t\tfirst = false;\r\n\t\t});\r\n\t});\r\n\r\n\t/**\r\n\t* Same as above, but prepends text from header to each\r\n\t* column before contents of that column.\r\n\t*\r\n\t* To add that functionality to .topiclist list simply add\r\n\t* responsive-show-columns to list of classes\r\n\t*/\r\n\t$container.find('.topiclist.responsive-show-columns').each(function() {\r\n\t\tvar $list = $(this),\r\n\t\t\theaders = [],\r\n\t\t\theadersLength = 0;\r\n\r\n\t\t// Find all headers, get contents\r\n\t\t$list.prev('.topiclist').find('li.header dd').not('.mark').each(function() {\r\n\t\t\theaders.push($(this).text());\r\n\t\t\theadersLength++;\r\n\t\t});\r\n\r\n\t\tif (!headersLength) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\t// Parse each row\r\n\t\t$list.find('dl').each(function() {\r\n\t\t\tvar $this = $(this),\r\n\t\t\t\t$block = $this.find('dt .responsive-show:last-child'),\r\n\t\t\t\tfirst = true;\r\n\r\n\t\t\t// Create block that is visible only on mobile devices\r\n\t\t\tif (!$block.length) {\r\n\t\t\t\t$this.find('dt > .list-inner').append('<div class=\"responsive-show\" style=\"display:none;\" />');\r\n\t\t\t\t$block = $this.find('dt .responsive-show:last-child');\r\n\t\t\t} else {\r\n\t\t\t\tfirst = ($.trim($block.text()).length === 0);\r\n\t\t\t}\r\n\r\n\t\t\t// Copy contents of each column\r\n\t\t\t$this.find('dd').not('.mark').each(function(i) {\r\n\t\t\t\tvar column = $(this),\r\n\t\t\t\t\tchildren = column.children(),\r\n\t\t\t\t\thtml = column.html();\r\n\r\n\t\t\t\tif (children.length === 1 && children.text() === column.text()) {\r\n\t\t\t\t\thtml = children.html();\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Prepend contents of matching header before contents of column\r\n\t\t\t\tif (i < headersLength) {\r\n\t\t\t\t\thtml = headers[i] + ': <strong>' + html + '</strong>';\r\n\t\t\t\t}\r\n\r\n\t\t\t\t$block.append((first ? '' : '<br />') + html);\r\n\r\n\t\t\t\tfirst = false;\r\n\t\t\t});\r\n\t\t});\r\n\t});\r\n\r\n\t/**\r\n\t* Responsive tables\r\n\t*/\r\n\t$container.find('table.table1').not('.not-responsive').each(function() {\r\n\t\tvar $this = $(this),\r\n\t\t\t$th = $this.find('thead > tr > th'),\r\n\t\t\theaders = [],\r\n\t\t\ttotalHeaders = 0,\r\n\t\t\ti, headersLength;\r\n\r\n\t\t// Find each header\r\n\t\t$th.each(function(column) {\r\n\t\t\tvar cell = $(this),\r\n\t\t\t\tcolspan = parseInt(cell.attr('colspan'), 10),\r\n\t\t\t\tdfn = cell.attr('data-dfn'),\r\n\t\t\t\ttext = dfn ? dfn : cell.text();\r\n\r\n\t\t\tcolspan = isNaN(colspan) || colspan < 1 ? 1 : colspan;\r\n\r\n\t\t\tfor (i = 0; i < colspan; i++) {\r\n\t\t\t\theaders.push(text);\r\n\t\t\t}\r\n\t\t\ttotalHeaders++;\r\n\r\n\t\t\tif (dfn && !column) {\r\n\t\t\t\t$this.addClass('show-header');\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\theadersLength = headers.length;\r\n\r\n\t\t// Add header text to each cell as <dfn>\r\n\t\t$this.addClass('responsive');\r\n\r\n\t\tif (totalHeaders < 2) {\r\n\t\t\t$this.addClass('show-header');\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\t$this.find('tbody > tr').each(function() {\r\n\t\t\tvar row = $(this),\r\n\t\t\t\tcells = row.children('td'),\r\n\t\t\t\tcolumn = 0;\r\n\r\n\t\t\tif (cells.length === 1) {\r\n\t\t\t\trow.addClass('big-column');\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tcells.each(function() {\r\n\t\t\t\tvar cell = $(this),\r\n\t\t\t\t\tcolspan = parseInt(cell.attr('colspan'), 10),\r\n\t\t\t\t\ttext = $.trim(cell.text());\r\n\r\n\t\t\t\tif (headersLength <= column) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ((text.length && text !== '-') || cell.children().length) {\r\n\t\t\t\t\tcell.prepend('<dfn style=\"display: none;\">' + headers[column] + '</dfn>');\r\n\t\t\t\t} else {\r\n\t\t\t\t\tcell.addClass('empty');\r\n\t\t\t\t}\r\n\r\n\t\t\t\tcolspan = isNaN(colspan) || colspan < 1 ? 1 : colspan;\r\n\t\t\t\tcolumn += colspan;\r\n\t\t\t});\r\n\t\t});\r\n\t});\r\n\r\n\t/**\r\n\t* Hide empty responsive tables\r\n\t*/\r\n\t$container.find('table.responsive > tbody').not('.responsive-skip-empty').each(function() {\r\n\t\tvar $items = $(this).children('tr');\r\n\t\tif (!$items.length) {\r\n\t\t\t$(this).parent('table:first').addClass('responsive-hide');\r\n\t\t}\r\n\t});\r\n\r\n\t/**\r\n\t* Responsive tabs\r\n\t*/\r\n\t$container.find('#tabs, #minitabs').not('[data-skip-responsive]').each(function() {\r\n\t\tvar $this = $(this),\r\n\t\t\t$ul = $this.children(),\r\n\t\t\t$tabs = $ul.children().not('[data-skip-responsive]'),\r\n\t\t\t$links = $tabs.children('a'),\r\n\t\t\t$item = $ul.append('<li class=\"tab responsive-tab\" style=\"display:none;\"><a href=\"javascript:void(0);\" class=\"responsive-tab-link\">&nbsp;</a><div class=\"dropdown tab-dropdown\" style=\"display: none;\"><div class=\"pointer\"><div class=\"pointer-inner\" /></div><ul class=\"dropdown-contents\" /></div></li>').find('li.responsive-tab'),\r\n\t\t\t$menu = $item.find('.dropdown-contents'),\r\n\t\t\tmaxHeight = 0,\r\n\t\t\tlastWidth = false,\r\n\t\t\tresponsive = false;\r\n\r\n\t\t$links.each(function() {\r\n\t\t\tvar $this = $(this);\r\n\t\t\tmaxHeight = Math.max(maxHeight, Math.max($this.outerHeight(true), $this.parent().outerHeight(true)));\r\n\t\t});\r\n\r\n\t\tfunction check() {\r\n\t\t\tvar width = $body.width(),\r\n\t\t\t\theight = $this.height();\r\n\r\n\t\t\tif (!arguments.length && (!responsive || width <= lastWidth) && height <= maxHeight) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\t$tabs.show();\r\n\t\t\t$item.hide();\r\n\r\n\t\t\tlastWidth = width;\r\n\t\t\theight = $this.height();\r\n\t\t\tif (height <= maxHeight) {\r\n\t\t\t\tif ($item.hasClass('dropdown-visible')) {\r\n\t\t\t\t\tphpbb.toggleDropdown.call($item.find('a.responsive-tab-link').get(0));\r\n\t\t\t\t}\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tresponsive = true;\r\n\t\t\t$item.show();\r\n\t\t\t$menu.html('');\r\n\r\n\t\t\tvar $availableTabs = $tabs.filter(':not(.activetab, .responsive-tab)'),\r\n\t\t\t\ttotal = $availableTabs.length,\r\n\t\t\t\ti, $tab;\r\n\r\n\t\t\tfor (i = total - 1; i >= 0; i--) {\r\n\t\t\t\t$tab = $availableTabs.eq(i);\r\n\t\t\t\t$menu.prepend($tab.clone(true).removeClass('tab'));\r\n\t\t\t\t$tab.hide();\r\n\t\t\t\tif ($this.height() <= maxHeight) {\r\n\t\t\t\t\t$menu.find('a').click(function() {\r\n\t\t\t\t\t\tcheck(true);\r\n\t\t\t\t\t});\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t$menu.find('a').click(function() {\r\n\t\t\t\tcheck(true);\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\tvar $tabLink = $item.find('a.responsive-tab-link');\r\n\t\tphpbb.registerDropdown($tabLink, $item.find('.dropdown'), {\r\n\t\t\tvisibleClass: 'activetab'\r\n\t\t});\r\n\r\n\t\tcheck(true);\r\n\t\t$(window).resize(check);\r\n\t});\r\n\r\n\t/**\r\n\t * Hide UCP/MCP navigation if there is only 1 item\r\n\t */\r\n\t$container.find('#navigation').each(function() {\r\n\t\tvar $items = $(this).children('ol, ul').children('li');\r\n\t\tif ($items.length === 1) {\r\n\t\t\t$(this).addClass('responsive-hide');\r\n\t\t}\r\n\t});\r\n\r\n\t/**\r\n\t* Replace responsive text\r\n\t*/\r\n\t$container.find('[data-responsive-text]').each(function() {\r\n\t\tvar $this = $(this),\r\n\t\t\tfullText = $this.text(),\r\n\t\t\tresponsiveText = $this.attr('data-responsive-text'),\r\n\t\t\tresponsive = false;\r\n\r\n\t\tfunction check() {\r\n\t\t\tif ($(window).width() > 700) {\r\n\t\t\t\tif (!responsive) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\t$this.text(fullText);\r\n\t\t\t\tresponsive = false;\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tif (responsive) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\t$this.text(responsiveText);\r\n\t\t\tresponsive = true;\r\n\t\t}\r\n\r\n\t\tcheck();\r\n\t\t$(window).resize(check);\r\n\t});\r\n\r\n\t/**\r\n\t* Static navigation\r\n\t*/\r\n\tif (styleConfig.staticNavigation) {\r\n\t\t$container.find('.navbar.tabbed > .inner').each(function(i) {\r\n\t\t\tvar nav = this,\r\n\t\t\t\tnavigation = $(nav),\r\n\t\t\t\tisStatic = false,\r\n\t\t\t\tparent = navigation.parent(),\r\n\t\t\t\tinner,\r\n\t\t\t\t$w = $(window),\r\n\t\t\t\tminTopPosition = 0,\r\n\t\t\t\tminWidth = styleConfig.staticNavigationMinWidth,\r\n\t\t\t\tminHeight = styleConfig.staticNavigationMinHeight,\r\n\t\t\t\twindowWidth,\r\n\t\t\t\tqueued = false,\r\n\t\t\t\tthrottled = false,\r\n\t\t\t\tnavbarBox = $('.inner.page-width.card'),\r\n\t\t\t\theaderBox = $('#page-header-box.card'),\r\n\t\t\t\tbreakLine = 0,\r\n\t\t\t\tcurrOffset = 0,\r\n\t\t\t\tprevOffset = 0;\r\n\t\t\t\r\n\t\t\tfunction enableStatic()\r\n\t\t\t{\r\n\t\t\t\t$('#page-header-box').css('padding-top', Math.floor(navigation.height()) + 'px');\r\n\t\t\t\tnavigation.addClass('static');\r\n\t\t\t\tparent.removeClass('not-static');\r\n\t\t\t\tisStatic = true;\r\n\t\t\t\tcheckNavigation(true);\r\n\t\t\t}\r\n\r\n\t\t\tfunction disableStatic()\r\n\t\t\t{\r\n\t\t\t\t$('#page-header-box').css('padding-top', 0);\r\n\t\t\t\tnavbarBox.attr('data-card', 0);\r\n\t\t\t\theaderBox.attr('data-card', 1);\r\n\t\t\t\tnavigation.removeClass('static');\r\n\t\t\t\tparent.addClass('not-static');\r\n\t\t\t\tisStatic = false;\r\n\t\t\t\tcheckNavigation(true);\r\n\t\t\t}\r\n\r\n\t\t\tfunction testHash()\r\n\t\t\t{\r\n\t\t\t\tvar hash = (window.location.hash) ? window.location.hash : '';\r\n\t\t\t\tif (!hash)\r\n\t\t\t\t{\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\twindow.scrollTo($w.scrollLeft(), $w.scrollTop() - navigation.height());\r\n\t\t\t}\r\n\r\n\t\t\tfunction check(checkHash)\r\n\t\t\t{\r\n\t\t\t\tvar windowTop = 0,\r\n\t\t\t\t\twindowWidth = Math.floor($w.width()),\r\n\t\t\t\t\ttop;\r\n\r\n\t\t\t\tif (windowWidth < minWidth || $w.height() < minHeight) {\r\n\t\t\t\t\tif (isStatic) {\r\n\t\t\t\t\t\tdisableStatic();\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tif (!isStatic)\r\n\t\t\t\t{\r\n\t\t\t\t\t//navHeight = navigation.height();\r\n\t\t\t\t\ttop = nav.getBoundingClientRect().top;\r\n\t\t\t\t\tif (top > 0) {\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tminTopPosition = $w.scrollTop() + top;\r\n\t\t\t\t\tenableStatic();\r\n\t\t\t\t\tif (checkHash) {\r\n\t\t\t\t\t\ttestHash();\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tif ($w.scrollTop() < minTopPosition) {\r\n\t\t\t\t\tdisableStatic();\r\n\t\t\t\t} else if (checkHash) {\r\n\t\t\t\t\ttestHash();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t$w.on('scroll resize', function() { \r\n\t\t\t\tif (!isStatic) {\r\n\t\t\t\t\tcheck(false);\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tif (!throttled) {\r\n\t\t\t\t\t\tcheck(false);\r\n\t\t\t\t\t\tthrottled = true;\r\n\t\t\t\t\t\tqueued = false;\r\n\t\t\t\t\t\tsetTimeout(function() {\r\n\t\t\t\t\t\t\tthrottled = false;\r\n\t\t\t\t\t\t\tif (queued) {\r\n\t\t\t\t\t\t\t\tcheck(false);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}, 250);\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse {\r\n\t\t\t\t\t\tqueued = true;\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\t/**\r\n\t\t\t\t\t * Smooth transition shadow box from header to navbar\r\n\t\t\t\t\t * ---      k911@elektryczny.tk  2016           ---\r\n\t\t\t\t\t */\r\n\t\t\t\t\tcurrOffset = $w.scrollTop();\r\n\t\t\t\t\tbreakLine = headerBox.height();\r\n\t\t\t\t\tif(Math.abs(currOffset - prevOffset) > Math.abs(breakLine - prevOffset)) {\r\n\t\t\t\t\t\tif(currOffset < breakLine) {\r\n\t\t\t\t\t\t\tnavbarBox.attr('data-card', 0);\r\n\t\t\t\t\t\t\theaderBox.attr('data-card', 1);\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tnavbarBox.attr('data-card', 1);\r\n\t\t\t\t\t\t\theaderBox.attr('data-card', 0);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tprevOffset = currOffset;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\t$w.on('load', function() { check(true); });\r\n\t\t\t$w.on('hashchange', function() { check(true); });\r\n\t\t});\r\n\t}\r\n\r\n\t/**\r\n\t* Empty last post column\r\n\t*/\r\n\t$container.find('dd.lastpost > span:only-child > br:only-child').parents('dd.lastpost').addClass('empty');\r\n\t\r\n\t/**\r\n\t* Spoiler  la wykop.pl\r\n\t* Usage:\r\n\t* \t| <a href=\"#\" class=\"spoiler\">poka spoiler</a>\r\n\t*\t| <code class=\"spoiler\">{TEXT}</code>\r\n\t*/\r\n\t$('a.spoiler').click(function(e) {\r\n\t\te.preventDefault();\r\n\t\t$(this).next('div.spoiler').show();\r\n\t\t$(this).hide();\r\n\t});\r\n\t\r\n\t/**\r\n\t* HD images\r\n\t*/\r\n\tif (window.matchMedia && window.matchMedia('(-webkit-min-device-pixel-ratio: 2), (min-resolution: 192dpi), (min-resolution: 1.5dppx)').matches) {\r\n\t\t$container.find('img[data-src-hd]').each(function() {\r\n\t\t\tvar img = this,\r\n\t\t\t\t$this = $(this),\r\n\t\t\t\thdImage = new Image(),\r\n\t\t\t\thdLoaded = false,\r\n\t\t\t\tnormalLoaded = false;\r\n\r\n\t\t\tfunction replaceImage() \r\n\t\t\t{\r\n\t\t\t\t$this.css('width', (img.naturalWidth ? img.naturalWidth : img.width) + 'px');\r\n\t\t\t\timg.setAttribute('src', img.getAttribute('data-src-hd'));\r\n\t\t\t}\r\n\r\n\t\t\tif (img.complete) {\r\n\t\t\t\tnormalLoaded = true;\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\timg.onload = function() {\r\n\t\t\t\t\tif (normalLoaded) {\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tnormalLoaded = true;\r\n\t\t\t\t\tif (hdLoaded) {\r\n\t\t\t\t\t\treplaceImage();\r\n\t\t\t\t\t}\r\n\t\t\t\t};\r\n\t\t\t}\r\n\r\n\t\t\thdImage.onload = function() {\r\n\t\t\t\thdLoaded = true;\r\n\t\t\t\tif (normalLoaded) {\r\n\t\t\t\t\treplaceImage();\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t\thdImage.src = img.getAttribute('data-src-hd');\r\n\t\t});\r\n\t}\r\n\r\n\t/**\r\n\t* Split buttons\r\n\t*/\r\n\t$container.find('div.buttons a.button.icon-button').each(function() {\r\n\t\tvar $this = $(this),\r\n\t\t\twords;\r\n\r\n\t\tif ($this.children().length) return;\r\n\r\n\t\twords = $this.text().trim().split(' ');\r\n\t\tif (words.length > 1) {\r\n\t\t\t$this.text(words.shift() + ' ').append('<strong />');\r\n\t\t\t$this.find('strong').text(words.join(' '));\r\n\t\t}\r\n\t});\r\n\r\n\t/**\r\n\t* Add online status\r\n\t*/\r\n\t$('#phpbb.can-transform[data-online-text]').each(function() {\r\n\t\tvar text = $(this).attr('data-online-text');\r\n\r\n\t\t$container.find('.online').each(function() {\r\n\t\t\tvar $this = $(this);\r\n\r\n\t\t\t$this.css('position', 'relative').append('<span class=\"online-ribbon\"><span>' + text + '</span><span>' + text + '</span></span>');\r\n\t\t});\r\n\t});\r\n\r\n\t/**\r\n\t* Extend poster profile\r\n\t*/\r\n\tif (styleConfig._loaded) {\r\n\t\t$container.find('.postprofile + .postbody > div:only-child').each(function() {\r\n\t\t\tadjustPosterProfile($(this));\r\n\t\t});\r\n\t}\r\n\r\n\t/**\r\n\t* Collapse forums\r\n\t*/\r\n\tif (styleConfig.collapseForums) {\r\n\t\t$container.find('.forabg li.header').each(function() {\r\n\t\t\tvar $this = $(this),\r\n\t\t\t\tforum = $this.parent().next('ul.forums'),\r\n\t\t\t\tid = 0,\r\n\t\t\t\ttoggled = false,\r\n\t\t\t\ttoggle;\r\n\r\n\t\t\tif (forum.length != 1) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\t// Find category id\r\n\t\t\t$('a[data-id]', $this).each(function() {\r\n\t\t\t\tid = parseInt(this.getAttribute('data-id'));\r\n\t\t\t});\r\n\t\t\tif (!id) {\r\n\t\t\t\tforum.find('.forumtitle[data-id]:first').each(function() {\r\n\t\t\t\t\tid = parseInt(this.getAttribute('data-id'));\r\n\t\t\t\t\tif (!isNaN(id)) {\r\n\t\t\t\t\t\tid = 'f' + id;\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\tif (!id) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\t// Add toggle code\r\n\t\t\t$this.append('<a class=\"forum-toggle\" href=\"#\"></a>');\r\n\t\t\ttoggle = $this.find('.forum-toggle');\r\n\t\t\ttoggle.click(function(event) {\r\n\t\t\t\tevent.preventDefault();\r\n\t\t\t\tif (toggled) {\r\n\t\t\t\t\tforum.stop(true, true).slideDown(200);\r\n\t\t\t\t\ttoggled = false;\r\n\t\t\t\t\ttoggle.removeClass('toggled');\r\n\t\t\t\t\tphpbb.deleteCookie('toggled-' + id, styleConfig.cookieConfig);\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tforum.stop(true, true).slideUp(200);\r\n\t\t\t\ttoggled = true;\r\n\t\t\t\ttoggle.addClass('toggled');\r\n\t\t\t\tphpbb.setCookie('toggled-' + id, '1', styleConfig.cookieConfig);\r\n\t\t\t});\r\n\r\n\t\t\t// Check default state\r\n\t\t\tif (phpbb.getCookie('toggled-' + id, styleConfig.cookieConfig) == '1') {\r\n\t\t\t\tforum.stop(true, true).slideUp(0);\r\n\t\t\t\ttoggled = true;\r\n\t\t\t\ttoggle.addClass('toggled');\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n}\r\n\r\n/**\r\n* Run onload functions\r\n*/\r\njQuery(function($) {\r\n\t'use strict';\r\n\r\n\tfunction processResizeEvent()\r\n\t{\r\n\t\tstyleConfig._resizeThrottled = false;\r\n\r\n\t\tcheckNavigation(false);\r\n\r\n\t\tif (styleConfig.extendPosterProfile) {\r\n\t\t\t$('.postprofile + .postbody > div:only-child').each(function() {\r\n\t\t\t\tadjustPosterProfile($(this));\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n\tvar transforms = ['transform', 'webkitTransform', 'msTransform'],\r\n\t\ti, test;\r\n\r\n\t// Cookie configuration\r\n\tstyleConfig.cookieConfig = {\r\n\t\tprefix: '',\r\n\t\tpath: '/',\r\n\t\texpires: new Date()\r\n\t};\r\n\tstyleConfig.cookieConfig.expires.setFullYear(styleConfig.cookieConfig.expires.getFullYear() + 1);\r\n\r\n\t// Swap .nojs and .hasjs\r\n\t$('#phpbb.nojs').toggleClass('nojs hasjs');\r\n\t$('#phpbb').toggleClass('hastouch', phpbb.isTouch);\r\n\t$('#phpbb.hastouch').removeClass('notouch');\r\n\r\n\t// Focus forms\r\n\t$('form[data-focus]:first').each(function() {\r\n\t\t$('#' + this.getAttribute('data-focus')).focus();\r\n\t});\r\n\r\n\t// Check for transformations\r\n\ttest = $('#phpbb').get(0);\r\n\tfor (i=0; i<transforms.length; i++) {\r\n\t\tif (typeof(test.style[transforms[i]]) != 'undefined') {\r\n\t\t\t$('#phpbb').addClass('can-transform');\r\n\t\t\tbreak;\r\n\t\t}\r\n\t}\r\n\r\n\t// Cookies\r\n\tphpbb.setCookie = function(name, value, config) {\r\n\t\tconfig = $.extend({\r\n\t\t\tprefix: '',\r\n\t\t\tpath: '/'\r\n\t\t}, typeof config === 'object' ? config : {});\r\n\r\n\t\tdocument.cookie = config.prefix + name + '=' + encodeURIComponent(value)\r\n\t\t\t+ (config.expires === undefined ? '' : ';expires=' + config.expires.toUTCString())\r\n\t\t\t+ (config.path  ? ';path=' + config.path : '')\r\n\t\t\t+ (config.domain ? ';domain=' + config.domain : '');\r\n\r\n\t\treturn value;\r\n\t};\r\n\r\n\tphpbb.getCookie = function(name, config) {\r\n\t\tvar expr, cookie;\r\n\r\n\t\tconfig = $.extend({\r\n\t\t\tprefix: '',\r\n\t\t\tpath: '/'\r\n\t\t}, typeof config === 'object' ? config : {});\r\n\r\n\t\texpr = new RegExp('(^| )' + config.prefix + name + '=([^;]+)(;|$)');\r\n\t\tcookie = expr.exec(document.cookie);\r\n\r\n\t\tif (cookie)\r\n\t\t{\r\n\t\t\treturn decodeURIComponent(cookie[2]);\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\treturn null;\r\n\t\t}\r\n\t};\r\n\r\n\tphpbb.deleteCookie = function(name, config) {\r\n\t\tconfig = $.extend({\r\n\t\t\tprefix: '',\r\n\t\t\tpath: '/'\r\n\t\t}, typeof config === 'object' ? config : {});\r\n\r\n\t\tdocument.cookie = config.prefix + name + '='\r\n\t\t\t+ (config.path  ? '; path=' + config.path : '')\r\n\t\t\t+ (config.domain ? '; domain=' + config.domain : '')\r\n\t\t\t+ '; expires=Thu, 01-Jan-70 00:00:01 GMT';\r\n\r\n\t\treturn null;\r\n\t};\r\n\r\n\t// Responsive navigation\r\n\tinitResponsiveNavigation();\r\n\r\n\t// Parse body\r\n\tparseDocument($('body'));\r\n\r\n\t// Check responsive navigation\r\n\tcheckNavigation(true);\r\n\r\n\t// Events\r\n\tstyleConfig._loaded = true;\r\n\tstyleConfig._resizeThrottled = false;\r\n\tstyleConfig._resizeQueued = false;\r\n\r\n\t$(window).load(function() {\r\n\t\tcheckNavigation(true);\r\n\t\tif (styleConfig.extendPosterProfile) {\r\n\t\t\t$('.postprofile + .postbody > div:only-child').each(function() {\r\n\t\t\t\tadjustPosterProfile($(this));\r\n\t\t\t});\r\n\t\t}\r\n\t});\r\n\r\n\t$(window).resize(function() {\r\n\t\tif (!styleConfig._resizeThrottled) {\r\n\t\t\tprocessResizeEvent();\r\n\t\t\tstyleConfig._resizeThrottled = true;\r\n\t\t\tstyleConfig._resizeQueued = false;\r\n\t\t\tsetTimeout(function() {\r\n\t\t\t\tstyleConfig._resizeThrottled = false;\r\n\t\t\t\tif (styleConfig._resizeQueued) {\r\n\t\t\t\t\tprocessResizeEvent();\r\n\t\t\t\t}\r\n\t\t\t}, 500);\r\n\t\t} else {\r\n\t\t\tstyleConfig._resizeQueued = true;\r\n\t\t}\r\n\t});\r\n});\r\n"]}