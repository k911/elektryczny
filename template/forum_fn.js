function find_username(e){"use strict";return popup(e,760,570,"_usersearch"),!1}function popup(e,t,n,i){"use strict";return i||(i="_popup"),window.open(e.replace(/&amp;/g,"&"),i,"height="+n+",resizable=yes,scrollbars=yes, width="+t),!1}function pageJump(e){"use strict";var t=parseInt(e.val(),10),n=e.attr("data-per-page"),i=e.attr("data-base-url"),s=e.attr("data-start-name");null!==t&&!isNaN(t)&&t===Math.floor(t)&&t>0&&(i.indexOf("?")===-1?document.location.href=i+"?"+s+"="+(t-1)*n:document.location.href=i.replace(/&amp;/g,"&")+"&"+s+"="+(t-1)*n)}function marklist(e,t,n){"use strict";jQuery("#"+e+" input[type=checkbox][name]").each(function(){var e=jQuery(this);e.attr("name").substr(0,t.length)===t&&e.prop("checked",n)})}function viewableArea(e,t){"use strict";e&&(t||(e=e.parentNode),e.vaHeight?(e.style.height=e.vaHeight+"px",e.style.overflow="auto",e.style.maxHeight=e.vaMaxHeight,e.vaHeight=!1):(e.vaHeight=e.offsetHeight,e.vaMaxHeight=e.style.maxHeight,e.style.height="auto",e.style.maxHeight="none",e.style.overflow="visible"))}function activateSubPanel(e,t){"use strict";var n,i;for("string"==typeof e&&(i=e),$('input[name="show_panel"]').val(i),"undefined"==typeof t&&(t=jQuery(".sub-panels a[data-subpanel]").map(function(){return this.getAttribute("data-subpanel")})),n=0;n<t.length;n++)jQuery("#"+t[n]).css("display",t[n]===i?"block":"none"),jQuery("#"+t[n]+"-tab").toggleClass("activetab",t[n]===i)}function selectCode(e){"use strict";var t,n,i=e.parentNode.parentNode.getElementsByTagName("CODE")[0];if(window.getSelection)if(t=window.getSelection(),t.setBaseAndExtent){var s=i.innerText.length>1?i.innerText.length-1:1;try{t.setBaseAndExtent(i,0,i,s)}catch(e){n=document.createRange(),n.selectNodeContents(i),t.removeAllRanges(),t.addRange(n)}}else window.opera&&"<BR>"===i.innerHTML.substring(i.innerHTML.length-4)&&(i.innerHTML=i.innerHTML+"&nbsp;"),n=document.createRange(),n.selectNodeContents(i),t.removeAllRanges(),t.addRange(n);else document.getSelection?(t=document.getSelection(),n=document.createRange(),n.selectNodeContents(i),t.removeAllRanges(),t.addRange(n)):document.selection&&(n=document.body.createTextRange(),n.moveToElementText(i),n.select())}function play_qt_file(e){"use strict";var t,n,i=e.GetRectangle();if(i){i=i.split(",");var s=parseInt(i[0],10),a=parseInt(i[2],10),o=parseInt(i[1],10),r=parseInt(i[3],10);t=s<0?s*-1+a:a-s,n=o<0?o*-1+r:r-o}else t=200,n=0;e.width=t,e.height=n+16,e.SetControllerVisible(!0),e.Play()}function phpbbCheckKey(e){"use strict";return!e.keyCode||40!==e.keyCode&&38!==e.keyCode||(inAutocomplete=!0),!inAutocomplete||lastKeyEntered&&lastKeyEntered!==e.which?13!==e.which&&(lastKeyEntered=e.which,!0):(inAutocomplete=!1,!0)}function insertUser(e,t){"use strict";var n=jQuery(e),i=n.attr("data-form-name"),s=n.attr("data-field-name"),a=opener.document.forms[i][s];a.value.length&&"textarea"===a.type&&(t=a.value+"\n"+t),a.value=t}function insert_marked_users(e,t){"use strict";for(var n=0;n<t.length;n++)t[n].checked&&insertUser(e,t[n].value);window.close()}function insert_single_user(e,t){"use strict";insertUser(e,t),window.close()}function adjustPosterProfile(e){function t(){n.removeClass("resized").css("min-height","")}var n=e.parent().prev(),i=n.parent(),s=n.hasClass("resized");return i.width()<n.width()+e.width()?(s&&t(),!1):(s&&n.css("min-height",""),void n.css("min-height",Math.floor(e.height())+"px").addClass("resized"))}function checkNavigation(e){function t(e){e.responsive=!1,e.lastWidth=0,e.itemCount=0,e.contents=e.menu.find(".dropdown-contents:first"),e.canToggle=$(),e.noToggle=$(),e.contents.children(".separator:last-child").hide(),e.items=e.lists.children().not(e.menu).each(function(t){var n,i=$(this);return i.is(".not-responsive, .responsive-menu, .dropdown-container, .selected")||"true"==i.attr("data-skip-responsive")?(i.attr("data-responsive-index",-1),void(e.noToggle=e.noToggle.add(i))):(n=(void 0===i.attr("data-responsive-class")?i.hasClass("small-icon")?i.attr("class"):"":i.attr("data-responsive-class"))+" responsive-index-"+t,e.contents.append(i.clone(!0).attr("class",n).addClass("responsive-clone").removeClass("tab")),i.addClass("responsive-cloned-item").attr("data-clone-index",t),e.canToggle=e.canToggle.add(i),void e.itemCount++)}),e.contents.find("a.nav-link").removeClass("nav-link"),e.responsiveClones=e.contents.children(".responsive-clone").hide(),e.initialized=!0}function n(e,n){var i,s,a,o;e.initialized||(t(e),n=!0),e.itemCount&&(i=e.container.width(),(n||i!=e.lastWidth)&&(e.lastWidth=i,e.responsive&&(e.canToggle.show(),e.responsiveClones.hide(),e.menu.removeClass("showing-responsive-menu"),e.alwaysShowMenu||e.menu.show()),e.responsive=!1,a=e.menu.outerWidth(!0),s=a,e.noToggle.each(function(){var e=$(this);e.is(":visible")&&(s+=e.outerWidth(!0))}),o=s>=i,e.canToggle.each(function(){var t,n=$(this);if(n.is(":visible")){if(!o){if(t=n.outerWidth(!0),!t)return void n.hide();s+=t,s>=i&&(o=!0)}o&&(n.hide(),e.responsiveClones.filter(".responsive-index-"+n.attr("data-clone-index")).show())}}),e.responsive=o,o||e.alwaysShowMenu?o&&e.menu.addClass("showing-responsive-menu"):e.menu.hide()))}for(var i=0;i<styleConfig._responsiveNavigation.length;i++)n(styleConfig._responsiveNavigation[i],e)}function initResponsiveNavigation(){styleConfig._responsiveNavigation=[],$(".nav-tabs, .navbar.secondary").each(function(){var e=$(this),t=e.children("ul"),n=t.children(".responsive-menu:first"),i=n.length>0;if(!n.length){if(e.is(".nav-tabs"))return;t.eq(0).prepend('<li class="responsive-menu dropdown-container" style="display: none;"><a href="#" class="dropdown-trigger dropdown-toggle"><i class="mdi mdi-menu" aria-hidden="true"></a><div class="dropdown hidden"><div class="pointer"><div class="pointer-inner"></div></div><ul class="dropdown-contents" /></ul></div></li>'),n=t.children(".responsive-menu:first"),phpbb.registerDropdown(n.find(".dropdown-toggle"),n.find(".dropdown"))}styleConfig._responsiveNavigation.push({container:e,lists:t,menu:n,initialized:!1,alwaysShowMenu:i})})}function parseDocument(e){"use strict";var t=document.createElement("div"),n="undefined"==typeof t.style.borderRadius,i=$("body");e.find(".nav-tabs").each(function(){var e=$(this).children().children();e.not(".tab").each(function(){var e,t=$(this),n=t.attr("class").split(" ");for(t.attr("class","tab"),e=0;e<n.length;e++)"icon-"==n[e].substr(0,5)&&t.addClass(n[e].substr(5))}).children(":first-child").addClass("nav-link"),e.each(function(){var e=$(this),t="";if(!e.attr("title")){if(t=e.children(".nav-link").text().trim(),!t.length)return;e.children(".nav-link + strong").each(function(){t+=" ("+$(this).text().trim()+")"}),e.attr("title",t)}})}),e.find(".nav-tabs[data-current-page]").each(function(){var t,n,i,s,a=$(this),o=a.attr("data-current-page"),r=!1;if($(".tab[data-select-match]",this).each(function(){var e,t,n,i=$(this).attr("data-select-match").split(",");for(e=0;e<i.length;e++)if(t=i[e].trim(),o.indexOf(t)!=-1)return n=$(this),n.hasClass("selected")||(a.find(".tab.selected").removeClass("selected"),n.addClass("selected")),r=!0,!1}),!r&&(t=e.find(".content.pages-content"),t.length)){for(n=t.prop("class").split(" "),i=0;i<n.length&&!r;i++)s=n[i].trim(),"content"!==s&&"pages-content"!==s&&e.find(".tab.pages."+s).each(function(){a.find(".tab.selected").removeClass("selected"),$(this).addClass("selected"),r=!0});if(r)return;e.find(".tab.pages:first").each(function(){a.find(".tab.selected").removeClass("selected"),$(this).addClass("selected"),r=!0})}}),e.find("input[data-reset-on-edit]").on("keyup",function(){$(this.getAttribute("data-reset-on-edit")).val("")}),e.find(".pagination .page-jump-form :button").click(function(){var e=$(this).siblings("input.inputbox");pageJump(e)}),e.find(".pagination .page-jump-form input.inputbox").on("keypress",function(e){13!==e.which&&13!==e.keyCode||(e.preventDefault(),pageJump($(this)))}),e.find(".pagination .dropdown-trigger").click(function(){var e=$(this).parent();setTimeout(function(){e.hasClass("dropdown-visible")&&e.find("input.inputbox").focus()},100)}),e.find(".navlinks").each(function(){function e(){var e,s=0,o=n.outerWidth(!0)-n.width(),r=Math.max(t.width()/3,240);a=!1,i.each(function(){var e=$(this);e.is(":visible")&&(s+=e.outerWidth(!0))}),e=t.width()-s-o,n.css("max-width",Math.floor(Math.max(e,r))+"px")}var t=$(this),n=t.children().not(".rightside"),i=t.children(".rightside"),s=!1,a=!1;1===n.length&&i.length&&(e(),$(window).resize(function(){a?s=!0:(e(),a=!0,s=!1,setTimeout(function(){a=!1,s&&e()},250))}))}),e.find(".breadcrumbs:not([data-skip-responsive])").each(function(){function e(){var e,c=t.height();if(e=parseInt(t.css("max-width"),10),e||(e=i.width()),h=!1,r=parseInt(t.css("line-height"),10),n.each(function(){$(this).height()>0&&(r=Math.max(r,$(this).outerHeight(!0)))}),!(c<=r&&(!l||d===!1||d>=e)||(d=e,l&&(t.removeClass("wrapped").find(".crumb.wrapped").removeClass("wrapped "+a.join(" ")),t.height()<=r)||(l=!0,t.addClass("wrapped"),t.height()<=r))))for(var p=0;p<o;p++)for(var u=s-1;u>=0;u--)if(n.eq(u).addClass("wrapped "+a[p]),t.height()<=r)return}var t=$(this),n=t.find(".crumb"),s=n.length,a=["wrapped-max","wrapped-wide","wrapped-medium","wrapped-small","wrapped-tiny"],o=a.length,r=0,d=!1,l=!1,c=!1,h=!1;t.find("a").each(function(){var e=$(this);e.attr("title",e.text())}),e(),$(window).resize(function(){h?c=!0:(e(),h=!0,c=!1,setTimeout(function(){h=!1,c&&e()},250))})});var s=".linklist:not(.navlinks, [data-skip-responsive]),.postbody .post-buttons:not([data-skip-responsive])";e.find(s).each(function(){function e(){var e=i.width();if(!(b&&g&&e<=v||(v=e,(m||b)&&(o.removeClass("hidden"),u.children(".clone").addClass("hidden"),m=b=!1),g&&(t.removeClass("compact"),g=!1),l&&f?p.removeClass("hidden"):p.addClass("hidden"),t.height()<=y||(g||(t.addClass("compact"),g=!0),t.height()<=y)))){if(g&&(t.removeClass("compact"),g=!1),!w){var n=r.clone();u.prepend(n.addClass("clone clone-first").removeClass("leftside rightside")),t.hasClass("post-buttons")&&($(".button",u).removeClass("button icon-button"),$(".responsive-menu-link",p).addClass("button icon-button").prepend("<span></span>")),w=!0}if(m||(r.addClass("hidden"),m=!0,u.children(".clone-first").removeClass("hidden"),p.removeClass("hidden")),!(t.height()<=y)&&(g||(t.addClass("compact"),g=!0),!(t.height()<=y)&&d.length)){if(g&&(t.removeClass("compact"),g=!1),!C){var s=d.clone();u.prepend(s.addClass("clone clone-last").removeClass("leftside rightside")),C=!0}b||(d.addClass("hidden"),b=!0,u.children(".clone-last").removeClass("hidden")),t.height()<=y||g||(t.addClass("compact"),g=!0)}}}var t=$(this),n=".breadcrumbs, [data-skip-responsive]",s=".edit-icon, .quote-icon, [data-last-responsive]",a=t.children(),o=a.not(n),r=o.not(s),d=o.filter(s),l="nav-main"===t.attr("id"),c='<li class="responsive-menu hidden"><a href="javascript:void(0);" class="responsive-menu-link"></a><div class="dropdown hidden"><div class="pointer"><div class="pointer-inner" /></div><ul class="dropdown-contents" /></div></li>',h=3;l||(o.is(".rightside")?(o.filter(".rightside:first").before(c),t.children(".responsive-menu").addClass("rightside")):t.append(c));var p=t.children(".responsive-menu"),u=p.find(".dropdown-contents"),f=u.find("li:not(.separator)").length,v=!1,g=!1,m=!1,b=!1,w=!1,C=!1,y=0;a.each(function(){$(this).height()&&(y=Math.max(y,$(this).outerHeight(!0)))}),y<1||(y+=h,l||phpbb.registerDropdown(p.find("a.responsive-menu-link"),p.find(".dropdown"),!1),a.find("img").each(function(){$(this).load(function(){e()})}),e(),$(window).resize(e))}),e.find(".postbody").each(function(){var e=$(this),t=e.children();1==t.length&&t.is("div")||e.wrapInner('<div class="postbody-inner" />')}),$(".postprofile").each(function(e){var t=Math.max(28-e,2);$(this).css("z-index",t)}),n||(e.find("ul.topiclist dd.mark").siblings("dt").children(".list-inner").addClass("with-mark"),e.find(".topiclist.responsive-show-all > li > dl").each(function(){var e=$(this),t=e.find("dt .responsive-show:last-child"),n=!0;t.length?n=0===$.trim(t.text()).length:(e.find("dt > .list-inner").append('<div class="responsive-show" style="display:none;" />'),t=e.find("dt .responsive-show:last-child")),e.find("dd").not(".mark").each(function(){var e=$(this),i=e.children(),s=e.html();1===i.length&&i.text()===e.text()&&(s=i.html()),t.append((n?"":"<br />")+s),n=!1})}),e.find(".topiclist.responsive-show-columns").each(function(){var e=$(this),t=[],n=0;e.prev(".topiclist").find("li.header dd").not(".mark").each(function(){t.push($(this).text()),n++}),n&&e.find("dl").each(function(){var e=$(this),i=e.find("dt .responsive-show:last-child"),s=!0;i.length?s=0===$.trim(i.text()).length:(e.find("dt > .list-inner").append('<div class="responsive-show" style="display:none;" />'),i=e.find("dt .responsive-show:last-child")),e.find("dd").not(".mark").each(function(e){var a=$(this),o=a.children(),r=a.html();1===o.length&&o.text()===a.text()&&(r=o.html()),e<n&&(r=t[e]+": <strong>"+r+"</strong>"),i.append((s?"":"<br />")+r),s=!1})})}),e.find("table.table1").not(".not-responsive").each(function(){var e,t,n=$(this),i=n.find("thead > tr > th"),s=[],a=0;return i.each(function(t){var i=$(this),o=parseInt(i.attr("colspan"),10),r=i.attr("data-dfn"),d=r?r:i.text();for(o=isNaN(o)||o<1?1:o,e=0;e<o;e++)s.push(d);a++,r&&!t&&n.addClass("show-header")}),t=s.length,n.addClass("responsive"),a<2?void n.addClass("show-header"):void n.find("tbody > tr").each(function(){var e=$(this),n=e.children("td"),i=0;return 1===n.length?void e.addClass("big-column"):void n.each(function(){var e=$(this),n=parseInt(e.attr("colspan"),10),a=$.trim(e.text());t<=i||(a.length&&"-"!==a||e.children().length?e.prepend('<dfn style="display: none;">'+s[i]+"</dfn>"):e.addClass("empty"),n=isNaN(n)||n<1?1:n,i+=n)})})}),e.find("table.responsive > tbody").not(".responsive-skip-empty").each(function(){var e=$(this).children("tr");e.length||$(this).parent("table:first").addClass("responsive-hide")}),e.find("#tabs, #minitabs").not("[data-skip-responsive]").each(function(){function e(){var n=i.width(),a=t.height();if(arguments.length||c&&!(n<=l)||!(a<=d)){if(s.show(),o.hide(),l=n,a=t.height(),a<=d)return void(o.hasClass("dropdown-visible")&&phpbb.toggleDropdown.call(o.find("a.responsive-tab-link").get(0)));c=!0,o.show(),r.html("");var h,p,u=s.filter(":not(.activetab, .responsive-tab)"),f=u.length;for(h=f-1;h>=0;h--)if(p=u.eq(h),r.prepend(p.clone(!0).removeClass("tab")),p.hide(),t.height()<=d)return void r.find("a").click(function(){e(!0)});r.find("a").click(function(){e(!0)})}}var t=$(this),n=t.children(),s=n.children().not("[data-skip-responsive]"),a=s.children("a"),o=n.append('<li class="tab responsive-tab" style="display:none;"><a href="javascript:void(0);" class="responsive-tab-link">&nbsp;</a><div class="dropdown tab-dropdown" style="display: none;"><div class="pointer"><div class="pointer-inner" /></div><ul class="dropdown-contents" /></div></li>').find("li.responsive-tab"),r=o.find(".dropdown-contents"),d=0,l=!1,c=!1;a.each(function(){var e=$(this);d=Math.max(d,Math.max(e.outerHeight(!0),e.parent().outerHeight(!0)))});var h=o.find("a.responsive-tab-link");phpbb.registerDropdown(h,o.find(".dropdown"),{visibleClass:"activetab"}),e(!0),$(window).resize(e)}),e.find("#navigation").each(function(){var e=$(this).children("ol, ul").children("li");1===e.length&&$(this).addClass("responsive-hide")}),e.find("[data-responsive-text]").each(function(){function e(){if($(window).width()>700){if(!s)return;return t.text(n),void(s=!1)}s||(t.text(i),s=!0)}var t=$(this),n=t.text(),i=t.attr("data-responsive-text"),s=!1;e(),$(window).resize(e)}),styleConfig.staticNavigation&&e.find(".navbar.tabbed > .inner").each(function(e){function t(){$("#page-header-box").css("padding-top",Math.floor(o.height())+"px"),o.addClass("static"),d.removeClass("not-static"),r=!0,checkNavigation(!0)}function n(){$("#page-header-box").css("padding-top",0),v.attr("data-card",0),g.attr("data-card",1),o.removeClass("static"),d.addClass("not-static"),r=!1,checkNavigation(!0)}function i(){var e=window.location.hash?window.location.hash:"";e&&window.scrollTo(l.scrollLeft(),l.scrollTop()-o.height())}function s(e){var s,o=Math.floor(l.width());if(o<h||l.height()<p)return void(r&&n());if(!r){if(s=a.getBoundingClientRect().top,s>0)return;return c=l.scrollTop()+s,t(),void(e&&i())}l.scrollTop()<c?n():e&&i()}var a=this,o=$(a),r=!1,d=o.parent(),l=$(window),c=0,h=styleConfig.staticNavigationMinWidth,p=styleConfig.staticNavigationMinHeight,u=!1,f=!1,v=$(".inner.page-width.card"),g=$("#page-header-box.card"),m=0,b=0,w=0;l.on("scroll resize",function(){r?(f?u=!0:(s(!1),f=!0,u=!1,setTimeout(function(){f=!1,u&&s(!1)},250)),b=l.scrollTop(),m=g.height(),Math.abs(b-w)>Math.abs(m-w)&&(b<m?(v.attr("data-card",0),g.attr("data-card",1)):(v.attr("data-card",1),g.attr("data-card",0)),w=b)):s(!1)}),l.on("load",function(){s(!0)}),l.on("hashchange",function(){s(!0)})}),e.find("dd.lastpost > span:only-child > br:only-child").parents("dd.lastpost").addClass("empty"),$("a.spoiler").click(function(e){e.preventDefault(),$(this).next("div.spoiler").show(),$(this).hide()}),window.matchMedia&&window.matchMedia("(-webkit-min-device-pixel-ratio: 2), (min-resolution: 192dpi), (min-resolution: 1.5dppx)").matches&&e.find("img[data-src-hd]").each(function(){function e(){n.css("width",(t.naturalWidth?t.naturalWidth:t.width)+"px"),t.setAttribute("src",t.getAttribute("data-src-hd"))}var t=this,n=$(this),i=new Image,s=!1,a=!1;t.complete?a=!0:t.onload=function(){a||(a=!0,s&&e())},i.onload=function(){s=!0,a&&e()},i.src=t.getAttribute("data-src-hd")}),e.find("div.buttons a.button.icon-button").each(function(){var e,t=$(this);t.children().length||(e=t.text().trim().split(" "),e.length>1&&(t.text(e.shift()+" ").append("<strong />"),t.find("strong").text(e.join(" "))))}),$("#phpbb.can-transform[data-online-text]").each(function(){var t=$(this).attr("data-online-text");e.find(".online").each(function(){var e=$(this);e.css("position","relative").append('<span class="online-ribbon"><span>'+t+"</span><span>"+t+"</span></span>")})}),styleConfig._loaded&&e.find(".postprofile + .postbody > div:only-child").each(function(){adjustPosterProfile($(this))}),styleConfig.collapseForums&&e.find(".forabg li.header").each(function(){var e,t=$(this),n=t.parent().next("ul.forums"),i=0,s=!1;1==n.length&&($("a[data-id]",t).each(function(){i=parseInt(this.getAttribute("data-id"))}),i||n.find(".forumtitle[data-id]:first").each(function(){i=parseInt(this.getAttribute("data-id")),isNaN(i)||(i="f"+i)}),i&&(t.append('<a class="forum-toggle" href="#"></a>'),e=t.find(".forum-toggle"),e.click(function(t){return t.preventDefault(),s?(n.stop(!0,!0).slideDown(200),s=!1,e.removeClass("toggled"),void phpbb.deleteCookie("toggled-"+i,styleConfig.cookieConfig)):(n.stop(!0,!0).slideUp(200),s=!0,e.addClass("toggled"),void phpbb.setCookie("toggled-"+i,"1",styleConfig.cookieConfig))}),"1"==phpbb.getCookie("toggled-"+i,styleConfig.cookieConfig)&&(n.stop(!0,!0).slideUp(0),s=!0,e.addClass("toggled"))))}))}var styleConfig={staticNavigation:!0,staticNavigationMinWidth:700,staticNavigationMinHeight:400,extendPosterProfile:!0,collapseForums:!0};jQuery(function(e){"use strict";e(".sub-panels").each(function(){var t=e("a[data-subpanel]",this),n=t.map(function(){return this.getAttribute("data-subpanel")}),i=this.getAttribute("data-show-panel");n.length&&(activateSubPanel(i,n),t.click(function(){return activateSubPanel(this.getAttribute("data-subpanel"),n),!1}))})});var inAutocomplete=!1,lastKeyEntered="";jQuery(function(e){"use strict";e("form input[type=text], form input[type=password]").on("keypress",function(t){var n=e(this).parents("form").find("input[type=submit].default-submit-action");return!n||n.length<=0||(!!phpbbCheckKey(t)||(!(t.which&&13===t.which||t.keyCode&&13===t.keyCode)||(n.click(),!1)))})}),jQuery(function(e){"use strict";function t(){styleConfig._resizeThrottled=!1,checkNavigation(!1),styleConfig.extendPosterProfile&&e(".postprofile + .postbody > div:only-child").each(function(){adjustPosterProfile(e(this))})}var n,i,s=["transform","webkitTransform","msTransform"];for(styleConfig.cookieConfig={prefix:"",path:"/",expires:new Date},styleConfig.cookieConfig.expires.setFullYear(styleConfig.cookieConfig.expires.getFullYear()+1),e("#phpbb.nojs").toggleClass("nojs hasjs"),e("#phpbb").toggleClass("hastouch",phpbb.isTouch),e("#phpbb.hastouch").removeClass("notouch"),e("form[data-focus]:first").each(function(){e("#"+this.getAttribute("data-focus")).focus()}),i=e("#phpbb").get(0),n=0;n<s.length;n++)if("undefined"!=typeof i.style[s[n]]){e("#phpbb").addClass("can-transform");break}phpbb.setCookie=function(t,n,i){return i=e.extend({prefix:"",path:"/"},"object"==typeof i?i:{}),document.cookie=i.prefix+t+"="+encodeURIComponent(n)+(void 0===i.expires?"":";expires="+i.expires.toUTCString())+(i.path?";path="+i.path:"")+(i.domain?";domain="+i.domain:""),n},phpbb.getCookie=function(t,n){var i,s;return n=e.extend({prefix:"",path:"/"},"object"==typeof n?n:{}),i=new RegExp("(^| )"+n.prefix+t+"=([^;]+)(;|$)"),s=i.exec(document.cookie),s?decodeURIComponent(s[2]):null},phpbb.deleteCookie=function(t,n){return n=e.extend({prefix:"",path:"/"},"object"==typeof n?n:{}),document.cookie=n.prefix+t+"="+(n.path?"; path="+n.path:"")+(n.domain?"; domain="+n.domain:"")+"; expires=Thu, 01-Jan-70 00:00:01 GMT",null},initResponsiveNavigation(),parseDocument(e("body")),checkNavigation(!0),styleConfig._loaded=!0,styleConfig._resizeThrottled=!1,styleConfig._resizeQueued=!1,e(window).load(function(){checkNavigation(!0),styleConfig.extendPosterProfile&&e(".postprofile + .postbody > div:only-child").each(function(){adjustPosterProfile(e(this))})}),e(window).resize(function(){styleConfig._resizeThrottled?styleConfig._resizeQueued=!0:(t(),styleConfig._resizeThrottled=!0,styleConfig._resizeQueued=!1,setTimeout(function(){styleConfig._resizeThrottled=!1,styleConfig._resizeQueued&&t()},500))})});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImZvcnVtX2ZuLmpzIl0sIm5hbWVzIjpbImZpbmRfdXNlcm5hbWUiLCJ1cmwiLCJwb3B1cCIsIndpZHRoIiwiaGVpZ2h0IiwibmFtZSIsIndpbmRvdyIsIm9wZW4iLCJyZXBsYWNlIiwicGFnZUp1bXAiLCJpdGVtIiwicGFnZSIsInBhcnNlSW50IiwidmFsIiwicGVyUGFnZSIsImF0dHIiLCJiYXNlVXJsIiwic3RhcnROYW1lIiwiaXNOYU4iLCJNYXRoIiwiZmxvb3IiLCJpbmRleE9mIiwiZG9jdW1lbnQiLCJsb2NhdGlvbiIsImhyZWYiLCJtYXJrbGlzdCIsImlkIiwic3RhdGUiLCJqUXVlcnkiLCJlYWNoIiwiJHRoaXMiLCJ0aGlzIiwic3Vic3RyIiwibGVuZ3RoIiwicHJvcCIsInZpZXdhYmxlQXJlYSIsImUiLCJpdHNlbGYiLCJwYXJlbnROb2RlIiwidmFIZWlnaHQiLCJzdHlsZSIsIm92ZXJmbG93IiwibWF4SGVpZ2h0IiwidmFNYXhIZWlnaHQiLCJvZmZzZXRIZWlnaHQiLCJhY3RpdmF0ZVN1YlBhbmVsIiwicCIsInBhbmVscyIsImkiLCJzaG93UGFuZWwiLCIkIiwibWFwIiwiZ2V0QXR0cmlidXRlIiwiY3NzIiwidG9nZ2xlQ2xhc3MiLCJzZWxlY3RDb2RlIiwiYSIsInMiLCJyIiwiZ2V0RWxlbWVudHNCeVRhZ05hbWUiLCJnZXRTZWxlY3Rpb24iLCJzZXRCYXNlQW5kRXh0ZW50IiwibCIsImlubmVyVGV4dCIsImVycm9yIiwiY3JlYXRlUmFuZ2UiLCJzZWxlY3ROb2RlQ29udGVudHMiLCJyZW1vdmVBbGxSYW5nZXMiLCJhZGRSYW5nZSIsIm9wZXJhIiwiaW5uZXJIVE1MIiwic3Vic3RyaW5nIiwic2VsZWN0aW9uIiwiYm9keSIsImNyZWF0ZVRleHRSYW5nZSIsIm1vdmVUb0VsZW1lbnRUZXh0Iiwic2VsZWN0IiwicGxheV9xdF9maWxlIiwib2JqIiwicmVjdGFuZ2xlIiwiR2V0UmVjdGFuZ2xlIiwic3BsaXQiLCJ4MSIsIngyIiwieTEiLCJ5MiIsIlNldENvbnRyb2xsZXJWaXNpYmxlIiwiUGxheSIsInBocGJiQ2hlY2tLZXkiLCJldmVudCIsImtleUNvZGUiLCJpbkF1dG9jb21wbGV0ZSIsImxhc3RLZXlFbnRlcmVkIiwid2hpY2giLCJpbnNlcnRVc2VyIiwiZm9ybUlkIiwidmFsdWUiLCIkZm9ybSIsImZvcm1OYW1lIiwiZmllbGROYW1lIiwib3BlbmVyIiwiZm9ybXMiLCJ0eXBlIiwiaW5zZXJ0X21hcmtlZF91c2VycyIsInVzZXJzIiwiY2hlY2tlZCIsImNsb3NlIiwiaW5zZXJ0X3NpbmdsZV91c2VyIiwidXNlciIsImFkanVzdFBvc3RlclByb2ZpbGUiLCJwb3N0Ym9keSIsInVucmVzaXplIiwicHJvZmlsZSIsInJlbW92ZUNsYXNzIiwicGFyZW50IiwicHJldiIsInBvc3QiLCJyZXNpemVkIiwiaGFzQ2xhc3MiLCJhZGRDbGFzcyIsImNoZWNrTmF2aWdhdGlvbiIsImZvcmNlIiwiaW5pdCIsIm5hdiIsInJlc3BvbnNpdmUiLCJsYXN0V2lkdGgiLCJpdGVtQ291bnQiLCJjb250ZW50cyIsIm1lbnUiLCJmaW5kIiwiY2FuVG9nZ2xlIiwibm9Ub2dnbGUiLCJjaGlsZHJlbiIsImhpZGUiLCJpdGVtcyIsImxpc3RzIiwibm90IiwiY2xvbmVDbGFzcyIsImlzIiwiYWRkIiwidW5kZWZpbmVkIiwiYXBwZW5kIiwiY2xvbmUiLCJyZXNwb25zaXZlQ2xvbmVzIiwiaW5pdGlhbGl6ZWQiLCJjaGVjayIsImNvbnRhaW5lcldpZHRoIiwibWVudVdpZHRoIiwiaGlkaW5nIiwiY29udGFpbmVyIiwic2hvdyIsImFsd2F5c1Nob3dNZW51Iiwib3V0ZXJXaWR0aCIsIml0ZW1XaWR0aCIsImZpbHRlciIsInN0eWxlQ29uZmlnIiwiX3Jlc3BvbnNpdmVOYXZpZ2F0aW9uIiwiaW5pdFJlc3BvbnNpdmVOYXZpZ2F0aW9uIiwiZXEiLCJwcmVwZW5kIiwicGhwYmIiLCJyZWdpc3RlckRyb3Bkb3duIiwicHVzaCIsInBhcnNlRG9jdW1lbnQiLCIkY29udGFpbmVyIiwidGVzdCIsImNyZWF0ZUVsZW1lbnQiLCJvbGRCcm93c2VyIiwiYm9yZGVyUmFkaXVzIiwiJGJvZHkiLCJ0YWJzIiwidGFiIiwiY2xhc3NOYW1lIiwidGl0bGUiLCJ0ZXh0IiwidHJpbSIsImNvbnRlbnQiLCJjbGFzc2VzIiwia2V5IiwiY3VycmVudCIsImZvdW5kIiwibWF0Y2giLCJtYXRjaGVzIiwib24iLCJjbGljayIsIiRpbnB1dCIsInNpYmxpbmdzIiwicHJldmVudERlZmF1bHQiLCIkZHJvcGRvd25Db250YWluZXIiLCJzZXRUaW1lb3V0IiwiZm9jdXMiLCJyZXNpemUiLCJtYXhXaWR0aCIsImRpZmYiLCIkbGVmdCIsIm1pbldpZHRoIiwibWF4IiwidGhyb3R0bGVkIiwiJHJpZ2h0IiwicXVldWVkIiwiJGxpbmtzIiwib3V0ZXJIZWlnaHQiLCJ3cmFwcGVkIiwiam9pbiIsImNsYXNzZXNMZW5ndGgiLCJqIiwiJGxpbmsiLCJzZWxlY3RvciIsInJlc3BvbnNpdmUyIiwiY29tcGFjdCIsInJlc3BvbnNpdmUxIiwiJGxpbmtzTm90U2tpcCIsIiRtZW51Q29udGVudHMiLCJwZXJzaXN0ZW50IiwicGVyc2lzdGVudENvbnRlbnQiLCIkbWVudSIsImNvcGllZDEiLCIkY2xvbmVzMSIsIiRsaW5rc0ZpcnN0IiwiJGxpbmtzTGFzdCIsImNvcGllZDIiLCIkY2xvbmVzMiIsImZpbHRlclNraXAiLCJmaWx0ZXJMYXN0IiwiJGxpbmtzQWxsIiwiaHRtbCIsInNsYWNrIiwiYmVmb3JlIiwibG9hZCIsIndyYXBJbm5lciIsInoiLCIkYmxvY2siLCJmaXJzdCIsImNvbHVtbiIsIiRjaGlsZHJlbiIsIiRsaXN0IiwiaGVhZGVycyIsImhlYWRlcnNMZW5ndGgiLCIkdGgiLCJ0b3RhbEhlYWRlcnMiLCJjZWxsIiwiY29sc3BhbiIsImRmbiIsInJvdyIsImNlbGxzIiwiJGl0ZW1zIiwiYXJndW1lbnRzIiwiJHRhYnMiLCIkaXRlbSIsInRvZ2dsZURyb3Bkb3duIiwiY2FsbCIsImdldCIsIiR0YWIiLCIkYXZhaWxhYmxlVGFicyIsInRvdGFsIiwiJHVsIiwiJHRhYkxpbmsiLCJ2aXNpYmxlQ2xhc3MiLCJmdWxsVGV4dCIsInJlc3BvbnNpdmVUZXh0Iiwic3RhdGljTmF2aWdhdGlvbiIsImVuYWJsZVN0YXRpYyIsIm5hdmlnYXRpb24iLCJpc1N0YXRpYyIsImRpc2FibGVTdGF0aWMiLCJuYXZiYXJCb3giLCJoZWFkZXJCb3giLCJ0ZXN0SGFzaCIsImhhc2giLCJzY3JvbGxUbyIsIiR3Iiwic2Nyb2xsTGVmdCIsInNjcm9sbFRvcCIsImNoZWNrSGFzaCIsInRvcCIsIndpbmRvd1dpZHRoIiwibWluSGVpZ2h0IiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0IiwibWluVG9wUG9zaXRpb24iLCJzdGF0aWNOYXZpZ2F0aW9uTWluV2lkdGgiLCJzdGF0aWNOYXZpZ2F0aW9uTWluSGVpZ2h0IiwiYnJlYWtMaW5lIiwiY3Vyck9mZnNldCIsInByZXZPZmZzZXQiLCJhYnMiLCJwYXJlbnRzIiwibmV4dCIsIm1hdGNoTWVkaWEiLCJyZXBsYWNlSW1hZ2UiLCJpbWciLCJuYXR1cmFsV2lkdGgiLCJzZXRBdHRyaWJ1dGUiLCJoZEltYWdlIiwiSW1hZ2UiLCJoZExvYWRlZCIsIm5vcm1hbExvYWRlZCIsImNvbXBsZXRlIiwib25sb2FkIiwic3JjIiwid29yZHMiLCJzaGlmdCIsIl9sb2FkZWQiLCJjb2xsYXBzZUZvcnVtcyIsInRvZ2dsZSIsImZvcnVtIiwidG9nZ2xlZCIsInN0b3AiLCJzbGlkZURvd24iLCJkZWxldGVDb29raWUiLCJjb29raWVDb25maWciLCJzbGlkZVVwIiwic2V0Q29va2llIiwiZ2V0Q29va2llIiwiZXh0ZW5kUG9zdGVyUHJvZmlsZSIsIiRjaGlsZE5vZGVzIiwiZGVmYXVsdEJ1dHRvbiIsInByb2Nlc3NSZXNpemVFdmVudCIsIl9yZXNpemVUaHJvdHRsZWQiLCJ0cmFuc2Zvcm1zIiwicHJlZml4IiwicGF0aCIsImV4cGlyZXMiLCJEYXRlIiwic2V0RnVsbFllYXIiLCJnZXRGdWxsWWVhciIsImlzVG91Y2giLCJjb25maWciLCJleHRlbmQiLCJjb29raWUiLCJlbmNvZGVVUklDb21wb25lbnQiLCJ0b1VUQ1N0cmluZyIsImRvbWFpbiIsImV4cHIiLCJSZWdFeHAiLCJleGVjIiwiZGVjb2RlVVJJQ29tcG9uZW50IiwiX3Jlc2l6ZVF1ZXVlZCJdLCJtYXBwaW5ncyI6IkFBZ0JBLFFBQVNBLGVBQWNDLEdBQ3RCLFlBR0EsT0FEQUMsT0FBTUQsRUFBSyxJQUFLLElBQUssZ0JBQ2QsRUFNUixRQUFTQyxPQUFNRCxFQUFLRSxFQUFPQyxFQUFRQyxHQUNsQyxZQU9BLE9BTEtBLEtBQ0pBLEVBQU8sVUFHUkMsT0FBT0MsS0FBS04sRUFBSU8sUUFBUSxTQUFVLEtBQU1ILEVBQU0sVUFBWUQsRUFBUyx3Q0FBMENELElBQ3RHLEVBTVIsUUFBU00sVUFBU0MsR0FDakIsWUFFQSxJQUFJQyxHQUFPQyxTQUFTRixFQUFLRyxNQUFPLElBQy9CQyxFQUFVSixFQUFLSyxLQUFLLGlCQUNwQkMsRUFBVU4sRUFBS0ssS0FBSyxpQkFDcEJFLEVBQVlQLEVBQUtLLEtBQUssa0JBRVYsUUFBVEosSUFBa0JPLE1BQU1QLElBQVNBLElBQVNRLEtBQUtDLE1BQU1ULElBQVNBLEVBQU8sSUFDcEVLLEVBQVFLLFFBQVEsUUFBUyxFQUM1QkMsU0FBU0MsU0FBU0MsS0FBT1IsRUFBVSxJQUFNQyxFQUFZLEtBQVFOLEVBQU8sR0FBS0csRUFFekVRLFNBQVNDLFNBQVNDLEtBQU9SLEVBQVFSLFFBQVEsU0FBVSxLQUFPLElBQU1TLEVBQVksS0FBUU4sRUFBTyxHQUFLRyxHQVNuRyxRQUFTVyxVQUFTQyxFQUFJckIsRUFBTXNCLEdBQzNCLFlBRUFDLFFBQU8sSUFBTUYsRUFBSywrQkFBK0JHLEtBQUssV0FDckQsR0FBSUMsR0FBUUYsT0FBT0csS0FDZkQsR0FBTWYsS0FBSyxRQUFRaUIsT0FBTyxFQUFHM0IsRUFBSzRCLFVBQVk1QixHQUNqRHlCLEVBQU1JLEtBQUssVUFBV1AsS0FTekIsUUFBU1EsY0FBYUMsRUFBR0MsR0FDeEIsWUFFS0QsS0FJQUMsSUFDSkQs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T0FBUyxJQUMvQyx3Q0FFSSxNQUlSOUssMkJBR0FNLGNBQWNqSCxFQUFFLFNBR2hCc0UsaUJBQWdCLEdBR2hCbUMsWUFBWWtKLFNBQVUsRUFDdEJsSixZQUFZa0ssa0JBQW1CLEVBQy9CbEssWUFBWXFMLGVBQWdCLEVBRTVCOVIsRUFBRTVDLFFBQVE4TixLQUFLLFdBQ2Q1RyxpQkFBZ0IsR0FDWm1DLFlBQVk4SixxQkFDZnZRLEVBQUUsNkNBQTZDckIsS0FBSyxXQUNuRGdGLG9CQUFvQjNELEVBQUVuQixXQUt6Qm1CLEVBQUU1QyxRQUFReUwsT0FBTyxXQUNYcEMsWUFBWWtLLGlCQVdoQmxLLFlBQVlxTCxlQUFnQixHQVY1QnBCLElBQ0FqSyxZQUFZa0ssa0JBQW1CLEVBQy9CbEssWUFBWXFMLGVBQWdCLEVBQzVCbkosV0FBVyxXQUNWbEMsWUFBWWtLLGtCQUFtQixFQUMzQmxLLFlBQVlxTCxlQUNmcEIsS0FFQyIsImZpbGUiOiJmb3J1bV9mbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qIGdsb2JhbCBwaHBiYiAqL1xyXG5cclxuLyoqXHJcbiogcGhwQkIzIGZvcnVtIGZ1bmN0aW9uc1xyXG4qL1xyXG52YXIgc3R5bGVDb25maWcgPSB7XHJcblx0c3RhdGljTmF2aWdhdGlvbjogdHJ1ZSxcclxuXHRzdGF0aWNOYXZpZ2F0aW9uTWluV2lkdGg6IDcwMCxcclxuXHRzdGF0aWNOYXZpZ2F0aW9uTWluSGVpZ2h0OiA0MDAsXHJcblx0ZXh0ZW5kUG9zdGVyUHJvZmlsZTogdHJ1ZSxcclxuXHRjb2xsYXBzZUZvcnVtczogdHJ1ZVxyXG59O1xyXG5cclxuLyoqXHJcbiogRmluZCBhIG1lbWJlclxyXG4qL1xyXG5mdW5jdGlvbiBmaW5kX3VzZXJuYW1lKHVybCkge1xyXG5cdCd1c2Ugc3RyaWN0JztcclxuXHJcblx0cG9wdXAodXJsLCA3NjAsIDU3MCwgJ191c2Vyc2VhcmNoJyk7XHJcblx0cmV0dXJuIGZhbHNlO1xyXG59XHJcblxyXG4vKipcclxuKiBXaW5kb3cgcG9wdXBcclxuKi9cclxuZnVuY3Rpb24gcG9wdXAodXJsLCB3aWR0aCwgaGVpZ2h0LCBuYW1lKSB7XHJcblx0J3VzZSBzdHJpY3QnO1xyXG5cclxuXHRpZiAoIW5hbWUpIHtcclxuXHRcdG5hbWUgPSAnX3BvcHVwJztcclxuXHR9XHJcblxyXG5cdHdpbmRvdy5vcGVuKHVybC5yZXBsYWNlKC8mYW1wOy9nLCAnJicpLCBuYW1lLCAnaGVpZ2h0PScgKyBoZWlnaHQgKyAnLHJlc2l6YWJsZT15ZXMsc2Nyb2xsYmFycz15ZXMsIHdpZHRoPScgKyB3aWR0aCk7XHJcblx0cmV0dXJuIGZhbHNlO1xyXG59XHJcblxyXG4vKipcclxuKiBKdW1wIHRvIHBhZ2VcclxuKi9cclxuZnVuY3Rpb24gcGFnZUp1bXAoaXRlbSkge1xyXG5cdCd1c2Ugc3RyaWN0JztcclxuXHJcblx0dmFyIHBhZ2UgPSBwYXJzZUludChpdGVtLnZhbCgpLCAxMCksXHJcblx0XHRwZXJQYWdlID0gaXRlbS5hdHRyKCdkYXRhLXBlci1wYWdlJyksXHJcblx0XHRiYXNlVXJsID0gaXRlbS5hdHRyKCdkYXRhLWJhc2UtdXJsJyksXHJcblx0XHRzdGFydE5hbWUgPSBpdGVtLmF0dHIoJ2RhdGEtc3RhcnQtbmFtZScpO1xyXG5cclxuXHRpZiAocGFnZSAhPT0gbnVsbCAmJiAhaXNOYU4ocGFnZSkgJiYgcGFnZSA9PT0gTWF0aC5mbG9vcihwYWdlKSAmJiBwYWdlID4gMCkge1xyXG5cdFx0aWYgKGJhc2VVcmwuaW5kZXhPZignPycpID09PSAtMSkge1xyXG5cdFx0XHRkb2N1bWVudC5sb2NhdGlvbi5ocmVmID0gYmFzZVVybCArICc/JyArIHN0YXJ0TmFtZSArICc9JyArICgocGFnZSAtIDEpICogcGVyUGFnZSk7XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHRkb2N1bWVudC5sb2NhdGlvbi5ocmVmID0gYmFzZVVybC5yZXBsYWNlKC8mYW1wOy9nLCAnJicpICsgJyYnICsgc3RhcnROYW1lICsgJz0nICsgKChwYWdlIC0gMSkgKiBwZXJQYWdlKTtcclxuXHRcdH1cclxuXHR9XHJcbn1cclxuXHJcbi8qKlxyXG4qIE1hcmsvdW5tYXJrIGNoZWNrbGlzdFxyXG4qIGlkID0gSUQgb2YgcGFyZW50IGNvbnRhaW5lciwgbmFtZSA9IG5hbWUgcHJlZml4LCBzdGF0ZSA9IHN0YXRlIFt0cnVlL2ZhbHNlXVxyXG4qL1xyXG5mdW5jdGlvbiBtYXJrbGlzdChpZCwgbmFtZSwgc3RhdGUpIHtcclxuXHQndXNlIHN0cmljdCc7XHJcblxyXG5cdGpRdWVyeSgnIycgKyBpZCArICcgaW5wdXRbdHlwZT1jaGVja2JveF1bbmFtZV0nKS5lYWNoKGZ1bmN0aW9uKCkge1xyXG5cdFx0dmFyICR0aGlzID0galF1ZXJ5KHRoaXMpO1xyXG5cdFx0aWYgKCR0aGlzLmF0dHIoJ25hbWUnKS5zdWJzdHIoMCwgbmFtZS5sZW5ndGgpID09PSBuYW1lKSB7XHJcblx0XHRcdCR0aGlzLnByb3AoJ2NoZWNrZWQnLCBzdGF0ZSk7XHJcblx0XHR9XHJcblx0fSk7XHJcbn1cclxuXHJcbi8qKlxyXG4qIFJlc2l6ZSB2aWV3YWJsZSBhcmVhIGZvciBhdHRhY2hlZCBpbWFnZSBvciB0b3BpYyByZXZpZXcgcGFuZWwgKHBvc3NpYmx5IG90aGVycyB0byBjb21lKVxyXG4qIGUgPSBlbGVtZW50XHJcbiovXHJcbmZ1bmN0aW9uIHZpZXdhYmxlQXJlYShlLCBpdHNlbGYpIHtcclxuXHQndXNlIHN0cmljdCc7XHJcblxyXG5cdGlmICghZSkge1xyXG5cdFx0cmV0dXJuO1xyXG5cdH1cclxuXHJcblx0aWYgKCFpdHNlbGYpIHtcclxuXHRcdGUgPSBlLnBhcmVudE5vZGU7XHJcblx0fVxyXG5cclxuXHRpZiAoIWUudmFIZWlnaHQpIHtcclxuXHRcdC8vIFN0b3JlIHZpZXdhYmxlIGFyZWEgaGVpZ2h0IGJlZm9yZSBjaGFuZ2luZyBzdHlsZSB0byBhdXRvXHJcblx0XHRlLnZhSGVpZ2h0ID0gZS5vZmZzZXRIZWlnaHQ7XHJcblx0XHRlLnZhTWF4SGVpZ2h0ID0gZS5zdHlsZS5tYXhIZWlnaHQ7XHJcblx0XHRlLnN0eWxlLmhlaWdodCA9ICdhdXRvJztcclxuXHRcdGUuc3R5bGUubWF4SGVpZ2h0ID0gJ25vbmUnO1xyXG5cdFx0ZS5zdHlsZS5vdmVyZmxvdyA9ICd2aXNpYmxlJztcclxuXHR9IGVsc2Uge1xyXG5cdFx0Ly8gUmVzdG9yZSB2aWV3YWJsZSBhcmVhIGhlaWdodCB0byB0aGUgZGVmYXVsdFxyXG5cdFx0ZS5zdHlsZS5oZWlnaHQgPSBlLnZhSGVpZ2h0ICsgJ3B4JztcclxuXHRcdGUuc3R5bGUub3ZlcmZsb3cgPSAnYXV0byc7XHJcblx0XHRlLnN0eWxlLm1heEhlaWdodCA9IGUudmFNYXhIZWlnaHQ7XHJcblx0XHRlLnZhSGVpZ2h0ID0gZmFsc2U7XHJcblx0fVxyXG59XHJcblxyXG4vKipcclxuKiBBbHRlcm5hdGUgZGlzcGxheSBvZiBzdWJQYW5lbHNcclxuKi9cclxualF1ZXJ5KGZ1bmN0aW9uKCQpIHtcclxuXHQndXNlIHN0cmljdCc7XHJcblxyXG5cdCQoJy5zdWItcGFuZWxzJykuZWFjaChmdW5jdGlvbigpIHtcclxuXHJcblx0XHR2YXIgJGNoaWxkTm9kZXMgPSAkKCdhW2RhdGEtc3VicGFuZWxdJywgdGhpcyksXHJcblx0XHRcdHBhbmVscyA9ICRjaGlsZE5vZGVzLm1hcChmdW5jdGlvbiAoKSB7XHJcblx0XHRcdFx0cmV0dXJuIHRoaXMuZ2V0QXR0cmlidXRlKCdkYXRhLXN1YnBhbmVsJyk7XHJcblx0XHRcdH0pLFxyXG5cdFx0XHRzaG93UGFuZWwgPSB0aGlzLmdldEF0dHJpYnV0ZSgnZGF0YS1zaG93LXBhbmVsJyk7XHJcblxyXG5cdFx0aWYgKHBhbmVscy5sZW5ndGgpIHtcclxuXHRcdFx0YWN0aXZhdGVTdWJQYW5lbChzaG93UGFuZWwsIHBhbmVscyk7XHJcblx0XHRcdCRjaGlsZE5vZGVzLmNsaWNrKGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0XHRhY3RpdmF0ZVN1YlBhbmVsKHRoaXMuZ2V0QXR0cmlidXRlKCdkYXRhLXN1YnBhbmVsJyksIHBhbmVscyk7XHJcblx0XHRcdFx0cmV0dXJuIGZhbHNlO1xyXG5cdFx0XHR9KTtcclxuXHRcdH1cclxuXHR9KTtcclxufSk7XHJcblxyXG4vKipcclxuKiBBY3RpdmF0ZSBzcGVjaWZpYyBzdWJQYW5lbFxyXG4qL1xyXG5mdW5jdGlvbiBhY3RpdmF0ZVN1YlBhbmVsKHAsIHBhbmVscykge1xyXG5cdCd1c2Ugc3RyaWN0JztcclxuXHJcblx0dmFyIGksIHNob3dQYW5lbDtcclxuXHJcblx0aWYgKHR5cGVvZiBwID09PSAnc3RyaW5nJykge1xyXG5cdFx0c2hvd1BhbmVsID0gcDtcclxuXHR9XHJcblx0JCgnaW5wdXRbbmFtZT1cInNob3dfcGFuZWxcIl0nKS52YWwoc2hvd1BhbmVsKTtcclxuXHJcblx0aWYgKHR5cGVvZiBwYW5lbHMgPT09ICd1bmRlZmluZWQnKSB7XHJcblx0XHRwYW5lbHMgPSBqUXVlcnkoJy5zdWItcGFuZWxzIGFbZGF0YS1zdWJwYW5lbF0nKS5tYXAoZnVuY3Rpb24oKSB7XHJcblx0XHRcdHJldHVybiB0aGlzLmdldEF0dHJpYnV0ZSgnZGF0YS1zdWJwYW5lbCcpO1xyXG5cdFx0fSk7XHJcblx0fVxyXG5cclxuXHRmb3IgKGkgPSAwOyBpIDwgcGFuZWxzLmxlbmd0aDsgaSsrKSB7XHJcblx0XHRqUXVlcnkoJyMnICsgcGFuZWxzW2ldKS5jc3MoJ2Rpc3BsYXknLCBwYW5lbHNbaV0gPT09IHNob3dQYW5lbCA/ICdibG9jaycgOiAnbm9uZScpO1xyXG5cdFx0alF1ZXJ5KCcjJyArIHBhbmVsc1tpXSArICctdGFiJykudG9nZ2xlQ2xhc3MoJ2FjdGl2ZXRhYicsIHBhbmVsc1tpXSA9PT0gc2hvd1BhbmVsKTtcclxuXHR9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHNlbGVjdENvZGUoYSkge1xyXG5cdCd1c2Ugc3RyaWN0JztcclxuXHJcblx0Ly8gR2V0IElEIG9mIGNvZGUgYmxvY2tcclxuXHR2YXIgZSA9IGEucGFyZW50Tm9kZS5wYXJlbnROb2RlLmdldEVsZW1lbnRzQnlUYWdOYW1lKCdDT0RFJylbMF07XHJcblx0dmFyIHMsIHI7XHJcblxyXG5cdC8vIE5vdCBJRSBhbmQgSUU5K1xyXG5cdGlmICh3aW5kb3cuZ2V0U2VsZWN0aW9uKSB7XHJcblx0XHRzID0gd2luZG93LmdldFNlbGVjdGlvbigpO1xyXG5cdFx0Ly8gU2FmYXJpIGFuZCBDaHJvbWVcclxuXHRcdGlmIChzLnNldEJhc2VBbmRFeHRlbnQpIHtcclxuXHRcdFx0dmFyIGwgPSAoZS5pbm5lclRleHQubGVuZ3RoID4gMSkgPyBlLmlubmVyVGV4dC5sZW5ndGggLSAxIDogMTtcclxuXHRcdFx0dHJ5IHtcclxuXHRcdFx0XHRzLnNldEJhc2VBbmRFeHRlbnQoZSwgMCwgZSwgbCk7XHJcblx0XHRcdH0gY2F0Y2ggKGVycm9yKSB7XHJcblx0XHRcdFx0ciA9IGRvY3VtZW50LmNyZWF0ZVJhbmdlKCk7XHJcblx0XHRcdFx0ci5zZWxlY3ROb2RlQ29udGVudHMoZSk7XHJcblx0XHRcdFx0cy5yZW1vdmVBbGxSYW5nZXMoKTtcclxuXHRcdFx0XHRzLmFkZFJhbmdlKHIpO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0XHQvLyBGaXJlZm94IGFuZCBPcGVyYVxyXG5cdFx0ZWxzZSB7XHJcblx0XHRcdC8vIHdvcmthcm91bmQgZm9yIGJ1ZyAjIDQyODg1XHJcblx0XHRcdGlmICh3aW5kb3cub3BlcmEgJiYgZS5pbm5lckhUTUwuc3Vic3RyaW5nKGUuaW5uZXJIVE1MLmxlbmd0aCAtIDQpID09PSAnPEJSPicpIHtcclxuXHRcdFx0XHRlLmlubmVySFRNTCA9IGUuaW5uZXJIVE1MICsgJyZuYnNwOyc7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdHIgPSBkb2N1bWVudC5jcmVhdGVSYW5nZSgpO1xyXG5cdFx0XHRyLnNlbGVjdE5vZGVDb250ZW50cyhlKTtcclxuXHRcdFx0cy5yZW1vdmVBbGxSYW5nZXMoKTtcclxuXHRcdFx0cy5hZGRSYW5nZShyKTtcclxuXHRcdH1cclxuXHR9XHJcblx0Ly8gU29tZSBvbGRlciBicm93c2Vyc1xyXG5cdGVsc2UgaWYgKGRvY3VtZW50LmdldFNlbGVjdGlvbikge1xyXG5cdFx0cyA9IGRvY3VtZW50LmdldFNlbGVjdGlvbigpO1xyXG5cdFx0ciA9IGRvY3VtZW50LmNyZWF0ZVJhbmdlKCk7XHJcblx0XHRyLnNlbGVjdE5vZGVDb250ZW50cyhlKTtcclxuXHRcdHMucmVtb3ZlQWxsUmFuZ2VzKCk7XHJcblx0XHRzLmFkZFJhbmdlKHIpO1xyXG5cdH1cclxuXHQvLyBJRVxyXG5cdGVsc2UgaWYgKGRvY3VtZW50LnNlbGVjdGlvbikge1xyXG5cdFx0ciA9IGRvY3VtZW50LmJvZHkuY3JlYXRlVGV4dFJhbmdlKCk7XHJcblx0XHRyLm1vdmVUb0VsZW1lbnRUZXh0KGUpO1xyXG5cdFx0ci5zZWxlY3QoKTtcclxuXHR9XHJcbn1cclxuXHJcbi8qKlxyXG4qIFBsYXkgcXVpY2t0aW1lIGZpbGUgYnkgZGV0ZXJtaW5pbmcgaXQncyB3aWR0aC9oZWlnaHRcclxuKiBmcm9tIHRoZSBkaXNwbGF5ZWQgcmVjdGFuZ2xlIGFyZWFcclxuKi9cclxuZnVuY3Rpb24gcGxheV9xdF9maWxlKG9iaikge1xyXG5cdCd1c2Ugc3RyaWN0JztcclxuXHJcblx0dmFyIHJlY3RhbmdsZSA9IG9iai5HZXRSZWN0YW5nbGUoKTtcclxuXHR2YXIgd2lkdGgsIGhlaWdodDtcclxuXHJcblx0aWYgKHJlY3RhbmdsZSkge1xyXG5cdFx0cmVjdGFuZ2xlID0gcmVjdGFuZ2xlLnNwbGl0KCcsJyk7XHJcblx0XHR2YXIgeDEgPSBwYXJzZUludChyZWN0YW5nbGVbMF0sIDEwKTtcclxuXHRcdHZhciB4MiA9IHBhcnNlSW50KHJlY3RhbmdsZVsyXSwgMTApO1xyXG5cdFx0dmFyIHkxID0gcGFyc2VJbnQocmVjdGFuZ2xlWzFdLCAxMCk7XHJcblx0XHR2YXIgeTIgPSBwYXJzZUludChyZWN0YW5nbGVbM10sIDEwKTtcclxuXHJcblx0XHR3aWR0aCA9ICh4MSA8IDApID8gKHgxICogLTEpICsgeDIgOiB4MiAtIHgxO1xyXG5cdFx0aGVpZ2h0ID0gKHkxIDwgMCkgPyAoeTEgKiAtMSkgKyB5MiA6IHkyIC0geTE7XHJcblx0fSBlbHNlIHtcclxuXHRcdHdpZHRoID0gMjAwO1xyXG5cdFx0aGVpZ2h0ID0gMDtcclxuXHR9XHJcblxyXG5cdG9iai53aWR0aCA9IHdpZHRoO1xyXG5cdG9iai5oZWlnaHQgPSBoZWlnaHQgKyAxNjtcclxuXHJcblx0b2JqLlNldENvbnRyb2xsZXJWaXNpYmxlKHRydWUpO1xyXG5cdG9iai5QbGF5KCk7XHJcbn1cclxuXHJcbnZhciBpbkF1dG9jb21wbGV0ZSA9IGZhbHNlO1xyXG52YXIgbGFzdEtleUVudGVyZWQgPSAnJztcclxuXHJcbi8qKlxyXG4qIENoZWNrIGV2ZW50IGtleVxyXG4qL1xyXG5mdW5jdGlvbiBwaHBiYkNoZWNrS2V5KGV2ZW50KSB7XHJcblx0J3VzZSBzdHJpY3QnO1xyXG5cclxuXHQvLyBLZXljb2RlIGlzIGFycmF5IGRvd24gb3IgdXA/XHJcblx0aWYgKGV2ZW50LmtleUNvZGUgJiYgKGV2ZW50LmtleUNvZGUgPT09IDQwIHx8IGV2ZW50LmtleUNvZGUgPT09IDM4KSkge1xyXG5cdFx0aW5BdXRvY29tcGxldGUgPSB0cnVlO1xyXG5cdH1cclxuXHJcblx0Ly8gTWFrZSBzdXJlIHdlIGFyZSBub3Qgd2l0aGluIGFuIFwiYXV0b2NvbXBsZXRpb25cIiBmaWVsZFxyXG5cdGlmIChpbkF1dG9jb21wbGV0ZSkge1xyXG5cdFx0Ly8gSWYgcmV0dXJuIHByZXNzZWQgYW5kIGtleSBjaGFuZ2VkIHdlIHJlc2V0IHRoZSBhdXRvY29tcGxldGlvblxyXG5cdFx0aWYgKCFsYXN0S2V5RW50ZXJlZCB8fCBsYXN0S2V5RW50ZXJlZCA9PT0gZXZlbnQud2hpY2gpIHtcclxuXHRcdFx0aW5BdXRvY29tcGxldGUgPSBmYWxzZTtcclxuXHRcdFx0cmV0dXJuIHRydWU7XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHQvLyBLZXljb2RlIGlzIG5vdCByZXR1cm4sIHRoZW4gcmV0dXJuLiA7KVxyXG5cdGlmIChldmVudC53aGljaCAhPT0gMTMpIHtcclxuXHRcdGxhc3RLZXlFbnRlcmVkID0gZXZlbnQud2hpY2g7XHJcblx0XHRyZXR1cm4gdHJ1ZTtcclxuXHR9XHJcblxyXG5cdHJldHVybiBmYWxzZTtcclxufVxyXG5cclxuLyoqXHJcbiogQXBwbHkgb25rZXlwcmVzcyBldmVudCBmb3IgZm9yY2luZyBkZWZhdWx0IHN1Ym1pdCBidXR0b24gb24gRU5URVIga2V5IHByZXNzXHJcbiovXHJcbmpRdWVyeShmdW5jdGlvbigkKSB7XHJcblx0J3VzZSBzdHJpY3QnO1xyXG5cclxuXHQkKCdmb3JtIGlucHV0W3R5cGU9dGV4dF0sIGZvcm0gaW5wdXRbdHlwZT1wYXNzd29yZF0nKS5vbigna2V5cHJlc3MnLCBmdW5jdGlvbiAoZSkge1xyXG5cdFx0dmFyIGRlZmF1bHRCdXR0b24gPSAkKHRoaXMpLnBhcmVudHMoJ2Zvcm0nKS5maW5kKCdpbnB1dFt0eXBlPXN1Ym1pdF0uZGVmYXVsdC1zdWJtaXQtYWN0aW9uJyk7XHJcblxyXG5cdFx0aWYgKCFkZWZhdWx0QnV0dG9uIHx8IGRlZmF1bHRCdXR0b24ubGVuZ3RoIDw9IDApIHtcclxuXHRcdFx0cmV0dXJuIHRydWU7XHJcblx0XHR9XHJcblxyXG5cdFx0aWYgKHBocGJiQ2hlY2tLZXkoZSkpIHtcclxuXHRcdFx0cmV0dXJuIHRydWU7XHJcblx0XHR9XHJcblxyXG5cdFx0aWYgKChlLndoaWNoICYmIGUud2hpY2ggPT09IDEzKSB8fCAoZS5rZXlDb2RlICYmIGUua2V5Q29kZSA9PT0gMTMpKSB7XHJcblx0XHRcdGRlZmF1bHRCdXR0b24uY2xpY2soKTtcclxuXHRcdFx0cmV0dXJuIGZhbHNlO1xyXG5cdFx0fVxyXG5cclxuXHRcdHJldHVybiB0cnVlO1xyXG5cdH0pO1xyXG59KTtcclxuXHJcbi8qKlxyXG4qIEZ1bmN0aW9ucyBmb3IgdXNlciBzZWFyY2ggcG9wdXBcclxuKi9cclxuZnVuY3Rpb24gaW5zZXJ0VXNlcihmb3JtSWQsIHZhbHVlKSB7XHJcblx0J3VzZSBzdHJpY3QnO1xyXG5cclxuXHR2YXIgJGZvcm0gPSBqUXVlcnkoZm9ybUlkKSxcclxuXHRcdGZvcm1OYW1lID0gJGZvcm0uYXR0cignZGF0YS1mb3JtLW5hbWUnKSxcclxuXHRcdGZpZWxkTmFtZSA9ICRmb3JtLmF0dHIoJ2RhdGEtZmllbGQtbmFtZScpLFxyXG5cdFx0aXRlbSA9IG9wZW5lci5kb2N1bWVudC5mb3Jtc1tmb3JtTmFtZV1bZmllbGROYW1lXTtcclxuXHJcblx0aWYgKGl0ZW0udmFsdWUubGVuZ3RoICYmIGl0ZW0udHlwZSA9PT0gJ3RleHRhcmVhJykge1xyXG5cdFx0dmFsdWUgPSBpdGVtLnZhbHVlICsgJ1xcbicgKyB2YWx1ZTtcclxuXHR9XHJcblxyXG5cdGl0ZW0udmFsdWUgPSB2YWx1ZTtcclxufVxyXG5cclxuZnVuY3Rpb24gaW5zZXJ0X21hcmtlZF91c2Vycyhmb3JtSWQsIHVzZXJzKSB7XHJcblx0J3VzZSBzdHJpY3QnO1xyXG5cclxuXHRmb3IgKHZhciBpID0gMDsgaSA8IHVzZXJzLmxlbmd0aDsgaSsrKSB7XHJcblx0XHRpZiAodXNlcnNbaV0uY2hlY2tlZCkge1xyXG5cdFx0XHRpbnNlcnRVc2VyKGZvcm1JZCwgdXNlcnNbaV0udmFsdWUpO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0d2luZG93LmNsb3NlKCk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGluc2VydF9zaW5nbGVfdXNlcihmb3JtSWQsIHVzZXIpIHtcclxuXHQndXNlIHN0cmljdCc7XHJcblxyXG5cdGluc2VydFVzZXIoZm9ybUlkLCB1c2VyKTtcclxuXHR3aW5kb3cuY2xvc2UoKTtcclxufVxyXG5cclxuLyoqXHJcbiogUmVzaXplIHBvc3RlciBwcm9maWxlIGJsb2NrXHJcbiovXHJcbmZ1bmN0aW9uIGFkanVzdFBvc3RlclByb2ZpbGUocG9zdGJvZHkpIHtcclxuXHR2YXIgcHJvZmlsZSA9IHBvc3Rib2R5LnBhcmVudCgpLnByZXYoKSxcclxuXHRcdHBvc3QgPSBwcm9maWxlLnBhcmVudCgpLFxyXG5cdFx0cmVzaXplZCA9IHByb2ZpbGUuaGFzQ2xhc3MoJ3Jlc2l6ZWQnKTtcclxuXHJcblx0ZnVuY3Rpb24gdW5yZXNpemUoKSB7XHJcblx0XHRwcm9maWxlLnJlbW92ZUNsYXNzKCdyZXNpemVkJykuY3NzKCdtaW4taGVpZ2h0JywgJycpO1xyXG5cdH1cclxuXHJcblx0aWYgKHBvc3Qud2lkdGgoKSA8IChwcm9maWxlLndpZHRoKCkgKyBwb3N0Ym9keS53aWR0aCgpKSkge1xyXG5cdFx0aWYgKHJlc2l6ZWQpIHtcclxuXHRcdFx0dW5yZXNpemUoKTtcclxuXHRcdH1cclxuXHRcdHJldHVybiBmYWxzZTtcclxuXHR9XHJcblxyXG5cdGlmIChyZXNpemVkKSB7XHJcblx0XHRwcm9maWxlLmNzcygnbWluLWhlaWdodCcsICcnKTtcclxuXHR9XHJcblx0cHJvZmlsZS5jc3MoJ21pbi1oZWlnaHQnLCBNYXRoLmZsb29yKHBvc3Rib2R5LmhlaWdodCgpKSArICdweCcpLmFkZENsYXNzKCdyZXNpemVkJyk7XHJcbn1cclxuXHJcbi8qKlxyXG4qIFJlc3BvbnNpdmUgbmF2aWdhdGlvblxyXG4qL1xyXG5mdW5jdGlvbiBjaGVja05hdmlnYXRpb24oZm9yY2UpXHJcbntcclxuXHRmdW5jdGlvbiBpbml0KG5hdilcclxuXHR7XHJcblx0XHRuYXYucmVzcG9uc2l2ZSA9IGZhbHNlO1xyXG5cdFx0bmF2Lmxhc3RXaWR0aCA9IDA7XHJcblx0XHRuYXYuaXRlbUNvdW50ID0gMDtcclxuXHJcblx0XHQvLyBDb3B5IGNoaWxkcmVuIGl0ZW1zXHJcblx0XHRuYXYuY29udGVudHMgPSBuYXYubWVudS5maW5kKCcuZHJvcGRvd24tY29udGVudHM6Zmlyc3QnKTtcclxuXHRcdG5hdi5jYW5Ub2dnbGUgPSAkKCk7XHJcblx0XHRuYXYubm9Ub2dnbGUgPSAkKCk7XHJcblx0XHRuYXYuY29udGVudHMuY2hpbGRyZW4oJy5zZXBhcmF0b3I6bGFzdC1jaGlsZCcpLmhpZGUoKTtcclxuXHRcdG5hdi5pdGVtcyA9IG5hdi5saXN0cy5jaGlsZHJlbigpLm5vdChuYXYubWVudSkuZWFjaChmdW5jdGlvbihpKSB7XHJcblx0XHRcdHZhciAkdGhpcyA9ICQodGhpcyksXHJcblx0XHRcdFx0Y2xvbmVDbGFzcztcclxuXHJcblx0XHRcdGlmICgkdGhpcy5pcygnLm5vdC1yZXNwb25zaXZlLCAucmVzcG9uc2l2ZS1tZW51LCAuZHJvcGRvd24tY29udGFpbmVyLCAuc2VsZWN0ZWQnKSB8fCAkdGhpcy5hdHRyKCdkYXRhLXNraXAtcmVzcG9uc2l2ZScpID09ICd0cnVlJykge1xyXG5cdFx0XHRcdCR0aGlzLmF0dHIoJ2RhdGEtcmVzcG9uc2l2ZS1pbmRleCcsIC0xKTtcclxuXHRcdFx0XHRuYXYubm9Ub2dnbGUgPSBuYXYubm9Ub2dnbGUuYWRkKCR0aGlzKTtcclxuXHRcdFx0XHRyZXR1cm47XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdGNsb25lQ2xhc3MgPSAoXHJcblx0XHRcdFx0XHQkdGhpcy5hdHRyKCdkYXRhLXJlc3BvbnNpdmUtY2xhc3MnKSA9PT0gdW5kZWZpbmVkID8gXHJcblx0XHRcdFx0XHRcdCgkdGhpcy5oYXNDbGFzcygnc21hbGwtaWNvbicpID8gJHRoaXMuYXR0cignY2xhc3MnKSA6ICcnKSA6IFxyXG5cdFx0XHRcdFx0XHQkdGhpcy5hdHRyKCdkYXRhLXJlc3BvbnNpdmUtY2xhc3MnKVxyXG5cdFx0XHRcdCkgKyAnIHJlc3BvbnNpdmUtaW5kZXgtJyArIGk7XHJcblxyXG5cdFx0XHRuYXYuY29udGVudHMuYXBwZW5kKFxyXG5cdFx0XHRcdCR0aGlzLmNsb25lKHRydWUpLmF0dHIoJ2NsYXNzJywgY2xvbmVDbGFzcykuYWRkQ2xhc3MoJ3Jlc3BvbnNpdmUtY2xvbmUnKS5yZW1vdmVDbGFzcygndGFiJylcclxuXHRcdFx0KTtcclxuXHJcblx0XHRcdCR0aGlzLmFkZENsYXNzKCdyZXNwb25zaXZlLWNsb25lZC1pdGVtJykuYXR0cignZGF0YS1jbG9uZS1pbmRleCcsIGkpO1xyXG5cdFx0XHRuYXYuY2FuVG9nZ2xlID0gbmF2LmNhblRvZ2dsZS5hZGQoJHRoaXMpO1xyXG5cdFx0XHRuYXYuaXRlbUNvdW50ICsrO1xyXG5cdFx0fSk7XHJcblx0XHRuYXYuY29udGVudHMuZmluZCgnYS5uYXYtbGluaycpLnJlbW92ZUNsYXNzKCduYXYtbGluaycpO1xyXG5cdFx0bmF2LnJlc3BvbnNpdmVDbG9uZXMgPSBuYXYuY29udGVudHMuY2hpbGRyZW4oJy5yZXNwb25zaXZlLWNsb25lJykuaGlkZSgpO1xyXG5cclxuXHRcdG5hdi5pbml0aWFsaXplZCA9IHRydWU7XHJcblx0fVxyXG5cclxuXHRmdW5jdGlvbiBjaGVjayhuYXYsIGZvcmNlKVxyXG5cdHtcclxuXHRcdHZhciBjb250YWluZXJXaWR0aCwgdG90YWwsIHdpZHRoLCBtZW51V2lkdGgsIGhpZGluZztcclxuXHJcblx0XHQvLyBTZXR1cCBuYXZpZ2F0aW9uXHJcblx0XHRpZiAoIW5hdi5pbml0aWFsaXplZCkge1xyXG5cdFx0XHRpbml0KG5hdik7XHJcblx0XHRcdGZvcmNlID0gdHJ1ZTtcclxuXHRcdH1cclxuXHJcblx0XHRpZiAoIW5hdi5pdGVtQ291bnQpIHtcclxuXHRcdFx0Ly8gTm90aGluZyB0byBoaWRlXHJcblx0XHRcdHJldHVybjtcclxuXHRcdH1cclxuXHJcblx0XHQvLyBDaGVjayB3aWR0aFxyXG5cdFx0Y29udGFpbmVyV2lkdGggPSBuYXYuY29udGFpbmVyLndpZHRoKCk7XHJcblx0XHRpZiAoIWZvcmNlICYmIGNvbnRhaW5lcldpZHRoID09IG5hdi5sYXN0V2lkdGgpIHtcclxuXHRcdFx0cmV0dXJuO1xyXG5cdFx0fVxyXG5cdFx0bmF2Lmxhc3RXaWR0aCA9IGNvbnRhaW5lcldpZHRoO1xyXG5cclxuXHRcdC8vIFNob3cgYWxsIGl0ZW1zXHJcblx0XHRpZiAobmF2LnJlc3BvbnNpdmUpIHtcclxuXHRcdFx0bmF2LmNhblRvZ2dsZS5zaG93KCk7XHJcblx0XHRcdG5hdi5yZXNwb25zaXZlQ2xvbmVzLmhpZGUoKTtcclxuXHRcdFx0bmF2Lm1lbnUucmVtb3ZlQ2xhc3MoJ3Nob3dpbmctcmVzcG9uc2l2ZS1tZW51Jyk7XHJcblx0XHRcdGlmICghbmF2LmFsd2F5c1Nob3dNZW51KSB7XHJcblx0XHRcdFx0bmF2Lm1lbnUuc2hvdygpO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0XHRuYXYucmVzcG9uc2l2ZSA9IGZhbHNlO1xyXG5cdFx0bWVudVdpZHRoID0gbmF2Lm1lbnUub3V0ZXJXaWR0aCh0cnVlKTtcclxuXHRcdHdpZHRoID0gbWVudVdpZHRoO1xyXG5cclxuXHRcdC8vIENvdW50IHdpZHRoIG9mIGFsbCBpdGVtcyB0aGF0IGNhbm5vdCBiZSBoaWRkZW5cclxuXHRcdG5hdi5ub1RvZ2dsZS5lYWNoKGZ1bmN0aW9uKCkge1xyXG5cdFx0XHR2YXIgJHRoaXMgPSAkKHRoaXMpO1xyXG5cdFx0XHRpZiAoJHRoaXMuaXMoJzp2aXNpYmxlJykpIHtcclxuXHRcdFx0XHR3aWR0aCArPSAkdGhpcy5vdXRlcldpZHRoKHRydWUpO1xyXG5cdFx0XHR9XHJcblx0XHR9KTtcclxuXHJcblx0XHQvLyBUZXN0IGFsbCBvdGhlciBpdGVtc1xyXG5cdFx0aGlkaW5nID0gKHdpZHRoID49IGNvbnRhaW5lcldpZHRoKTtcclxuXHRcdG5hdi5jYW5Ub2dnbGUuZWFjaChmdW5jdGlvbigpIHtcclxuXHRcdFx0dmFyICR0aGlzID0gJCh0aGlzKSxcclxuXHRcdFx0XHRpdGVtV2lkdGgsIG1hcmdpbjtcclxuXHJcblx0XHRcdGlmICghJHRoaXMuaXMoJzp2aXNpYmxlJykpIHtcclxuXHRcdFx0XHRyZXR1cm47XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdGlmICghaGlkaW5nKSB7XHJcblx0XHRcdFx0aXRlbVdpZHRoID0gJHRoaXMub3V0ZXJXaWR0aCh0cnVlKTtcclxuXHRcdFx0XHRpZiAoIWl0ZW1XaWR0aCkge1xyXG5cdFx0XHRcdFx0JHRoaXMuaGlkZSgpO1xyXG5cdFx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0d2lkdGggKz0gaXRlbVdpZHRoO1xyXG5cdFx0XHRcdGlmICh3aWR0aCA+PSBjb250YWluZXJXaWR0aCkge1xyXG5cdFx0XHRcdFx0aGlkaW5nID0gdHJ1ZTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdGlmIChoaWRpbmcpIHtcclxuXHRcdFx0XHQkdGhpcy5oaWRlKCk7XHJcblx0XHRcdFx0bmF2LnJlc3BvbnNpdmVDbG9uZXMuZmlsdGVyKCcucmVzcG9uc2l2ZS1pbmRleC0nICsgJHRoaXMuYXR0cignZGF0YS1jbG9uZS1pbmRleCcpKS5zaG93KCk7XHJcblx0XHRcdH1cclxuXHRcdH0pO1xyXG5cclxuXHRcdG5hdi5yZXNwb25zaXZlID0gaGlkaW5nO1xyXG5cdFx0aWYgKCFoaWRpbmcgJiYgIW5hdi5hbHdheXNTaG93TWVudSkge1xyXG5cdFx0XHRuYXYubWVudS5oaWRlKCk7XHJcblx0XHR9XHJcblx0XHRlbHNlIGlmIChoaWRpbmcpIHtcclxuXHRcdFx0bmF2Lm1lbnUuYWRkQ2xhc3MoJ3Nob3dpbmctcmVzcG9uc2l2ZS1tZW51Jyk7XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHRmb3IgKHZhciBpPTA7IGk8c3R5bGVDb25maWcuX3Jlc3BvbnNpdmVOYXZpZ2F0aW9uLmxlbmd0aDsgaSsrKSB7XHJcblx0XHRjaGVjayhzdHlsZUNvbmZpZy5fcmVzcG9uc2l2ZU5hdmlnYXRpb25baV0sIGZvcmNlKTtcclxuXHR9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGluaXRSZXNwb25zaXZlTmF2aWdhdGlvbigpXHJcbntcclxuXHRzdHlsZUNvbmZpZy5fcmVzcG9uc2l2ZU5hdmlnYXRpb24gPSBbXTtcclxuXHJcblx0JCgnLm5hdi10YWJzLCAubmF2YmFyLnNlY29uZGFyeScpLmVhY2goZnVuY3Rpb24oKSB7XHJcblx0XHR2YXIgJHRoaXMgPSAkKHRoaXMpLFxyXG5cdFx0XHRsaXN0cyA9ICR0aGlzLmNoaWxkcmVuKCd1bCcpLFxyXG5cdFx0XHRtZW51ID0gbGlzdHMuY2hpbGRyZW4oJy5yZXNwb25zaXZlLW1lbnU6Zmlyc3QnKSxcclxuXHRcdFx0YWx3YXlzU2hvd01lbnUgPSAobWVudS5sZW5ndGggPiAwKTtcclxuXHJcblx0XHQvLyBDcmVhdGUgZW1wdHkgaGlkZGVuIG1lbnVcclxuXHRcdGlmICghbWVudS5sZW5ndGgpIHtcclxuXHRcdFx0aWYgKCR0aGlzLmlzKCcubmF2LXRhYnMnKSkge1xyXG5cdFx0XHRcdC8vIFNvbWV0aGluZyB3ZW50IHdyb25nIC0gbWFpbiBtZW51IG11c3QgaGF2ZSByZXNwb25zaXZlIG1lbnVcclxuXHRcdFx0XHRyZXR1cm47XHJcblx0XHRcdH1cclxuXHRcdFx0Ly8gU2Vjb25kYXJ5IG1lbnVcclxuXHRcdFx0bGlzdHMuZXEoMCkucHJlcGVuZCgnPGxpIGNsYXNzPVwicmVzcG9uc2l2ZS1tZW51IGRyb3Bkb3duLWNvbnRhaW5lclwiIHN0eWxlPVwiZGlzcGxheTogbm9uZTtcIj48YSBocmVmPVwiI1wiIGNsYXNzPVwiZHJvcGRvd24tdHJpZ2dlciBkcm9wZG93bi10b2dnbGVcIj48aSBjbGFzcz1cIm1kaSBtZGktbWVudVwiIGFyaWEtaGlkZGVuPVwidHJ1ZVwiPjwvYT4nICtcclxuXHRcdFx0XHRcdCc8ZGl2IGNsYXNzPVwiZHJvcGRvd24gaGlkZGVuXCI+JyArIFxyXG5cdFx0XHRcdFx0XHQnPGRpdiBjbGFzcz1cInBvaW50ZXJcIj48ZGl2IGNsYXNzPVwicG9pbnRlci1pbm5lclwiPjwvZGl2PjwvZGl2PicgKyBcclxuXHRcdFx0XHRcdFx0Jzx1bCBjbGFzcz1cImRyb3Bkb3duLWNvbnRlbnRzXCIgLz48L3VsPicgK1xyXG5cdFx0XHRcdFx0JzwvZGl2PicgK1xyXG5cdFx0XHRcdCc8L2xpPicpO1xyXG5cdFx0XHRtZW51ID0gbGlzdHMuY2hpbGRyZW4oJy5yZXNwb25zaXZlLW1lbnU6Zmlyc3QnKTtcclxuXHRcdFx0cGhwYmIucmVnaXN0ZXJEcm9wZG93bihtZW51LmZpbmQoJy5kcm9wZG93bi10b2dnbGUnKSwgbWVudS5maW5kKCcuZHJvcGRvd24nKSk7XHJcblx0XHR9XHJcblxyXG5cdFx0c3R5bGVDb25maWcuX3Jlc3BvbnNpdmVOYXZpZ2F0aW9uLnB1c2goe1xyXG5cdFx0XHRjb250YWluZXI6ICR0aGlzLFxyXG5cdFx0XHRsaXN0czogbGlzdHMsXHJcblx0XHRcdG1lbnU6IG1lbnUsXHJcblx0XHRcdGluaXRpYWxpemVkOiBmYWxzZSxcclxuXHRcdFx0YWx3YXlzU2hvd01lbnU6IGFsd2F5c1Nob3dNZW51XHJcblx0XHR9KTtcclxuXHR9KTtcclxufVxyXG5cclxuLyoqXHJcbiogUGFyc2UgZG9jdW1lbnQgYmxvY2tcclxuKi9cclxuZnVuY3Rpb24gcGFyc2VEb2N1bWVudCgkY29udGFpbmVyKSB7XHJcblx0J3VzZSBzdHJpY3QnO1xyXG5cclxuXHR2YXIgdGVzdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpLFxyXG5cdFx0b2xkQnJvd3NlciA9ICh0eXBlb2YgdGVzdC5zdHlsZS5ib3JkZXJSYWRpdXMgPT09ICd1bmRlZmluZWQnKSxcclxuXHRcdCRib2R5ID0gJCgnYm9keScpO1xyXG5cclxuXHQvKipcclxuXHQqIEFkanVzdCBuYXZpZ2F0aW9uIHRhYnNcclxuXHQqL1xyXG5cdCRjb250YWluZXIuZmluZCgnLm5hdi10YWJzJykuZWFjaChmdW5jdGlvbigpIHtcclxuXHRcdHZhciB0YWJzID0gJCh0aGlzKS5jaGlsZHJlbigpLmNoaWxkcmVuKCk7XHJcblxyXG5cdFx0Ly8gRml4IHRhYnMgc3RydWN0dXJlXHJcblx0XHR0YWJzLm5vdCgnLnRhYicpLmVhY2goZnVuY3Rpb24oKSB7XHJcblx0XHRcdHZhciB0YWIgPSAkKHRoaXMpLFxyXG5cdFx0XHRcdGNsYXNzTmFtZSA9IHRhYi5hdHRyKCdjbGFzcycpLnNwbGl0KCcgJyksXHJcblx0XHRcdFx0aTtcclxuXHRcdFx0dGFiLmF0dHIoJ2NsYXNzJywgJ3RhYicpO1xyXG5cdFx0XHRmb3IgKGk9MDsgaTxjbGFzc05hbWUubGVuZ3RoOyBpKyspIHtcclxuXHRcdFx0XHRpZiAoY2xhc3NOYW1lW2ldLnN1YnN0cigwLCA1KSA9PSAnaWNvbi0nKSB7XHJcblx0XHRcdFx0XHR0YWIuYWRkQ2xhc3MoY2xhc3NOYW1lW2ldLnN1YnN0cig1KSk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHR9KS5jaGlsZHJlbignOmZpcnN0LWNoaWxkJykuYWRkQ2xhc3MoJ25hdi1saW5rJyk7XHJcblxyXG5cdFx0Ly8gVG9vbHRpcHMgZm9yIHRhYnNcclxuXHRcdHRhYnMuZWFjaChmdW5jdGlvbigpIHtcclxuXHRcdFx0dmFyICR0aGlzID0gJCh0aGlzKSxcclxuXHRcdFx0XHR0aXRsZSA9ICcnO1xyXG5cdFx0XHRpZiAoISR0aGlzLmF0dHIoJ3RpdGxlJykpIHtcclxuXHRcdFx0XHR0aXRsZSA9ICR0aGlzLmNoaWxkcmVuKCcubmF2LWxpbmsnKS50ZXh0KCkudHJpbSgpO1xyXG5cdFx0XHRcdGlmICghdGl0bGUubGVuZ3RoKSByZXR1cm47XHJcblxyXG5cdFx0XHRcdCR0aGlzLmNoaWxkcmVuKCcubmF2LWxpbmsgKyBzdHJvbmcnKS5lYWNoKGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRcdFx0dGl0bGUgKz0gJyAoJyArICQodGhpcykudGV4dCgpLnRyaW0oKSArICcpJztcclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0XHQkdGhpcy5hdHRyKCd0aXRsZScsIHRpdGxlKTtcclxuXHRcdFx0fVxyXG5cdFx0fSk7XHJcblx0fSk7XHJcblxyXG5cdC8qKlxyXG5cdCogU3dpdGNoIHNlbGVjdGVkIHRhYlxyXG5cdCovXHJcblx0JGNvbnRhaW5lci5maW5kKCcubmF2LXRhYnNbZGF0YS1jdXJyZW50LXBhZ2VdJykuZWFjaChmdW5jdGlvbigpIHtcclxuXHRcdHZhciB0YWJzID0gJCh0aGlzKSxcclxuXHRcdFx0Y3VycmVudCA9IHRhYnMuYXR0cignZGF0YS1jdXJyZW50LXBhZ2UnKSxcclxuXHRcdFx0Zm91bmQgPSBmYWxzZSxcclxuXHRcdFx0Y29udGVudCwgY2xhc3NlcywgaSwga2V5O1xyXG5cclxuXHRcdCQoJy50YWJbZGF0YS1zZWxlY3QtbWF0Y2hdJywgdGhpcykuZWFjaChmdW5jdGlvbigpIHtcclxuXHRcdFx0dmFyIG1hdGNoZXMgPSAkKHRoaXMpLmF0dHIoJ2RhdGEtc2VsZWN0LW1hdGNoJykuc3BsaXQoJywnKSxcclxuXHRcdFx0XHRpLCBtYXRjaCwgaXRlbTtcclxuXHRcdFx0XHJcblx0XHRcdGZvciAoaT0wOyBpPG1hdGNoZXMubGVuZ3RoOyBpKyspIHtcclxuXHRcdFx0XHRtYXRjaCA9IG1hdGNoZXNbaV0udHJpbSgpO1xyXG5cdFx0XHRcdGlmIChjdXJyZW50LmluZGV4T2YobWF0Y2gpICE9IC0xKSB7XHJcblx0XHRcdFx0XHQvLyBGb3VuZCBhIG1hdGNoIVxyXG5cdFx0XHRcdFx0aXRlbSA9ICQodGhpcyk7XHJcblx0XHRcdFx0XHRpZiAoIWl0ZW0uaGFzQ2xhc3MoJ3NlbGVjdGVkJykpIHtcclxuXHRcdFx0XHRcdFx0dGFicy5maW5kKCcudGFiLnNlbGVjdGVkJykucmVtb3ZlQ2xhc3MoJ3NlbGVjdGVkJyk7XHJcblx0XHRcdFx0XHRcdGl0ZW0uYWRkQ2xhc3MoJ3NlbGVjdGVkJyk7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRmb3VuZCA9IHRydWU7XHJcblx0XHRcdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHR9KTtcclxuXHJcblx0XHQvLyBDaGVjayBmb3Iga25vd24gZXh0ZW5zaW9uc1xyXG5cdFx0aWYgKGZvdW5kKSB7XHJcblx0XHRcdHJldHVybjtcclxuXHRcdH1cclxuXHJcblx0XHRjb250ZW50ID0gJGNvbnRhaW5lci5maW5kKCcuY29udGVudC5wYWdlcy1jb250ZW50Jyk7XHJcblx0XHRpZiAoY29udGVudC5sZW5ndGgpIHtcclxuXHRcdFx0Ly8gR2V0IHBhZ2UgY29udGVudCBjbGFzcywgdHJ5IHRvIGZpbmQgbWF0Y2hpbmcgbGlua1xyXG5cdFx0XHRjbGFzc2VzID0gY29udGVudC5wcm9wKCdjbGFzcycpLnNwbGl0KCcgJyk7XHJcblx0XHRcdGZvciAoaSA9IDA7IGkgPCBjbGFzc2VzLmxlbmd0aCAmJiAhZm91bmQ7IGkrKykge1xyXG5cdFx0XHRcdGtleSA9IGNsYXNzZXNbaV0udHJpbSgpO1xyXG5cdFx0XHRcdGlmIChrZXkgIT09ICdjb250ZW50JyAmJiBrZXkgIT09ICdwYWdlcy1jb250ZW50Jykge1xyXG5cdFx0XHRcdFx0JGNvbnRhaW5lci5maW5kKCcudGFiLnBhZ2VzLicgKyBrZXkpLmVhY2goZnVuY3Rpb24oKSB7XHJcblx0XHRcdFx0XHRcdHRhYnMuZmluZCgnLnRhYi5zZWxlY3RlZCcpLnJlbW92ZUNsYXNzKCdzZWxlY3RlZCcpO1xyXG5cdFx0XHRcdFx0XHQkKHRoaXMpLmFkZENsYXNzKCdzZWxlY3RlZCcpO1xyXG5cdFx0XHRcdFx0XHRmb3VuZCA9IHRydWU7XHJcblx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdFx0aWYgKGZvdW5kKSB7XHJcblx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHQvLyBHZXQgZmlyc3QgcGFnZSBsaW5rXHJcblx0XHRcdCRjb250YWluZXIuZmluZCgnLnRhYi5wYWdlczpmaXJzdCcpLmVhY2goZnVuY3Rpb24oKSB7XHJcblx0XHRcdFx0dGFicy5maW5kKCcudGFiLnNlbGVjdGVkJykucmVtb3ZlQ2xhc3MoJ3NlbGVjdGVkJyk7XHJcblx0XHRcdFx0JCh0aGlzKS5hZGRDbGFzcygnc2VsZWN0ZWQnKTtcclxuXHRcdFx0XHRmb3VuZCA9IHRydWU7XHJcblx0XHRcdH0pO1xyXG5cdFx0fVxyXG5cdH0pO1xyXG5cclxuXHQvKipcclxuXHQqIFJlc2V0IGF2YXRhciBkaW1lbnNpb25zIHdoZW4gY2hhbmdpbmcgVVJMIG9yIEVNQUlMXHJcblx0Ki9cclxuXHQkY29udGFpbmVyLmZpbmQoJ2lucHV0W2RhdGEtcmVzZXQtb24tZWRpdF0nKS5vbigna2V5dXAnLCBmdW5jdGlvbigpIHtcclxuXHRcdCQodGhpcy5nZXRBdHRyaWJ1dGUoJ2RhdGEtcmVzZXQtb24tZWRpdCcpKS52YWwoJycpO1xyXG5cdH0pO1xyXG5cclxuXHQvKipcclxuXHQqIFBhZ2luYXRpb25cclxuXHQqL1xyXG5cdCRjb250YWluZXIuZmluZCgnLnBhZ2luYXRpb24gLnBhZ2UtanVtcC1mb3JtIDpidXR0b24nKS5jbGljayhmdW5jdGlvbigpIHtcclxuXHRcdHZhciAkaW5wdXQgPSAkKHRoaXMpLnNpYmxpbmdzKCdpbnB1dC5pbnB1dGJveCcpO1xyXG5cdFx0cGFnZUp1bXAoJGlucHV0KTtcclxuXHR9KTtcclxuXHJcblx0JGNvbnRhaW5lci5maW5kKCcucGFnaW5hdGlvbiAucGFnZS1qdW1wLWZvcm0gaW5wdXQuaW5wdXRib3gnKS5vbigna2V5cHJlc3MnLCBmdW5jdGlvbihldmVudCkge1xyXG5cdFx0aWYgKGV2ZW50LndoaWNoID09PSAxMyB8fCBldmVudC5rZXlDb2RlID09PSAxMykge1xyXG5cdFx0XHRldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cdFx0XHRwYWdlSnVtcCgkKHRoaXMpKTtcclxuXHRcdH1cclxuXHR9KTtcclxuXHJcblx0JGNvbnRhaW5lci5maW5kKCcucGFnaW5hdGlvbiAuZHJvcGRvd24tdHJpZ2dlcicpLmNsaWNrKGZ1bmN0aW9uKCkge1xyXG5cdFx0dmFyICRkcm9wZG93bkNvbnRhaW5lciA9ICQodGhpcykucGFyZW50KCk7XHJcblx0XHQvLyBXYWl0IGEgbGl0dGxlIGJpdCB0byBtYWtlIHN1cmUgdGhlIGRyb3Bkb3duIGhhcyBhY3RpdmF0ZWRcclxuXHRcdHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XHJcblx0XHRcdGlmICgkZHJvcGRvd25Db250YWluZXIuaGFzQ2xhc3MoJ2Ryb3Bkb3duLXZpc2libGUnKSkge1xyXG5cdFx0XHRcdCRkcm9wZG93bkNvbnRhaW5lci5maW5kKCdpbnB1dC5pbnB1dGJveCcpLmZvY3VzKCk7XHJcblx0XHRcdH1cclxuXHRcdH0sIDEwMCk7XHJcblx0fSk7XHJcblxyXG5cdC8qKlxyXG5cdCogQWRqdXN0IEhUTUwgY29kZSBmb3IgSUU4IGFuZCBvbGRlciB2ZXJzaW9uc1xyXG5cdCovXHJcblx0Ly8gaWYgKG9sZEJyb3dzZXIpIHtcclxuXHQvLyBcdC8vIEZpeCAubGlua2xpc3QuYnVsbGV0aW4gbGlzdHNcclxuXHQvLyBcdCRjb250YWluZXJcclxuXHQvLyBcdFx0LmZpbmQoJ3VsLmxpbmtsaXN0LmJ1bGxldGluID4gbGknKVxyXG5cdC8vIFx0XHQuZmlsdGVyKCc6Zmlyc3QtY2hpbGQsIC5yaWdodHNpZGU6bGFzdC1jaGlsZCcpXHJcblx0Ly8gXHRcdC5hZGRDbGFzcygnbm8tYnVsbGV0aW4nKTtcclxuXHQvLyB9XHJcblxyXG5cdC8qKlxyXG5cdCogUmVzaXplIG5hdmlnYXRpb24gKGJyZWFkY3J1bWJzKSBibG9jayB0byBrZWVwIGFsbCBsaW5rcyBvbiBzYW1lIGxpbmVcclxuXHQqL1xyXG5cdCRjb250YWluZXIuZmluZCgnLm5hdmxpbmtzJykuZWFjaChmdW5jdGlvbigpIHtcclxuXHRcdHZhciAkdGhpcyA9ICQodGhpcyksXHJcblx0XHRcdCRsZWZ0ID0gJHRoaXMuY2hpbGRyZW4oKS5ub3QoJy5yaWdodHNpZGUnKSxcclxuXHRcdFx0JHJpZ2h0ID0gJHRoaXMuY2hpbGRyZW4oJy5yaWdodHNpZGUnKSxcclxuXHRcdFx0cXVldWVkID0gZmFsc2UsXHJcblx0XHRcdHRocm90dGxlZCA9IGZhbHNlO1xyXG5cclxuXHRcdGlmICgkbGVmdC5sZW5ndGggIT09IDEgfHwgISRyaWdodC5sZW5ndGgpIHtcclxuXHRcdFx0cmV0dXJuO1xyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIHJlc2l6ZSgpIHtcclxuXHRcdFx0dmFyIHdpZHRoID0gMCxcclxuXHRcdFx0XHRkaWZmID0gJGxlZnQub3V0ZXJXaWR0aCh0cnVlKSAtICRsZWZ0LndpZHRoKCksXHJcblx0XHRcdFx0bWluV2lkdGggPSBNYXRoLm1heCgkdGhpcy53aWR0aCgpIC8gMywgMjQwKSxcclxuXHRcdFx0XHRtYXhXaWR0aDtcclxuXHJcblx0XHRcdHRocm90dGxlZCA9IGZhbHNlO1xyXG5cdFx0XHQkcmlnaHQuZWFjaChmdW5jdGlvbigpIHtcclxuXHRcdFx0XHR2YXIgJHRoaXMgPSAkKHRoaXMpO1xyXG5cdFx0XHRcdGlmICgkdGhpcy5pcygnOnZpc2libGUnKSkge1xyXG5cdFx0XHRcdFx0d2lkdGggKz0gJHRoaXMub3V0ZXJXaWR0aCh0cnVlKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH0pO1xyXG5cclxuXHRcdFx0bWF4V2lkdGggPSAkdGhpcy53aWR0aCgpIC0gd2lkdGggLSBkaWZmO1xyXG5cdFx0XHQkbGVmdC5jc3MoJ21heC13aWR0aCcsIE1hdGguZmxvb3IoTWF0aC5tYXgobWF4V2lkdGgsIG1pbldpZHRoKSkgKyAncHgnKTtcclxuXHRcdH1cclxuXHJcblx0XHRyZXNpemUoKTtcclxuXHRcdCQod2luZG93KS5yZXNpemUoZnVuY3Rpb24oKSB7XHJcblx0XHRcdGlmICh0aHJvdHRsZWQpIHtcclxuXHRcdFx0XHRxdWV1ZWQgPSB0cnVlO1xyXG5cdFx0XHR9XHJcblx0XHRcdGVsc2Uge1xyXG5cdFx0XHRcdHJlc2l6ZSgpO1xyXG5cdFx0XHRcdHRocm90dGxlZCA9IHRydWU7XHJcblx0XHRcdFx0cXVldWVkID0gZmFsc2U7XHJcblx0XHRcdFx0c2V0VGltZW91dChmdW5jdGlvbigpIHtcclxuXHRcdFx0XHRcdHRocm90dGxlZCA9IGZhbHNlO1xyXG5cdFx0XHRcdFx0aWYgKHF1ZXVlZCkge1xyXG5cdFx0XHRcdFx0XHRyZXNpemUoKTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9LCAyNTApO1xyXG5cdFx0XHR9XHJcblx0XHR9KTtcclxuXHR9KTtcclxuXHJcblx0LyoqXHJcblx0KiBNYWtlcyBicmVhZGNydW1icyByZXNwb25zaXZlXHJcblx0Ki9cclxuXHQkY29udGFpbmVyLmZpbmQoJy5icmVhZGNydW1iczpub3QoW2RhdGEtc2tpcC1yZXNwb25zaXZlXSknKS5lYWNoKGZ1bmN0aW9uKCkge1xyXG5cdFx0dmFyICR0aGlzID0gJCh0aGlzKSxcclxuXHRcdFx0JGxpbmtzID0gJHRoaXMuZmluZCgnLmNydW1iJyksXHJcblx0XHRcdGxlbmd0aCA9ICRsaW5rcy5sZW5ndGgsXHJcblx0XHRcdGNsYXNzZXMgPSBbJ3dyYXBwZWQtbWF4JywgJ3dyYXBwZWQtd2lkZScsICd3cmFwcGVkLW1lZGl1bScsICd3cmFwcGVkLXNtYWxsJywgJ3dyYXBwZWQtdGlueSddLFxyXG5cdFx0XHRjbGFzc2VzTGVuZ3RoID0gY2xhc3Nlcy5sZW5ndGgsXHJcblx0XHRcdG1heEhlaWdodCA9IDAsXHJcblx0XHRcdGxhc3RXaWR0aCA9IGZhbHNlLFxyXG5cdFx0XHR3cmFwcGVkID0gZmFsc2UsXHJcblx0XHRcdHF1ZXVlZCA9IGZhbHNlLFxyXG5cdFx0XHR0aHJvdHRsZWQgPSBmYWxzZTtcclxuXHJcblx0XHQvLyBTZXQgdG9vbHRpcHNcclxuXHRcdCR0aGlzLmZpbmQoJ2EnKS5lYWNoKGZ1bmN0aW9uKCkge1xyXG5cdFx0XHR2YXIgJGxpbmsgPSAkKHRoaXMpO1xyXG5cdFx0XHQkbGluay5hdHRyKCd0aXRsZScsICRsaW5rLnRleHQoKSk7XHJcblx0XHR9KTtcclxuXHJcblx0XHQvLyBGdW5jdGlvbiB0aGF0IGNoZWNrcyBicmVhZGNydW1ic1xyXG5cdFx0ZnVuY3Rpb24gY2hlY2soKSB7XHJcblx0XHRcdHZhciBoZWlnaHQgPSAkdGhpcy5oZWlnaHQoKSxcclxuXHRcdFx0XHR3aWR0aDtcclxuXHJcblx0XHRcdC8vIFRlc3QgbWF4LXdpZHRoIHNldCBpbiBjb2RlIGZvciAubmF2bGlua3MgYWJvdmVcclxuXHRcdFx0d2lkdGggPSBwYXJzZUludCgkdGhpcy5jc3MoJ21heC13aWR0aCcpLCAxMCk7XHJcblx0XHRcdGlmICghd2lkdGgpIHtcclxuXHRcdFx0XHR3aWR0aCA9ICRib2R5LndpZHRoKCk7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdHRocm90dGxlZCA9IGZhbHNlO1xyXG5cdFx0XHRtYXhIZWlnaHQgPSBwYXJzZUludCgkdGhpcy5jc3MoJ2xpbmUtaGVpZ2h0JyksIDEwKTtcclxuXHRcdFx0JGxpbmtzLmVhY2goZnVuY3Rpb24oKSB7XHJcblx0XHRcdFx0aWYgKCQodGhpcykuaGVpZ2h0KCkgPiAwKSB7XHJcblx0XHRcdFx0XHRtYXhIZWlnaHQgPSBNYXRoLm1heChtYXhIZWlnaHQsICQodGhpcykub3V0ZXJIZWlnaHQodHJ1ZSkpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSk7XHJcblxyXG5cdFx0XHRpZiAoaGVpZ2h0IDw9IG1heEhlaWdodCkge1xyXG5cdFx0XHRcdGlmICghd3JhcHBlZCB8fCBsYXN0V2lkdGggPT09IGZhbHNlIHx8IGxhc3RXaWR0aCA+PSB3aWR0aCkge1xyXG5cdFx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0XHRsYXN0V2lkdGggPSB3aWR0aDtcclxuXHJcblx0XHRcdGlmICh3cmFwcGVkKSB7XHJcblx0XHRcdFx0JHRoaXMucmVtb3ZlQ2xhc3MoJ3dyYXBwZWQnKS5maW5kKCcuY3J1bWIud3JhcHBlZCcpLnJlbW92ZUNsYXNzKCd3cmFwcGVkICcgKyBjbGFzc2VzLmpvaW4oJyAnKSk7XHJcblx0XHRcdFx0aWYgKCR0aGlzLmhlaWdodCgpIDw9IG1heEhlaWdodCkge1xyXG5cdFx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0d3JhcHBlZCA9IHRydWU7XHJcblx0XHRcdCR0aGlzLmFkZENsYXNzKCd3cmFwcGVkJyk7XHJcblx0XHRcdGlmICgkdGhpcy5oZWlnaHQoKSA8PSBtYXhIZWlnaHQpIHtcclxuXHRcdFx0XHRyZXR1cm47XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdGZvciAodmFyIGkgPSAwOyBpIDwgY2xhc3Nlc0xlbmd0aDsgaSsrKSB7XHJcblx0XHRcdFx0Zm9yICh2YXIgaiA9IGxlbmd0aCAtIDE7IGogPj0gMDsgai0tKSB7XHJcblx0XHRcdFx0XHQkbGlua3MuZXEoaikuYWRkQ2xhc3MoJ3dyYXBwZWQgJyArIGNsYXNzZXNbaV0pO1xyXG5cdFx0XHRcdFx0aWYgKCR0aGlzLmhlaWdodCgpIDw9IG1heEhlaWdodCkge1xyXG5cdFx0XHRcdFx0XHRyZXR1cm47XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHR9XHJcblxyXG5cdFx0Ly8gUnVuIGZ1bmN0aW9uIGFuZCBzZXQgZXZlbnRcclxuXHRcdGNoZWNrKCk7XHJcblx0XHQkKHdpbmRvdykucmVzaXplKGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRpZiAodGhyb3R0bGVkKSB7XHJcblx0XHRcdFx0cXVldWVkID0gdHJ1ZTtcclxuXHRcdFx0fVxyXG5cdFx0XHRlbHNlIHtcclxuXHRcdFx0XHRjaGVjaygpO1xyXG5cdFx0XHRcdHRocm90dGxlZCA9IHRydWU7XHJcblx0XHRcdFx0cXVldWVkID0gZmFsc2U7XHJcblx0XHRcdFx0c2V0VGltZW91dChmdW5jdGlvbigpIHtcclxuXHRcdFx0XHRcdHRocm90dGxlZCA9IGZhbHNlO1xyXG5cdFx0XHRcdFx0aWYgKHF1ZXVlZCkge1xyXG5cdFx0XHRcdFx0XHRjaGVjaygpO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH0sIDI1MCk7XHJcblx0XHRcdH1cclxuXHRcdH0pO1xyXG5cdH0pO1xyXG5cclxuXHQvKipcclxuXHQqIFJlc3BvbnNpdmUgbGluayBsaXN0c1xyXG5cdCovXHJcblx0dmFyIHNlbGVjdG9yID0gJy5saW5rbGlzdDpub3QoLm5hdmxpbmtzLCBbZGF0YS1za2lwLXJlc3BvbnNpdmVdKSwnICtcclxuXHRcdCcucG9zdGJvZHkgLnBvc3QtYnV0dG9uczpub3QoW2RhdGEtc2tpcC1yZXNwb25zaXZlXSknO1xyXG5cdCRjb250YWluZXIuZmluZChzZWxlY3RvcikuZWFjaChmdW5jdGlvbigpIHtcclxuXHRcdHZhciAkdGhpcyA9ICQodGhpcyksXHJcblx0XHRcdGZpbHRlclNraXAgPSAnLmJyZWFkY3J1bWJzLCBbZGF0YS1za2lwLXJlc3BvbnNpdmVdJyxcclxuXHRcdFx0ZmlsdGVyTGFzdCA9ICcuZWRpdC1pY29uLCAucXVvdGUtaWNvbiwgW2RhdGEtbGFzdC1yZXNwb25zaXZlXScsXHJcblx0XHRcdCRsaW5rc0FsbCA9ICR0aGlzLmNoaWxkcmVuKCksXHJcblx0XHRcdCRsaW5rc05vdFNraXAgPSAkbGlua3NBbGwubm90KGZpbHRlclNraXApLCAvLyBBbGwgaXRlbXMgdGhhdCBjYW4gcG90ZW50aWFsbHkgYmUgaGlkZGVuXHJcblx0XHRcdCRsaW5rc0ZpcnN0ID0gJGxpbmtzTm90U2tpcC5ub3QoZmlsdGVyTGFzdCksIC8vIFRoZSBpdGVtcyB0aGF0IHdpbGwgYmUgaGlkZGVuIGZpcnN0XHJcblx0XHRcdCRsaW5rc0xhc3QgPSAkbGlua3NOb3RTa2lwLmZpbHRlcihmaWx0ZXJMYXN0KSwgLy8gVGhlIGl0ZW1zIHRoYXQgd2lsbCBiZSBoaWRkZW4gbGFzdFxyXG5cdFx0XHRwZXJzaXN0ZW50ID0gJHRoaXMuYXR0cignaWQnKSA9PT0gJ25hdi1tYWluJywgLy8gRG9lcyB0aGlzIGxpc3QgYWxyZWFkeSBoYXZlIGEgbWVudSAoc3VjaCBhcyBxdWljay1saW5rcyk/XHJcblx0XHRcdGh0bWwgPSAnPGxpIGNsYXNzPVwicmVzcG9uc2l2ZS1tZW51IGhpZGRlblwiPjxhIGhyZWY9XCJqYXZhc2NyaXB0OnZvaWQoMCk7XCIgY2xhc3M9XCJyZXNwb25zaXZlLW1lbnUtbGlua1wiPjwvYT48ZGl2IGNsYXNzPVwiZHJvcGRvd24gaGlkZGVuXCI+PGRpdiBjbGFzcz1cInBvaW50ZXJcIj48ZGl2IGNsYXNzPVwicG9pbnRlci1pbm5lclwiIC8+PC9kaXY+PHVsIGNsYXNzPVwiZHJvcGRvd24tY29udGVudHNcIiAvPjwvZGl2PjwvbGk+JyxcclxuXHRcdFx0c2xhY2sgPSAzOyAvLyBWZXJ0aWNhbCBzbGFjayBzcGFjZSAoaW4gcGl4ZWxzKS4gRGV0ZXJtaW5lcyBob3cgc2Vuc2l0aXZlIHRoZSBzY3JpcHQgaXMgaW4gZGV0ZXJtaW5pbmcgd2hldGhlciBhIGxpbmUtYnJlYWsgaGFzIG9jY3VyZWQuXHJcblxyXG5cdFx0Ly8gQWRkIGEgaGlkZGVuIGRyb3AtZG93biBtZW51IHRvIGVhY2ggbGlua3MgbGlzdCAoZXhjZXB0IHRob3NlIHRoYXQgYWxyZWFkeSBoYXZlIG9uZSlcclxuXHRcdGlmICghcGVyc2lzdGVudCkge1xyXG5cdFx0XHRpZiAoJGxpbmtzTm90U2tpcC5pcygnLnJpZ2h0c2lkZScpKSB7XHJcblx0XHRcdFx0JGxpbmtzTm90U2tpcC5maWx0ZXIoJy5yaWdodHNpZGU6Zmlyc3QnKS5iZWZvcmUoaHRtbCk7XHJcblx0XHRcdFx0JHRoaXMuY2hpbGRyZW4oJy5yZXNwb25zaXZlLW1lbnUnKS5hZGRDbGFzcygncmlnaHRzaWRlJyk7XHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0JHRoaXMuYXBwZW5kKGh0bWwpO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblxyXG5cdFx0Ly8gU2V0IHNvbWUgb2JqZWN0IHJlZmVyZW5jZXMgYW5kIGluaXRpYWwgc3RhdGVzXHJcblx0XHR2YXIgJG1lbnUgPSAkdGhpcy5jaGlsZHJlbignLnJlc3BvbnNpdmUtbWVudScpLFxyXG5cdFx0XHQkbWVudUNvbnRlbnRzID0gJG1lbnUuZmluZCgnLmRyb3Bkb3duLWNvbnRlbnRzJyksXHJcblx0XHRcdHBlcnNpc3RlbnRDb250ZW50ID0gJG1lbnVDb250ZW50cy5maW5kKCdsaTpub3QoLnNlcGFyYXRvciknKS5sZW5ndGgsXHJcblx0XHRcdGxhc3RXaWR0aCA9IGZhbHNlLFxyXG5cdFx0XHRjb21wYWN0ID0gZmFsc2UsXHJcblx0XHRcdHJlc3BvbnNpdmUxID0gZmFsc2UsXHJcblx0XHRcdHJlc3BvbnNpdmUyID0gZmFsc2UsXHJcblx0XHRcdGNvcGllZDEgPSBmYWxzZSxcclxuXHRcdFx0Y29waWVkMiA9IGZhbHNlLFxyXG5cdFx0XHRtYXhIZWlnaHQgPSAwO1xyXG5cclxuXHRcdC8vIEZpbmQgdGhlIHRhbGxlc3QgZWxlbWVudCBpbiB0aGUgbGlzdCAod2UgYXNzdW1lIHRoYXQgYWxsIGVsZW1lbnRzIGFyZSByb3VnaGx5IHRoZSBzYW1lIGhlaWdodClcclxuXHRcdCRsaW5rc0FsbC5lYWNoKGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRpZiAoISQodGhpcykuaGVpZ2h0KCkpIHtcclxuXHRcdFx0XHRyZXR1cm47XHJcblx0XHRcdH1cclxuXHRcdFx0bWF4SGVpZ2h0ID0gTWF0aC5tYXgobWF4SGVpZ2h0LCAkKHRoaXMpLm91dGVySGVpZ2h0KHRydWUpKTtcclxuXHRcdH0pO1xyXG5cdFx0aWYgKG1heEhlaWdodCA8IDEpIHtcclxuXHRcdFx0cmV0dXJuOyAvLyBTaG91bGRuJ3QgYmUgcG9zc2libGUsIGJ1dCBqdXN0IGluIGNhc2UsIGFib3J0XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHRtYXhIZWlnaHQgPSBtYXhIZWlnaHQgKyBzbGFjaztcclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiBjaGVjaygpIHtcclxuXHRcdFx0dmFyIHdpZHRoID0gJGJvZHkud2lkdGgoKTtcclxuXHRcdFx0Ly8gV2UgY2FuJ3QgbWFrZSBpdCBhbnkgc21hbGxlciB0aGFuIHRoaXMsIHNvIGp1c3Qgc2tpcFxyXG5cdFx0XHRpZiAocmVzcG9uc2l2ZTIgJiYgY29tcGFjdCAmJiAod2lkdGggPD0gbGFzdFdpZHRoKSkge1xyXG5cdFx0XHRcdHJldHVybjtcclxuXHRcdFx0fVxyXG5cdFx0XHRsYXN0V2lkdGggPSB3aWR0aDtcclxuXHJcblx0XHRcdC8vIFJlc2V0IHJlc3BvbnNpdmUgYW5kIGNvbXBhY3QgbGF5b3V0XHJcblx0XHRcdGlmIChyZXNwb25zaXZlMSB8fCByZXNwb25zaXZlMikge1xyXG5cdFx0XHRcdCRsaW5rc05vdFNraXAucmVtb3ZlQ2xhc3MoJ2hpZGRlbicpO1xyXG5cdFx0XHRcdCRtZW51Q29udGVudHMuY2hpbGRyZW4oJy5jbG9uZScpLmFkZENsYXNzKCdoaWRkZW4nKTtcclxuXHRcdFx0XHRyZXNwb25zaXZlMSA9IHJlc3BvbnNpdmUyID0gZmFsc2U7XHJcblx0XHRcdH1cclxuXHRcdFx0aWYgKGNvbXBhY3QpIHtcclxuXHRcdFx0XHQkdGhpcy5yZW1vdmVDbGFzcygnY29tcGFjdCcpO1xyXG5cdFx0XHRcdGNvbXBhY3QgPSBmYWxzZTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0Ly8gVW5oaWRlIHRoZSBxdWljay1saW5rcyBtZW51IGlmIGl0IGhhcyBcInBlcnNpc3RlbnRcIiBjb250ZW50XHJcblx0XHRcdGlmIChwZXJzaXN0ZW50ICYmIHBlcnNpc3RlbnRDb250ZW50KSB7XHJcblx0XHRcdFx0JG1lbnUucmVtb3ZlQ2xhc3MoJ2hpZGRlbicpO1xyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdCRtZW51LmFkZENsYXNzKCdoaWRkZW4nKTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0Ly8gTm90aGluZyB0byByZXNpemUgaWYgYmxvY2sncyBoZWlnaHQgaXMgbm90IGJpZ2dlciB0aGFuIHRhbGxlc3QgZWxlbWVudCdzIGhlaWdodFxyXG5cdFx0XHRpZiAoJHRoaXMuaGVpZ2h0KCkgPD0gbWF4SGVpZ2h0KSB7XHJcblx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHQvLyBTVEVQIDE6IENvbXBhY3RcclxuXHRcdFx0aWYgKCFjb21wYWN0KSB7XHJcblx0XHRcdFx0JHRoaXMuYWRkQ2xhc3MoJ2NvbXBhY3QnKTtcclxuXHRcdFx0XHRjb21wYWN0ID0gdHJ1ZTtcclxuXHRcdFx0fVxyXG5cdFx0XHRpZiAoJHRoaXMuaGVpZ2h0KCkgPD0gbWF4SGVpZ2h0KSB7XHJcblx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHQvLyBTVEVQIDI6IEZpcnN0IHJlc3BvbnNpdmUgc2V0IC0gY29tcGFjdFxyXG5cdFx0XHRpZiAoY29tcGFjdCkge1xyXG5cdFx0XHRcdCR0aGlzLnJlbW92ZUNsYXNzKCdjb21wYWN0Jyk7XHJcblx0XHRcdFx0Y29tcGFjdCA9IGZhbHNlO1xyXG5cdFx0XHR9XHJcblx0XHRcdC8vIENvcHkgdGhlIGxpc3QgaXRlbXMgdG8gdGhlIGRyb3Bkb3duXHJcblx0XHRcdGlmICghY29waWVkMSkge1xyXG5cdFx0XHRcdHZhciAkY2xvbmVzMSA9ICRsaW5rc0ZpcnN0LmNsb25lKCk7XHJcblx0XHRcdFx0JG1lbnVDb250ZW50cy5wcmVwZW5kKCRjbG9uZXMxLmFkZENsYXNzKCdjbG9uZSBjbG9uZS1maXJzdCcpLnJlbW92ZUNsYXNzKCdsZWZ0c2lkZSByaWdodHNpZGUnKSk7XHJcblxyXG5cdFx0XHRcdGlmICgkdGhpcy5oYXNDbGFzcygncG9zdC1idXR0b25zJykpIHtcclxuXHRcdFx0XHRcdCQoJy5idXR0b24nLCAkbWVudUNvbnRlbnRzKS5yZW1vdmVDbGFzcygnYnV0dG9uIGljb24tYnV0dG9uJyk7XHJcblx0XHRcdFx0XHQkKCcucmVzcG9uc2l2ZS1tZW51LWxpbmsnLCAkbWVudSkuYWRkQ2xhc3MoJ2J1dHRvbiBpY29uLWJ1dHRvbicpLnByZXBlbmQoJzxzcGFuPjwvc3Bhbj4nKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0Y29waWVkMSA9IHRydWU7XHJcblx0XHRcdH1cclxuXHRcdFx0aWYgKCFyZXNwb25zaXZlMSkge1xyXG5cdFx0XHRcdCRsaW5rc0ZpcnN0LmFkZENsYXNzKCdoaWRkZW4nKTtcclxuXHRcdFx0XHRyZXNwb25zaXZlMSA9IHRydWU7XHJcblx0XHRcdFx0JG1lbnVDb250ZW50cy5jaGlsZHJlbignLmNsb25lLWZpcnN0JykucmVtb3ZlQ2xhc3MoJ2hpZGRlbicpO1xyXG5cdFx0XHRcdCRtZW51LnJlbW92ZUNsYXNzKCdoaWRkZW4nKTtcclxuXHRcdFx0fVxyXG5cdFx0XHRpZiAoJHRoaXMuaGVpZ2h0KCkgPD0gbWF4SGVpZ2h0KSB7XHJcblx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHQvLyBTVEVQIDM6IEZpcnN0IHJlc3BvbnNpdmUgc2V0ICsgY29tcGFjdFxyXG5cdFx0XHRpZiAoIWNvbXBhY3QpIHtcclxuXHRcdFx0XHQkdGhpcy5hZGRDbGFzcygnY29tcGFjdCcpO1xyXG5cdFx0XHRcdGNvbXBhY3QgPSB0cnVlO1xyXG5cdFx0XHR9XHJcblx0XHRcdGlmICgkdGhpcy5oZWlnaHQoKSA8PSBtYXhIZWlnaHQpIHtcclxuXHRcdFx0XHRyZXR1cm47XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdC8vIFNURVAgNDogTGFzdCByZXNwb25zaXZlIHNldCAtIGNvbXBhY3RcclxuXHRcdFx0aWYgKCEkbGlua3NMYXN0Lmxlbmd0aCkge1xyXG5cdFx0XHRcdHJldHVybjsgLy8gTm8gb3RoZXIgbGlua3MgdG8gaGlkZSwgY2FuJ3QgZG8gbW9yZVxyXG5cdFx0XHR9XHJcblx0XHRcdGlmIChjb21wYWN0KSB7XHJcblx0XHRcdFx0JHRoaXMucmVtb3ZlQ2xhc3MoJ2NvbXBhY3QnKTtcclxuXHRcdFx0XHRjb21wYWN0ID0gZmFsc2U7XHJcblx0XHRcdH1cclxuXHRcdFx0Ly8gQ29weSB0aGUgbGlzdCBpdGVtcyB0byB0aGUgZHJvcGRvd25cclxuXHRcdFx0aWYgKCFjb3BpZWQyKSB7XHJcblx0XHRcdFx0dmFyICRjbG9uZXMyID0gJGxpbmtzTGFzdC5jbG9uZSgpO1xyXG5cdFx0XHRcdCRtZW51Q29udGVudHMucHJlcGVuZCgkY2xvbmVzMi5hZGRDbGFzcygnY2xvbmUgY2xvbmUtbGFzdCcpLnJlbW92ZUNsYXNzKCdsZWZ0c2lkZSByaWdodHNpZGUnKSk7XHJcblx0XHRcdFx0Y29waWVkMiA9IHRydWU7XHJcblx0XHRcdH1cclxuXHRcdFx0aWYgKCFyZXNwb25zaXZlMikge1xyXG5cdFx0XHRcdCRsaW5rc0xhc3QuYWRkQ2xhc3MoJ2hpZGRlbicpO1xyXG5cdFx0XHRcdHJlc3BvbnNpdmUyID0gdHJ1ZTtcclxuXHRcdFx0XHQkbWVudUNvbnRlbnRzLmNoaWxkcmVuKCcuY2xvbmUtbGFzdCcpLnJlbW92ZUNsYXNzKCdoaWRkZW4nKTtcclxuXHRcdFx0fVxyXG5cdFx0XHRpZiAoJHRoaXMuaGVpZ2h0KCkgPD0gbWF4SGVpZ2h0KSB7XHJcblx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHQvLyBTVEVQIDU6IExhc3QgcmVzcG9uc2l2ZSBzZXQgKyBjb21wYWN0XHJcblx0XHRcdGlmICghY29tcGFjdCkge1xyXG5cdFx0XHRcdCR0aGlzLmFkZENsYXNzKCdjb21wYWN0Jyk7XHJcblx0XHRcdFx0Y29tcGFjdCA9IHRydWU7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHJcblx0XHRpZiAoIXBlcnNpc3RlbnQpIHtcclxuXHRcdFx0cGhwYmIucmVnaXN0ZXJEcm9wZG93bigkbWVudS5maW5kKCdhLnJlc3BvbnNpdmUtbWVudS1saW5rJyksICRtZW51LmZpbmQoJy5kcm9wZG93bicpLCBmYWxzZSk7XHJcblx0XHR9XHJcblxyXG5cdFx0Ly8gSWYgdGhlcmUgYXJlIGFueSBpbWFnZXMgaW4gdGhlIGxpbmtzIGxpc3QsIHJ1biB0aGUgY2hlY2sgYWdhaW4gYWZ0ZXIgdGhleSBoYXZlIGxvYWRlZFxyXG5cdFx0JGxpbmtzQWxsLmZpbmQoJ2ltZycpLmVhY2goZnVuY3Rpb24oKSB7XHJcblx0XHRcdCQodGhpcykubG9hZChmdW5jdGlvbigpIHtcclxuXHRcdFx0XHRjaGVjaygpO1xyXG5cdFx0XHR9KTtcclxuXHRcdH0pO1xyXG5cclxuXHRcdGNoZWNrKCk7XHJcblx0XHQkKHdpbmRvdykucmVzaXplKGNoZWNrKTtcclxuXHR9KTtcclxuXHJcblx0LyoqXHJcblx0KiBGaXggY29udGFpbmVyIGZvciBtZXNzYWdlc1xyXG5cdCovXHJcblx0JGNvbnRhaW5lci5maW5kKCcucG9zdGJvZHknKS5lYWNoKGZ1bmN0aW9uKCkge1xyXG5cdFx0dmFyICR0aGlzID0gJCh0aGlzKSxcclxuXHRcdFx0Y2hpbGRyZW4gPSAkdGhpcy5jaGlsZHJlbigpO1xyXG5cclxuXHRcdGlmIChjaGlsZHJlbi5sZW5ndGggPT0gMSAmJiBjaGlsZHJlbi5pcygnZGl2JykpIHtcclxuXHRcdFx0cmV0dXJuO1xyXG5cdFx0fVxyXG5cclxuXHRcdCR0aGlzLndyYXBJbm5lcignPGRpdiBjbGFzcz1cInBvc3Rib2R5LWlubmVyXCIgLz4nKTtcclxuXHR9KTtcclxuXHJcblx0LyoqXHJcblx0KiBBZGp1c3QgcG9zdCB6LWluZGV4IGZvciBwb3N0IHByb2ZpbGVzIGZvciBhbGwgcG9zdHNcclxuXHQqL1xyXG5cdCQoJy5wb3N0cHJvZmlsZScpLmVhY2goZnVuY3Rpb24oaSkge1xyXG5cdFx0dmFyIHogPSBNYXRoLm1heCgyOCAtIGksIDIpO1xyXG5cdFx0JCh0aGlzKS5jc3MoJ3otaW5kZXgnLCB6KTtcclxuXHR9KTtcclxuXHJcblx0LyoqXHJcblx0KiBEbyBub3QgcnVuIGZ1bmN0aW9ucyBiZWxvdyBmb3Igb2xkIGJyb3dzZXJzXHJcblx0Ki9cclxuXHRpZiAob2xkQnJvd3Nlcikge1xyXG5cdFx0cmV0dXJuO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0KiBBZGp1c3QgdG9waWNsaXN0IGxpc3RzIHdpdGggY2hlY2sgYm94ZXNcclxuXHQqL1xyXG5cdCRjb250YWluZXIuZmluZCgndWwudG9waWNsaXN0IGRkLm1hcmsnKS5zaWJsaW5ncygnZHQnKS5jaGlsZHJlbignLmxpc3QtaW5uZXInKS5hZGRDbGFzcygnd2l0aC1tYXJrJyk7XHJcblxyXG5cdC8qKlxyXG5cdCogQXBwZW5kcyBjb250ZW50cyBvZiBhbGwgZXh0cmEgY29sdW1ucyB0byBmaXJzdCBjb2x1bW4gaW5cclxuXHQqIC50b3BpY2xpc3QgbGlzdHMgZm9yIG1vYmlsZSBkZXZpY2VzLiBDb3BpZXMgY29udGVudHMgYXMgaXMuXHJcblx0KlxyXG5cdCogVG8gYWRkIHRoYXQgZnVuY3Rpb25hbGl0eSB0byAudG9waWNsaXN0IGxpc3Qgc2ltcGx5IGFkZFxyXG5cdCogcmVzcG9uc2l2ZS1zaG93LWFsbCB0byBsaXN0IG9mIGNsYXNzZXNcclxuXHQqL1xyXG5cdCRjb250YWluZXIuZmluZCgnLnRvcGljbGlzdC5yZXNwb25zaXZlLXNob3ctYWxsID4gbGkgPiBkbCcpLmVhY2goZnVuY3Rpb24oKSB7XHJcblx0XHR2YXIgJHRoaXMgPSAkKHRoaXMpLFxyXG5cdFx0XHQkYmxvY2sgPSAkdGhpcy5maW5kKCdkdCAucmVzcG9uc2l2ZS1zaG93Omxhc3QtY2hpbGQnKSxcclxuXHRcdFx0Zmlyc3QgPSB0cnVlO1xyXG5cclxuXHRcdC8vIENyZWF0ZSBibG9jayB0aGF0IGlzIHZpc2libGUgb25seSBvbiBtb2JpbGUgZGV2aWNlc1xyXG5cdFx0aWYgKCEkYmxvY2subGVuZ3RoKSB7XHJcblx0XHRcdCR0aGlzLmZpbmQoJ2R0ID4gLmxpc3QtaW5uZXInKS5hcHBlbmQoJzxkaXYgY2xhc3M9XCJyZXNwb25zaXZlLXNob3dcIiBzdHlsZT1cImRpc3BsYXk6bm9uZTtcIiAvPicpO1xyXG5cdFx0XHQkYmxvY2sgPSAkdGhpcy5maW5kKCdkdCAucmVzcG9uc2l2ZS1zaG93Omxhc3QtY2hpbGQnKTtcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdGZpcnN0ID0gKCQudHJpbSgkYmxvY2sudGV4dCgpKS5sZW5ndGggPT09IDApO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8vIENvcHkgY29udGVudHMgb2YgZWFjaCBjb2x1bW5cclxuXHRcdCR0aGlzLmZpbmQoJ2RkJykubm90KCcubWFyaycpLmVhY2goZnVuY3Rpb24oKSB7XHJcblx0XHRcdHZhciBjb2x1bW4gPSAkKHRoaXMpLFxyXG5cdFx0XHRcdCRjaGlsZHJlbiA9IGNvbHVtbi5jaGlsZHJlbigpLFxyXG5cdFx0XHRcdGh0bWwgPSBjb2x1bW4uaHRtbCgpO1xyXG5cclxuXHRcdFx0aWYgKCRjaGlsZHJlbi5sZW5ndGggPT09IDEgJiYgJGNoaWxkcmVuLnRleHQoKSA9PT0gY29sdW1uLnRleHQoKSkge1xyXG5cdFx0XHRcdGh0bWwgPSAkY2hpbGRyZW4uaHRtbCgpO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHQkYmxvY2suYXBwZW5kKChmaXJzdCA/ICcnIDogJzxiciAvPicpICsgaHRtbCk7XHJcblxyXG5cdFx0XHRmaXJzdCA9IGZhbHNlO1xyXG5cdFx0fSk7XHJcblx0fSk7XHJcblxyXG5cdC8qKlxyXG5cdCogU2FtZSBhcyBhYm92ZSwgYnV0IHByZXBlbmRzIHRleHQgZnJvbSBoZWFkZXIgdG8gZWFjaFxyXG5cdCogY29sdW1uIGJlZm9yZSBjb250ZW50cyBvZiB0aGF0IGNvbHVtbi5cclxuXHQqXHJcblx0KiBUbyBhZGQgdGhhdCBmdW5jdGlvbmFsaXR5IHRvIC50b3BpY2xpc3QgbGlzdCBzaW1wbHkgYWRkXHJcblx0KiByZXNwb25zaXZlLXNob3ctY29sdW1ucyB0byBsaXN0IG9mIGNsYXNzZXNcclxuXHQqL1xyXG5cdCRjb250YWluZXIuZmluZCgnLnRvcGljbGlzdC5yZXNwb25zaXZlLXNob3ctY29sdW1ucycpLmVhY2goZnVuY3Rpb24oKSB7XHJcblx0XHR2YXIgJGxpc3QgPSAkKHRoaXMpLFxyXG5cdFx0XHRoZWFkZXJzID0gW10sXHJcblx0XHRcdGhlYWRlcnNMZW5ndGggPSAwO1xyXG5cclxuXHRcdC8vIEZpbmQgYWxsIGhlYWRlcnMsIGdldCBjb250ZW50c1xyXG5cdFx0JGxpc3QucHJldignLnRvcGljbGlzdCcpLmZpbmQoJ2xpLmhlYWRlciBkZCcpLm5vdCgnLm1hcmsnKS5lYWNoKGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRoZWFkZXJzLnB1c2goJCh0aGlzKS50ZXh0KCkpO1xyXG5cdFx0XHRoZWFkZXJzTGVuZ3RoKys7XHJcblx0XHR9KTtcclxuXHJcblx0XHRpZiAoIWhlYWRlcnNMZW5ndGgpIHtcclxuXHRcdFx0cmV0dXJuO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8vIFBhcnNlIGVhY2ggcm93XHJcblx0XHQkbGlzdC5maW5kKCdkbCcpLmVhY2goZnVuY3Rpb24oKSB7XHJcblx0XHRcdHZhciAkdGhpcyA9ICQodGhpcyksXHJcblx0XHRcdFx0JGJsb2NrID0gJHRoaXMuZmluZCgnZHQgLnJlc3BvbnNpdmUtc2hvdzpsYXN0LWNoaWxkJyksXHJcblx0XHRcdFx0Zmlyc3QgPSB0cnVlO1xyXG5cclxuXHRcdFx0Ly8gQ3JlYXRlIGJsb2NrIHRoYXQgaXMgdmlzaWJsZSBvbmx5IG9uIG1vYmlsZSBkZXZpY2VzXHJcblx0XHRcdGlmICghJGJsb2NrLmxlbmd0aCkge1xyXG5cdFx0XHRcdCR0aGlzLmZpbmQoJ2R0ID4gLmxpc3QtaW5uZXInKS5hcHBlbmQoJzxkaXYgY2xhc3M9XCJyZXNwb25zaXZlLXNob3dcIiBzdHlsZT1cImRpc3BsYXk6bm9uZTtcIiAvPicpO1xyXG5cdFx0XHRcdCRibG9jayA9ICR0aGlzLmZpbmQoJ2R0IC5yZXNwb25zaXZlLXNob3c6bGFzdC1jaGlsZCcpO1xyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdGZpcnN0ID0gKCQudHJpbSgkYmxvY2sudGV4dCgpKS5sZW5ndGggPT09IDApO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHQvLyBDb3B5IGNvbnRlbnRzIG9mIGVhY2ggY29sdW1uXHJcblx0XHRcdCR0aGlzLmZpbmQoJ2RkJykubm90KCcubWFyaycpLmVhY2goZnVuY3Rpb24oaSkge1xyXG5cdFx0XHRcdHZhciBjb2x1bW4gPSAkKHRoaXMpLFxyXG5cdFx0XHRcdFx0Y2hpbGRyZW4gPSBjb2x1bW4uY2hpbGRyZW4oKSxcclxuXHRcdFx0XHRcdGh0bWwgPSBjb2x1bW4uaHRtbCgpO1xyXG5cclxuXHRcdFx0XHRpZiAoY2hpbGRyZW4ubGVuZ3RoID09PSAxICYmIGNoaWxkcmVuLnRleHQoKSA9PT0gY29sdW1uLnRleHQoKSkge1xyXG5cdFx0XHRcdFx0aHRtbCA9IGNoaWxkcmVuLmh0bWwoKTtcclxuXHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdC8vIFByZXBlbmQgY29udGVudHMgb2YgbWF0Y2hpbmcgaGVhZGVyIGJlZm9yZSBjb250ZW50cyBvZiBjb2x1bW5cclxuXHRcdFx0XHRpZiAoaSA8IGhlYWRlcnNMZW5ndGgpIHtcclxuXHRcdFx0XHRcdGh0bWwgPSBoZWFkZXJzW2ldICsgJzogPHN0cm9uZz4nICsgaHRtbCArICc8L3N0cm9uZz4nO1xyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0JGJsb2NrLmFwcGVuZCgoZmlyc3QgPyAnJyA6ICc8YnIgLz4nKSArIGh0bWwpO1xyXG5cclxuXHRcdFx0XHRmaXJzdCA9IGZhbHNlO1xyXG5cdFx0XHR9KTtcclxuXHRcdH0pO1xyXG5cdH0pO1xyXG5cclxuXHQvKipcclxuXHQqIFJlc3BvbnNpdmUgdGFibGVzXHJcblx0Ki9cclxuXHQkY29udGFpbmVyLmZpbmQoJ3RhYmxlLnRhYmxlMScpLm5vdCgnLm5vdC1yZXNwb25zaXZlJykuZWFjaChmdW5jdGlvbigpIHtcclxuXHRcdHZhciAkdGhpcyA9ICQodGhpcyksXHJcblx0XHRcdCR0aCA9ICR0aGlzLmZpbmQoJ3RoZWFkID4gdHIgPiB0aCcpLFxyXG5cdFx0XHRoZWFkZXJzID0gW10sXHJcblx0XHRcdHRvdGFsSGVhZGVycyA9IDAsXHJcblx0XHRcdGksIGhlYWRlcnNMZW5ndGg7XHJcblxyXG5cdFx0Ly8gRmluZCBlYWNoIGhlYWRlclxyXG5cdFx0JHRoLmVhY2goZnVuY3Rpb24oY29sdW1uKSB7XHJcblx0XHRcdHZhciBjZWxsID0gJCh0aGlzKSxcclxuXHRcdFx0XHRjb2xzcGFuID0gcGFyc2VJbnQoY2VsbC5hdHRyKCdjb2xzcGFuJyksIDEwKSxcclxuXHRcdFx0XHRkZm4gPSBjZWxsLmF0dHIoJ2RhdGEtZGZuJyksXHJcblx0XHRcdFx0dGV4dCA9IGRmbiA/IGRmbiA6IGNlbGwudGV4dCgpO1xyXG5cclxuXHRcdFx0Y29sc3BhbiA9IGlzTmFOKGNvbHNwYW4pIHx8IGNvbHNwYW4gPCAxID8gMSA6IGNvbHNwYW47XHJcblxyXG5cdFx0XHRmb3IgKGkgPSAwOyBpIDwgY29sc3BhbjsgaSsrKSB7XHJcblx0XHRcdFx0aGVhZGVycy5wdXNoKHRleHQpO1xyXG5cdFx0XHR9XHJcblx0XHRcdHRvdGFsSGVhZGVycysrO1xyXG5cclxuXHRcdFx0aWYgKGRmbiAmJiAhY29sdW1uKSB7XHJcblx0XHRcdFx0JHRoaXMuYWRkQ2xhc3MoJ3Nob3ctaGVhZGVyJyk7XHJcblx0XHRcdH1cclxuXHRcdH0pO1xyXG5cclxuXHRcdGhlYWRlcnNMZW5ndGggPSBoZWFkZXJzLmxlbmd0aDtcclxuXHJcblx0XHQvLyBBZGQgaGVhZGVyIHRleHQgdG8gZWFjaCBjZWxsIGFzIDxkZm4+XHJcblx0XHQkdGhpcy5hZGRDbGFzcygncmVzcG9uc2l2ZScpO1xyXG5cclxuXHRcdGlmICh0b3RhbEhlYWRlcnMgPCAyKSB7XHJcblx0XHRcdCR0aGlzLmFkZENsYXNzKCdzaG93LWhlYWRlcicpO1xyXG5cdFx0XHRyZXR1cm47XHJcblx0XHR9XHJcblxyXG5cdFx0JHRoaXMuZmluZCgndGJvZHkgPiB0cicpLmVhY2goZnVuY3Rpb24oKSB7XHJcblx0XHRcdHZhciByb3cgPSAkKHRoaXMpLFxyXG5cdFx0XHRcdGNlbGxzID0gcm93LmNoaWxkcmVuKCd0ZCcpLFxyXG5cdFx0XHRcdGNvbHVtbiA9IDA7XHJcblxyXG5cdFx0XHRpZiAoY2VsbHMubGVuZ3RoID09PSAxKSB7XHJcblx0XHRcdFx0cm93LmFkZENsYXNzKCdiaWctY29sdW1uJyk7XHJcblx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRjZWxscy5lYWNoKGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRcdHZhciBjZWxsID0gJCh0aGlzKSxcclxuXHRcdFx0XHRcdGNvbHNwYW4gPSBwYXJzZUludChjZWxsLmF0dHIoJ2NvbHNwYW4nKSwgMTApLFxyXG5cdFx0XHRcdFx0dGV4dCA9ICQudHJpbShjZWxsLnRleHQoKSk7XHJcblxyXG5cdFx0XHRcdGlmIChoZWFkZXJzTGVuZ3RoIDw9IGNvbHVtbikge1xyXG5cdFx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0aWYgKCh0ZXh0Lmxlbmd0aCAmJiB0ZXh0ICE9PSAnLScpIHx8IGNlbGwuY2hpbGRyZW4oKS5sZW5ndGgpIHtcclxuXHRcdFx0XHRcdGNlbGwucHJlcGVuZCgnPGRmbiBzdHlsZT1cImRpc3BsYXk6IG5vbmU7XCI+JyArIGhlYWRlcnNbY29sdW1uXSArICc8L2Rmbj4nKTtcclxuXHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0Y2VsbC5hZGRDbGFzcygnZW1wdHknKTtcclxuXHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdGNvbHNwYW4gPSBpc05hTihjb2xzcGFuKSB8fCBjb2xzcGFuIDwgMSA/IDEgOiBjb2xzcGFuO1xyXG5cdFx0XHRcdGNvbHVtbiArPSBjb2xzcGFuO1xyXG5cdFx0XHR9KTtcclxuXHRcdH0pO1xyXG5cdH0pO1xyXG5cclxuXHQvKipcclxuXHQqIEhpZGUgZW1wdHkgcmVzcG9uc2l2ZSB0YWJsZXNcclxuXHQqL1xyXG5cdCRjb250YWluZXIuZmluZCgndGFibGUucmVzcG9uc2l2ZSA+IHRib2R5Jykubm90KCcucmVzcG9uc2l2ZS1za2lwLWVtcHR5JykuZWFjaChmdW5jdGlvbigpIHtcclxuXHRcdHZhciAkaXRlbXMgPSAkKHRoaXMpLmNoaWxkcmVuKCd0cicpO1xyXG5cdFx0aWYgKCEkaXRlbXMubGVuZ3RoKSB7XHJcblx0XHRcdCQodGhpcykucGFyZW50KCd0YWJsZTpmaXJzdCcpLmFkZENsYXNzKCdyZXNwb25zaXZlLWhpZGUnKTtcclxuXHRcdH1cclxuXHR9KTtcclxuXHJcblx0LyoqXHJcblx0KiBSZXNwb25zaXZlIHRhYnNcclxuXHQqL1xyXG5cdCRjb250YWluZXIuZmluZCgnI3RhYnMsICNtaW5pdGFicycpLm5vdCgnW2RhdGEtc2tpcC1yZXNwb25zaXZlXScpLmVhY2goZnVuY3Rpb24oKSB7XHJcblx0XHR2YXIgJHRoaXMgPSAkKHRoaXMpLFxyXG5cdFx0XHQkdWwgPSAkdGhpcy5jaGlsZHJlbigpLFxyXG5cdFx0XHQkdGFicyA9ICR1bC5jaGlsZHJlbigpLm5vdCgnW2RhdGEtc2tpcC1yZXNwb25zaXZlXScpLFxyXG5cdFx0XHQkbGlua3MgPSAkdGFicy5jaGlsZHJlbignYScpLFxyXG5cdFx0XHQkaXRlbSA9ICR1bC5hcHBlbmQoJzxsaSBjbGFzcz1cInRhYiByZXNwb25zaXZlLXRhYlwiIHN0eWxlPVwiZGlzcGxheTpub25lO1wiPjxhIGhyZWY9XCJqYXZhc2NyaXB0OnZvaWQoMCk7XCIgY2xhc3M9XCJyZXNwb25zaXZlLXRhYi1saW5rXCI+Jm5ic3A7PC9hPjxkaXYgY2xhc3M9XCJkcm9wZG93biB0YWItZHJvcGRvd25cIiBzdHlsZT1cImRpc3BsYXk6IG5vbmU7XCI+PGRpdiBjbGFzcz1cInBvaW50ZXJcIj48ZGl2IGNsYXNzPVwicG9pbnRlci1pbm5lclwiIC8+PC9kaXY+PHVsIGNsYXNzPVwiZHJvcGRvd24tY29udGVudHNcIiAvPjwvZGl2PjwvbGk+JykuZmluZCgnbGkucmVzcG9uc2l2ZS10YWInKSxcclxuXHRcdFx0JG1lbnUgPSAkaXRlbS5maW5kKCcuZHJvcGRvd24tY29udGVudHMnKSxcclxuXHRcdFx0bWF4SGVpZ2h0ID0gMCxcclxuXHRcdFx0bGFzdFdpZHRoID0gZmFsc2UsXHJcblx0XHRcdHJlc3BvbnNpdmUgPSBmYWxzZTtcclxuXHJcblx0XHQkbGlua3MuZWFjaChmdW5jdGlvbigpIHtcclxuXHRcdFx0dmFyICR0aGlzID0gJCh0aGlzKTtcclxuXHRcdFx0bWF4SGVpZ2h0ID0gTWF0aC5tYXgobWF4SGVpZ2h0LCBNYXRoLm1heCgkdGhpcy5vdXRlckhlaWdodCh0cnVlKSwgJHRoaXMucGFyZW50KCkub3V0ZXJIZWlnaHQodHJ1ZSkpKTtcclxuXHRcdH0pO1xyXG5cclxuXHRcdGZ1bmN0aW9uIGNoZWNrKCkge1xyXG5cdFx0XHR2YXIgd2lkdGggPSAkYm9keS53aWR0aCgpLFxyXG5cdFx0XHRcdGhlaWdodCA9ICR0aGlzLmhlaWdodCgpO1xyXG5cclxuXHRcdFx0aWYgKCFhcmd1bWVudHMubGVuZ3RoICYmICghcmVzcG9uc2l2ZSB8fCB3aWR0aCA8PSBsYXN0V2lkdGgpICYmIGhlaWdodCA8PSBtYXhIZWlnaHQpIHtcclxuXHRcdFx0XHRyZXR1cm47XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdCR0YWJzLnNob3coKTtcclxuXHRcdFx0JGl0ZW0uaGlkZSgpO1xyXG5cclxuXHRcdFx0bGFzdFdpZHRoID0gd2lkdGg7XHJcblx0XHRcdGhlaWdodCA9ICR0aGlzLmhlaWdodCgpO1xyXG5cdFx0XHRpZiAoaGVpZ2h0IDw9IG1heEhlaWdodCkge1xyXG5cdFx0XHRcdGlmICgkaXRlbS5oYXNDbGFzcygnZHJvcGRvd24tdmlzaWJsZScpKSB7XHJcblx0XHRcdFx0XHRwaHBiYi50b2dnbGVEcm9wZG93bi5jYWxsKCRpdGVtLmZpbmQoJ2EucmVzcG9uc2l2ZS10YWItbGluaycpLmdldCgwKSk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdHJldHVybjtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0cmVzcG9uc2l2ZSA9IHRydWU7XHJcblx0XHRcdCRpdGVtLnNob3coKTtcclxuXHRcdFx0JG1lbnUuaHRtbCgnJyk7XHJcblxyXG5cdFx0XHR2YXIgJGF2YWlsYWJsZVRhYnMgPSAkdGFicy5maWx0ZXIoJzpub3QoLmFjdGl2ZXRhYiwgLnJlc3BvbnNpdmUtdGFiKScpLFxyXG5cdFx0XHRcdHRvdGFsID0gJGF2YWlsYWJsZVRhYnMubGVuZ3RoLFxyXG5cdFx0XHRcdGksICR0YWI7XHJcblxyXG5cdFx0XHRmb3IgKGkgPSB0b3RhbCAtIDE7IGkgPj0gMDsgaS0tKSB7XHJcblx0XHRcdFx0JHRhYiA9ICRhdmFpbGFibGVUYWJzLmVxKGkpO1xyXG5cdFx0XHRcdCRtZW51LnByZXBlbmQoJHRhYi5jbG9uZSh0cnVlKS5yZW1vdmVDbGFzcygndGFiJykpO1xyXG5cdFx0XHRcdCR0YWIuaGlkZSgpO1xyXG5cdFx0XHRcdGlmICgkdGhpcy5oZWlnaHQoKSA8PSBtYXhIZWlnaHQpIHtcclxuXHRcdFx0XHRcdCRtZW51LmZpbmQoJ2EnKS5jbGljayhmdW5jdGlvbigpIHtcclxuXHRcdFx0XHRcdFx0Y2hlY2sodHJ1ZSk7XHJcblx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHRcdHJldHVybjtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdFx0JG1lbnUuZmluZCgnYScpLmNsaWNrKGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRcdGNoZWNrKHRydWUpO1xyXG5cdFx0XHR9KTtcclxuXHRcdH1cclxuXHJcblx0XHR2YXIgJHRhYkxpbmsgPSAkaXRlbS5maW5kKCdhLnJlc3BvbnNpdmUtdGFiLWxpbmsnKTtcclxuXHRcdHBocGJiLnJlZ2lzdGVyRHJvcGRvd24oJHRhYkxpbmssICRpdGVtLmZpbmQoJy5kcm9wZG93bicpLCB7XHJcblx0XHRcdHZpc2libGVDbGFzczogJ2FjdGl2ZXRhYidcclxuXHRcdH0pO1xyXG5cclxuXHRcdGNoZWNrKHRydWUpO1xyXG5cdFx0JCh3aW5kb3cpLnJlc2l6ZShjaGVjayk7XHJcblx0fSk7XHJcblxyXG5cdC8qKlxyXG5cdCAqIEhpZGUgVUNQL01DUCBuYXZpZ2F0aW9uIGlmIHRoZXJlIGlzIG9ubHkgMSBpdGVtXHJcblx0ICovXHJcblx0JGNvbnRhaW5lci5maW5kKCcjbmF2aWdhdGlvbicpLmVhY2goZnVuY3Rpb24oKSB7XHJcblx0XHR2YXIgJGl0ZW1zID0gJCh0aGlzKS5jaGlsZHJlbignb2wsIHVsJykuY2hpbGRyZW4oJ2xpJyk7XHJcblx0XHRpZiAoJGl0ZW1zLmxlbmd0aCA9PT0gMSkge1xyXG5cdFx0XHQkKHRoaXMpLmFkZENsYXNzKCdyZXNwb25zaXZlLWhpZGUnKTtcclxuXHRcdH1cclxuXHR9KTtcclxuXHJcblx0LyoqXHJcblx0KiBSZXBsYWNlIHJlc3BvbnNpdmUgdGV4dFxyXG5cdCovXHJcblx0JGNvbnRhaW5lci5maW5kKCdbZGF0YS1yZXNwb25zaXZlLXRleHRdJykuZWFjaChmdW5jdGlvbigpIHtcclxuXHRcdHZhciAkdGhpcyA9ICQodGhpcyksXHJcblx0XHRcdGZ1bGxUZXh0ID0gJHRoaXMudGV4dCgpLFxyXG5cdFx0XHRyZXNwb25zaXZlVGV4dCA9ICR0aGlzLmF0dHIoJ2RhdGEtcmVzcG9uc2l2ZS10ZXh0JyksXHJcblx0XHRcdHJlc3BvbnNpdmUgPSBmYWxzZTtcclxuXHJcblx0XHRmdW5jdGlvbiBjaGVjaygpIHtcclxuXHRcdFx0aWYgKCQod2luZG93KS53aWR0aCgpID4gNzAwKSB7XHJcblx0XHRcdFx0aWYgKCFyZXNwb25zaXZlKSB7XHJcblx0XHRcdFx0XHRyZXR1cm47XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdCR0aGlzLnRleHQoZnVsbFRleHQpO1xyXG5cdFx0XHRcdHJlc3BvbnNpdmUgPSBmYWxzZTtcclxuXHRcdFx0XHRyZXR1cm47XHJcblx0XHRcdH1cclxuXHRcdFx0aWYgKHJlc3BvbnNpdmUpIHtcclxuXHRcdFx0XHRyZXR1cm47XHJcblx0XHRcdH1cclxuXHRcdFx0JHRoaXMudGV4dChyZXNwb25zaXZlVGV4dCk7XHJcblx0XHRcdHJlc3BvbnNpdmUgPSB0cnVlO1xyXG5cdFx0fVxyXG5cclxuXHRcdGNoZWNrKCk7XHJcblx0XHQkKHdpbmRvdykucmVzaXplKGNoZWNrKTtcclxuXHR9KTtcclxuXHJcblx0LyoqXHJcblx0KiBTdGF0aWMgbmF2aWdhdGlvblxyXG5cdCovXHJcblx0aWYgKHN0eWxlQ29uZmlnLnN0YXRpY05hdmlnYXRpb24pIHtcclxuXHRcdCRjb250YWluZXIuZmluZCgnLm5hdmJhci50YWJiZWQgPiAuaW5uZXInKS5lYWNoKGZ1bmN0aW9uKGkpIHtcclxuXHRcdFx0dmFyIG5hdiA9IHRoaXMsXHJcblx0XHRcdFx0bmF2aWdhdGlvbiA9ICQobmF2KSxcclxuXHRcdFx0XHRpc1N0YXRpYyA9IGZhbHNlLFxyXG5cdFx0XHRcdHBhcmVudCA9IG5hdmlnYXRpb24ucGFyZW50KCksXHJcblx0XHRcdFx0aW5uZXIsXHJcblx0XHRcdFx0JHcgPSAkKHdpbmRvdyksXHJcblx0XHRcdFx0bWluVG9wUG9zaXRpb24gPSAwLFxyXG5cdFx0XHRcdG1pbldpZHRoID0gc3R5bGVDb25maWcuc3RhdGljTmF2aWdhdGlvbk1pbldpZHRoLFxyXG5cdFx0XHRcdG1pbkhlaWdodCA9IHN0eWxlQ29uZmlnLnN0YXRpY05hdmlnYXRpb25NaW5IZWlnaHQsXHJcblx0XHRcdFx0d2luZG93V2lkdGgsXHJcblx0XHRcdFx0cXVldWVkID0gZmFsc2UsXHJcblx0XHRcdFx0dGhyb3R0bGVkID0gZmFsc2UsXHJcblx0XHRcdFx0bmF2YmFyQm94ID0gJCgnLmlubmVyLnBhZ2Utd2lkdGguY2FyZCcpLFxyXG5cdFx0XHRcdGhlYWRlckJveCA9ICQoJyNwYWdlLWhlYWRlci1ib3guY2FyZCcpLFxyXG5cdFx0XHRcdGJyZWFrTGluZSA9IDAsXHJcblx0XHRcdFx0Y3Vyck9mZnNldCA9IDAsXHJcblx0XHRcdFx0cHJldk9mZnNldCA9IDA7XHJcblx0XHRcdFxyXG5cdFx0XHRmdW5jdGlvbiBlbmFibGVTdGF0aWMoKVxyXG5cdFx0XHR7XHJcblx0XHRcdFx0JCgnI3BhZ2UtaGVhZGVyLWJveCcpLmNzcygncGFkZGluZy10b3AnLCBNYXRoLmZsb29yKG5hdmlnYXRpb24uaGVpZ2h0KCkpICsgJ3B4Jyk7XHJcblx0XHRcdFx0bmF2aWdhdGlvbi5hZGRDbGFzcygnc3RhdGljJyk7XHJcblx0XHRcdFx0cGFyZW50LnJlbW92ZUNsYXNzKCdub3Qtc3RhdGljJyk7XHJcblx0XHRcdFx0aXNTdGF0aWMgPSB0cnVlO1xyXG5cdFx0XHRcdGNoZWNrTmF2aWdhdGlvbih0cnVlKTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0ZnVuY3Rpb24gZGlzYWJsZVN0YXRpYygpXHJcblx0XHRcdHtcclxuXHRcdFx0XHQkKCcjcGFnZS1oZWFkZXItYm94JykuY3NzKCdwYWRkaW5nLXRvcCcsIDApO1xyXG5cdFx0XHRcdG5hdmJhckJveC5hdHRyKCdkYXRhLWNhcmQnLCAwKTtcclxuXHRcdFx0XHRoZWFkZXJCb3guYXR0cignZGF0YS1jYXJkJywgMSk7XHJcblx0XHRcdFx0bmF2aWdhdGlvbi5yZW1vdmVDbGFzcygnc3RhdGljJyk7XHJcblx0XHRcdFx0cGFyZW50LmFkZENsYXNzKCdub3Qtc3RhdGljJyk7XHJcblx0XHRcdFx0aXNTdGF0aWMgPSBmYWxzZTtcclxuXHRcdFx0XHRjaGVja05hdmlnYXRpb24odHJ1ZSk7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdGZ1bmN0aW9uIHRlc3RIYXNoKClcclxuXHRcdFx0e1xyXG5cdFx0XHRcdHZhciBoYXNoID0gKHdpbmRvdy5sb2NhdGlvbi5oYXNoKSA/IHdpbmRvdy5sb2NhdGlvbi5oYXNoIDogJyc7XHJcblx0XHRcdFx0aWYgKCFoYXNoKVxyXG5cdFx0XHRcdHtcclxuXHRcdFx0XHRcdHJldHVybjtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0d2luZG93LnNjcm9sbFRvKCR3LnNjcm9sbExlZnQoKSwgJHcuc2Nyb2xsVG9wKCkgLSBuYXZpZ2F0aW9uLmhlaWdodCgpKTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0ZnVuY3Rpb24gY2hlY2soY2hlY2tIYXNoKVxyXG5cdFx0XHR7XHJcblx0XHRcdFx0dmFyIHdpbmRvd1RvcCA9IDAsXHJcblx0XHRcdFx0XHR3aW5kb3dXaWR0aCA9IE1hdGguZmxvb3IoJHcud2lkdGgoKSksXHJcblx0XHRcdFx0XHR0b3A7XHJcblxyXG5cdFx0XHRcdGlmICh3aW5kb3dXaWR0aCA8IG1pbldpZHRoIHx8ICR3LmhlaWdodCgpIDwgbWluSGVpZ2h0KSB7XHJcblx0XHRcdFx0XHRpZiAoaXNTdGF0aWMpIHtcclxuXHRcdFx0XHRcdFx0ZGlzYWJsZVN0YXRpYygpO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRpZiAoIWlzU3RhdGljKVxyXG5cdFx0XHRcdHtcclxuXHRcdFx0XHRcdC8vbmF2SGVpZ2h0ID0gbmF2aWdhdGlvbi5oZWlnaHQoKTtcclxuXHRcdFx0XHRcdHRvcCA9IG5hdi5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS50b3A7XHJcblx0XHRcdFx0XHRpZiAodG9wID4gMCkge1xyXG5cdFx0XHRcdFx0XHRyZXR1cm47XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRtaW5Ub3BQb3NpdGlvbiA9ICR3LnNjcm9sbFRvcCgpICsgdG9wO1xyXG5cdFx0XHRcdFx0ZW5hYmxlU3RhdGljKCk7XHJcblx0XHRcdFx0XHRpZiAoY2hlY2tIYXNoKSB7XHJcblx0XHRcdFx0XHRcdHRlc3RIYXNoKCk7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRyZXR1cm47XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdGlmICgkdy5zY3JvbGxUb3AoKSA8IG1pblRvcFBvc2l0aW9uKSB7XHJcblx0XHRcdFx0XHRkaXNhYmxlU3RhdGljKCk7XHJcblx0XHRcdFx0fSBlbHNlIGlmIChjaGVja0hhc2gpIHtcclxuXHRcdFx0XHRcdHRlc3RIYXNoKCk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHRcdCR3Lm9uKCdzY3JvbGwgcmVzaXplJywgZnVuY3Rpb24oKSB7IFxyXG5cdFx0XHRcdGlmICghaXNTdGF0aWMpIHtcclxuXHRcdFx0XHRcdGNoZWNrKGZhbHNlKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0ZWxzZSB7XHJcblx0XHRcdFx0XHRpZiAoIXRocm90dGxlZCkge1xyXG5cdFx0XHRcdFx0XHRjaGVjayhmYWxzZSk7XHJcblx0XHRcdFx0XHRcdHRocm90dGxlZCA9IHRydWU7XHJcblx0XHRcdFx0XHRcdHF1ZXVlZCA9IGZhbHNlO1xyXG5cdFx0XHRcdFx0XHRzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRcdFx0XHRcdHRocm90dGxlZCA9IGZhbHNlO1xyXG5cdFx0XHRcdFx0XHRcdGlmIChxdWV1ZWQpIHtcclxuXHRcdFx0XHRcdFx0XHRcdGNoZWNrKGZhbHNlKTtcclxuXHRcdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdH0sIDI1MCk7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRlbHNlIHtcclxuXHRcdFx0XHRcdFx0cXVldWVkID0gdHJ1ZTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFxyXG5cdFx0XHRcdFx0LyoqXHJcblx0XHRcdFx0XHQgKiBTbW9vdGggdHJhbnNpdGlvbiBzaGFkb3cgYm94IGZyb20gaGVhZGVyIHRvIG5hdmJhclxyXG5cdFx0XHRcdFx0ICogLS0tICAgICAgazkxMUBlbGVrdHJ5Y3pueS50ayDCqSAyMDE2ICAgICAgICAgICAtLS1cclxuXHRcdFx0XHRcdCAqL1xyXG5cdFx0XHRcdFx0Y3Vyck9mZnNldCA9ICR3LnNjcm9sbFRvcCgpO1xyXG5cdFx0XHRcdFx0YnJlYWtMaW5lID0gaGVhZGVyQm94LmhlaWdodCgpO1xyXG5cdFx0XHRcdFx0aWYoTWF0aC5hYnMoY3Vyck9mZnNldCAtIHByZXZPZmZzZXQpID4gTWF0aC5hYnMoYnJlYWtMaW5lIC0gcHJldk9mZnNldCkpIHtcclxuXHRcdFx0XHRcdFx0aWYoY3Vyck9mZnNldCA8IGJyZWFrTGluZSkge1xyXG5cdFx0XHRcdFx0XHRcdG5hdmJhckJveC5hdHRyKCdkYXRhLWNhcmQnLCAwKTtcclxuXHRcdFx0XHRcdFx0XHRoZWFkZXJCb3guYXR0cignZGF0YS1jYXJkJywgMSk7XHJcblx0XHRcdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRcdFx0bmF2YmFyQm94LmF0dHIoJ2RhdGEtY2FyZCcsIDEpO1xyXG5cdFx0XHRcdFx0XHRcdGhlYWRlckJveC5hdHRyKCdkYXRhLWNhcmQnLCAwKTtcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRwcmV2T2Zmc2V0ID0gY3Vyck9mZnNldDtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9XHJcblx0XHRcdH0pO1xyXG5cdFx0XHQkdy5vbignbG9hZCcsIGZ1bmN0aW9uKCkgeyBjaGVjayh0cnVlKTsgfSk7XHJcblx0XHRcdCR3Lm9uKCdoYXNoY2hhbmdlJywgZnVuY3Rpb24oKSB7IGNoZWNrKHRydWUpOyB9KTtcclxuXHRcdH0pO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0KiBFbXB0eSBsYXN0IHBvc3QgY29sdW1uXHJcblx0Ki9cclxuXHQkY29udGFpbmVyLmZpbmQoJ2RkLmxhc3Rwb3N0ID4gc3Bhbjpvbmx5LWNoaWxkID4gYnI6b25seS1jaGlsZCcpLnBhcmVudHMoJ2RkLmxhc3Rwb3N0JykuYWRkQ2xhc3MoJ2VtcHR5Jyk7XHJcblx0XHJcblx0LyoqXHJcblx0KiBTcG9pbGVyIMOgIGxhIHd5a29wLnBsXHJcblx0KiBVc2FnZTpcclxuXHQqIFx0fCA8YSBocmVmPVwiI1wiIGNsYXNzPVwic3BvaWxlclwiPnBva2HFvCBzcG9pbGVyPC9hPlxyXG5cdCpcdHwgPGNvZGUgY2xhc3M9XCJzcG9pbGVyXCI+e1RFWFR9PC9jb2RlPlxyXG5cdCovXHJcblx0JCgnYS5zcG9pbGVyJykuY2xpY2soZnVuY3Rpb24oZSkge1xyXG5cdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cdFx0JCh0aGlzKS5uZXh0KCdkaXYuc3BvaWxlcicpLnNob3coKTtcclxuXHRcdCQodGhpcykuaGlkZSgpO1xyXG5cdH0pO1xyXG5cdFxyXG5cdC8qKlxyXG5cdCogSEQgaW1hZ2VzXHJcblx0Ki9cclxuXHRpZiAod2luZG93Lm1hdGNoTWVkaWEgJiYgd2luZG93Lm1hdGNoTWVkaWEoJygtd2Via2l0LW1pbi1kZXZpY2UtcGl4ZWwtcmF0aW86IDIpLCAobWluLXJlc29sdXRpb246IDE5MmRwaSksIChtaW4tcmVzb2x1dGlvbjogMS41ZHBweCknKS5tYXRjaGVzKSB7XHJcblx0XHQkY29udGFpbmVyLmZpbmQoJ2ltZ1tkYXRhLXNyYy1oZF0nKS5lYWNoKGZ1bmN0aW9uKCkge1xyXG5cdFx0XHR2YXIgaW1nID0gdGhpcyxcclxuXHRcdFx0XHQkdGhpcyA9ICQodGhpcyksXHJcblx0XHRcdFx0aGRJbWFnZSA9IG5ldyBJbWFnZSgpLFxyXG5cdFx0XHRcdGhkTG9hZGVkID0gZmFsc2UsXHJcblx0XHRcdFx0bm9ybWFsTG9hZGVkID0gZmFsc2U7XHJcblxyXG5cdFx0XHRmdW5jdGlvbiByZXBsYWNlSW1hZ2UoKSBcclxuXHRcdFx0e1xyXG5cdFx0XHRcdCR0aGlzLmNzcygnd2lkdGgnLCAoaW1nLm5hdHVyYWxXaWR0aCA/IGltZy5uYXR1cmFsV2lkdGggOiBpbWcud2lkdGgpICsgJ3B4Jyk7XHJcblx0XHRcdFx0aW1nLnNldEF0dHJpYnV0ZSgnc3JjJywgaW1nLmdldEF0dHJpYnV0ZSgnZGF0YS1zcmMtaGQnKSk7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdGlmIChpbWcuY29tcGxldGUpIHtcclxuXHRcdFx0XHRub3JtYWxMb2FkZWQgPSB0cnVlO1xyXG5cdFx0XHR9XHJcblx0XHRcdGVsc2Uge1xyXG5cdFx0XHRcdGltZy5vbmxvYWQgPSBmdW5jdGlvbigpIHtcclxuXHRcdFx0XHRcdGlmIChub3JtYWxMb2FkZWQpIHtcclxuXHRcdFx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0bm9ybWFsTG9hZGVkID0gdHJ1ZTtcclxuXHRcdFx0XHRcdGlmIChoZExvYWRlZCkge1xyXG5cdFx0XHRcdFx0XHRyZXBsYWNlSW1hZ2UoKTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9O1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRoZEltYWdlLm9ubG9hZCA9IGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRcdGhkTG9hZGVkID0gdHJ1ZTtcclxuXHRcdFx0XHRpZiAobm9ybWFsTG9hZGVkKSB7XHJcblx0XHRcdFx0XHRyZXBsYWNlSW1hZ2UoKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH07XHJcblx0XHRcdGhkSW1hZ2Uuc3JjID0gaW1nLmdldEF0dHJpYnV0ZSgnZGF0YS1zcmMtaGQnKTtcclxuXHRcdH0pO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0KiBTcGxpdCBidXR0b25zXHJcblx0Ki9cclxuXHQkY29udGFpbmVyLmZpbmQoJ2Rpdi5idXR0b25zIGEuYnV0dG9uLmljb24tYnV0dG9uJykuZWFjaChmdW5jdGlvbigpIHtcclxuXHRcdHZhciAkdGhpcyA9ICQodGhpcyksXHJcblx0XHRcdHdvcmRzO1xyXG5cclxuXHRcdGlmICgkdGhpcy5jaGlsZHJlbigpLmxlbmd0aCkgcmV0dXJuO1xyXG5cclxuXHRcdHdvcmRzID0gJHRoaXMudGV4dCgpLnRyaW0oKS5zcGxpdCgnICcpO1xyXG5cdFx0aWYgKHdvcmRzLmxlbmd0aCA+IDEpIHtcclxuXHRcdFx0JHRoaXMudGV4dCh3b3Jkcy5zaGlmdCgpICsgJyAnKS5hcHBlbmQoJzxzdHJvbmcgLz4nKTtcclxuXHRcdFx0JHRoaXMuZmluZCgnc3Ryb25nJykudGV4dCh3b3Jkcy5qb2luKCcgJykpO1xyXG5cdFx0fVxyXG5cdH0pO1xyXG5cclxuXHQvKipcclxuXHQqIEFkZCBvbmxpbmUgc3RhdHVzXHJcblx0Ki9cclxuXHQkKCcjcGhwYmIuY2FuLXRyYW5zZm9ybVtkYXRhLW9ubGluZS10ZXh0XScpLmVhY2goZnVuY3Rpb24oKSB7XHJcblx0XHR2YXIgdGV4dCA9ICQodGhpcykuYXR0cignZGF0YS1vbmxpbmUtdGV4dCcpO1xyXG5cclxuXHRcdCRjb250YWluZXIuZmluZCgnLm9ubGluZScpLmVhY2goZnVuY3Rpb24oKSB7XHJcblx0XHRcdHZhciAkdGhpcyA9ICQodGhpcyk7XHJcblxyXG5cdFx0XHQkdGhpcy5jc3MoJ3Bvc2l0aW9uJywgJ3JlbGF0aXZlJykuYXBwZW5kKCc8c3BhbiBjbGFzcz1cIm9ubGluZS1yaWJib25cIj48c3Bhbj4nICsgdGV4dCArICc8L3NwYW4+PHNwYW4+JyArIHRleHQgKyAnPC9zcGFuPjwvc3Bhbj4nKTtcclxuXHRcdH0pO1xyXG5cdH0pO1xyXG5cclxuXHQvKipcclxuXHQqIEV4dGVuZCBwb3N0ZXIgcHJvZmlsZVxyXG5cdCovXHJcblx0aWYgKHN0eWxlQ29uZmlnLl9sb2FkZWQpIHtcclxuXHRcdCRjb250YWluZXIuZmluZCgnLnBvc3Rwcm9maWxlICsgLnBvc3Rib2R5ID4gZGl2Om9ubHktY2hpbGQnKS5lYWNoKGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRhZGp1c3RQb3N0ZXJQcm9maWxlKCQodGhpcykpO1xyXG5cdFx0fSk7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQqIENvbGxhcHNlIGZvcnVtc1xyXG5cdCovXHJcblx0aWYgKHN0eWxlQ29uZmlnLmNvbGxhcHNlRm9ydW1zKSB7XHJcblx0XHQkY29udGFpbmVyLmZpbmQoJy5mb3JhYmcgbGkuaGVhZGVyJykuZWFjaChmdW5jdGlvbigpIHtcclxuXHRcdFx0dmFyICR0aGlzID0gJCh0aGlzKSxcclxuXHRcdFx0XHRmb3J1bSA9ICR0aGlzLnBhcmVudCgpLm5leHQoJ3VsLmZvcnVtcycpLFxyXG5cdFx0XHRcdGlkID0gMCxcclxuXHRcdFx0XHR0b2dnbGVkID0gZmFsc2UsXHJcblx0XHRcdFx0dG9nZ2xlO1xyXG5cclxuXHRcdFx0aWYgKGZvcnVtLmxlbmd0aCAhPSAxKSB7XHJcblx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHQvLyBGaW5kIGNhdGVnb3J5IGlkXHJcblx0XHRcdCQoJ2FbZGF0YS1pZF0nLCAkdGhpcykuZWFjaChmdW5jdGlvbigpIHtcclxuXHRcdFx0XHRpZCA9IHBhcnNlSW50KHRoaXMuZ2V0QXR0cmlidXRlKCdkYXRhLWlkJykpO1xyXG5cdFx0XHR9KTtcclxuXHRcdFx0aWYgKCFpZCkge1xyXG5cdFx0XHRcdGZvcnVtLmZpbmQoJy5mb3J1bXRpdGxlW2RhdGEtaWRdOmZpcnN0JykuZWFjaChmdW5jdGlvbigpIHtcclxuXHRcdFx0XHRcdGlkID0gcGFyc2VJbnQodGhpcy5nZXRBdHRyaWJ1dGUoJ2RhdGEtaWQnKSk7XHJcblx0XHRcdFx0XHRpZiAoIWlzTmFOKGlkKSkge1xyXG5cdFx0XHRcdFx0XHRpZCA9ICdmJyArIGlkO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH0pO1xyXG5cdFx0XHR9XHJcblx0XHRcdGlmICghaWQpIHtcclxuXHRcdFx0XHRyZXR1cm47XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdC8vIEFkZCB0b2dnbGUgY29kZVxyXG5cdFx0XHQkdGhpcy5hcHBlbmQoJzxhIGNsYXNzPVwiZm9ydW0tdG9nZ2xlXCIgaHJlZj1cIiNcIj48L2E+Jyk7XHJcblx0XHRcdHRvZ2dsZSA9ICR0aGlzLmZpbmQoJy5mb3J1bS10b2dnbGUnKTtcclxuXHRcdFx0dG9nZ2xlLmNsaWNrKGZ1bmN0aW9uKGV2ZW50KSB7XHJcblx0XHRcdFx0ZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuXHRcdFx0XHRpZiAodG9nZ2xlZCkge1xyXG5cdFx0XHRcdFx0Zm9ydW0uc3RvcCh0cnVlLCB0cnVlKS5zbGlkZURvd24oMjAwKTtcclxuXHRcdFx0XHRcdHRvZ2dsZWQgPSBmYWxzZTtcclxuXHRcdFx0XHRcdHRvZ2dsZS5yZW1vdmVDbGFzcygndG9nZ2xlZCcpO1xyXG5cdFx0XHRcdFx0cGhwYmIuZGVsZXRlQ29va2llKCd0b2dnbGVkLScgKyBpZCwgc3R5bGVDb25maWcuY29va2llQ29uZmlnKTtcclxuXHRcdFx0XHRcdHJldHVybjtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0Zm9ydW0uc3RvcCh0cnVlLCB0cnVlKS5zbGlkZVVwKDIwMCk7XHJcblx0XHRcdFx0dG9nZ2xlZCA9IHRydWU7XHJcblx0XHRcdFx0dG9nZ2xlLmFkZENsYXNzKCd0b2dnbGVkJyk7XHJcblx0XHRcdFx0cGhwYmIuc2V0Q29va2llKCd0b2dnbGVkLScgKyBpZCwgJzEnLCBzdHlsZUNvbmZpZy5jb29raWVDb25maWcpO1xyXG5cdFx0XHR9KTtcclxuXHJcblx0XHRcdC8vIENoZWNrIGRlZmF1bHQgc3RhdGVcclxuXHRcdFx0aWYgKHBocGJiLmdldENvb2tpZSgndG9nZ2xlZC0nICsgaWQsIHN0eWxlQ29uZmlnLmNvb2tpZUNvbmZpZykgPT0gJzEnKSB7XHJcblx0XHRcdFx0Zm9ydW0uc3RvcCh0cnVlLCB0cnVlKS5zbGlkZVVwKDApO1xyXG5cdFx0XHRcdHRvZ2dsZWQgPSB0cnVlO1xyXG5cdFx0XHRcdHRvZ2dsZS5hZGRDbGFzcygndG9nZ2xlZCcpO1xyXG5cdFx0XHR9XHJcblx0XHR9KTtcclxuXHR9XHJcbn1cclxuXHJcbi8qKlxyXG4qIFJ1biBvbmxvYWQgZnVuY3Rpb25zXHJcbiovXHJcbmpRdWVyeShmdW5jdGlvbigkKSB7XHJcblx0J3VzZSBzdHJpY3QnO1xyXG5cclxuXHRmdW5jdGlvbiBwcm9jZXNzUmVzaXplRXZlbnQoKVxyXG5cdHtcclxuXHRcdHN0eWxlQ29uZmlnLl9yZXNpemVUaHJvdHRsZWQgPSBmYWxzZTtcclxuXHJcblx0XHRjaGVja05hdmlnYXRpb24oZmFsc2UpO1xyXG5cclxuXHRcdGlmIChzdHlsZUNvbmZpZy5leHRlbmRQb3N0ZXJQcm9maWxlKSB7XHJcblx0XHRcdCQoJy5wb3N0cHJvZmlsZSArIC5wb3N0Ym9keSA+IGRpdjpvbmx5LWNoaWxkJykuZWFjaChmdW5jdGlvbigpIHtcclxuXHRcdFx0XHRhZGp1c3RQb3N0ZXJQcm9maWxlKCQodGhpcykpO1xyXG5cdFx0XHR9KTtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdHZhciB0cmFuc2Zvcm1zID0gWyd0cmFuc2Zvcm0nLCAnd2Via2l0VHJhbnNmb3JtJywgJ21zVHJhbnNmb3JtJ10sXHJcblx0XHRpLCB0ZXN0O1xyXG5cclxuXHQvLyBDb29raWUgY29uZmlndXJhdGlvblxyXG5cdHN0eWxlQ29uZmlnLmNvb2tpZUNvbmZpZyA9IHtcclxuXHRcdHByZWZpeDogJycsXHJcblx0XHRwYXRoOiAnLycsXHJcblx0XHRleHBpcmVzOiBuZXcgRGF0ZSgpXHJcblx0fTtcclxuXHRzdHlsZUNvbmZpZy5jb29raWVDb25maWcuZXhwaXJlcy5zZXRGdWxsWWVhcihzdHlsZUNvbmZpZy5jb29raWVDb25maWcuZXhwaXJlcy5nZXRGdWxsWWVhcigpICsgMSk7XHJcblxyXG5cdC8vIFN3YXAgLm5vanMgYW5kIC5oYXNqc1xyXG5cdCQoJyNwaHBiYi5ub2pzJykudG9nZ2xlQ2xhc3MoJ25vanMgaGFzanMnKTtcclxuXHQkKCcjcGhwYmInKS50b2dnbGVDbGFzcygnaGFzdG91Y2gnLCBwaHBiYi5pc1RvdWNoKTtcclxuXHQkKCcjcGhwYmIuaGFzdG91Y2gnKS5yZW1vdmVDbGFzcygnbm90b3VjaCcpO1xyXG5cclxuXHQvLyBGb2N1cyBmb3Jtc1xyXG5cdCQoJ2Zvcm1bZGF0YS1mb2N1c106Zmlyc3QnKS5lYWNoKGZ1bmN0aW9uKCkge1xyXG5cdFx0JCgnIycgKyB0aGlzLmdldEF0dHJpYnV0ZSgnZGF0YS1mb2N1cycpKS5mb2N1cygpO1xyXG5cdH0pO1xyXG5cclxuXHQvLyBDaGVjayBmb3IgdHJhbnNmb3JtYXRpb25zXHJcblx0dGVzdCA9ICQoJyNwaHBiYicpLmdldCgwKTtcclxuXHRmb3IgKGk9MDsgaTx0cmFuc2Zvcm1zLmxlbmd0aDsgaSsrKSB7XHJcblx0XHRpZiAodHlwZW9mKHRlc3Quc3R5bGVbdHJhbnNmb3Jtc1tpXV0pICE9ICd1bmRlZmluZWQnKSB7XHJcblx0XHRcdCQoJyNwaHBiYicpLmFkZENsYXNzKCdjYW4tdHJhbnNmb3JtJyk7XHJcblx0XHRcdGJyZWFrO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0Ly8gQ29va2llc1xyXG5cdHBocGJiLnNldENvb2tpZSA9IGZ1bmN0aW9uKG5hbWUsIHZhbHVlLCBjb25maWcpIHtcclxuXHRcdGNvbmZpZyA9ICQuZXh0ZW5kKHtcclxuXHRcdFx0cHJlZml4OiAnJyxcclxuXHRcdFx0cGF0aDogJy8nXHJcblx0XHR9LCB0eXBlb2YgY29uZmlnID09PSAnb2JqZWN0JyA/IGNvbmZpZyA6IHt9KTtcclxuXHJcblx0XHRkb2N1bWVudC5jb29raWUgPSBjb25maWcucHJlZml4ICsgbmFtZSArICc9JyArIGVuY29kZVVSSUNvbXBvbmVudCh2YWx1ZSlcclxuXHRcdFx0KyAoY29uZmlnLmV4cGlyZXMgPT09IHVuZGVmaW5lZCA/ICcnIDogJztleHBpcmVzPScgKyBjb25maWcuZXhwaXJlcy50b1VUQ1N0cmluZygpKVxyXG5cdFx0XHQrIChjb25maWcucGF0aCAgPyAnO3BhdGg9JyArIGNvbmZpZy5wYXRoIDogJycpXHJcblx0XHRcdCsgKGNvbmZpZy5kb21haW4gPyAnO2RvbWFpbj0nICsgY29uZmlnLmRvbWFpbiA6ICcnKTtcclxuXHJcblx0XHRyZXR1cm4gdmFsdWU7XHJcblx0fTtcclxuXHJcblx0cGhwYmIuZ2V0Q29va2llID0gZnVuY3Rpb24obmFtZSwgY29uZmlnKSB7XHJcblx0XHR2YXIgZXhwciwgY29va2llO1xyXG5cclxuXHRcdGNvbmZpZyA9ICQuZXh0ZW5kKHtcclxuXHRcdFx0cHJlZml4OiAnJyxcclxuXHRcdFx0cGF0aDogJy8nXHJcblx0XHR9LCB0eXBlb2YgY29uZmlnID09PSAnb2JqZWN0JyA/IGNvbmZpZyA6IHt9KTtcclxuXHJcblx0XHRleHByID0gbmV3IFJlZ0V4cCgnKF58ICknICsgY29uZmlnLnByZWZpeCArIG5hbWUgKyAnPShbXjtdKykoO3wkKScpO1xyXG5cdFx0Y29va2llID0gZXhwci5leGVjKGRvY3VtZW50LmNvb2tpZSk7XHJcblxyXG5cdFx0aWYgKGNvb2tpZSlcclxuXHRcdHtcclxuXHRcdFx0cmV0dXJuIGRlY29kZVVSSUNvbXBvbmVudChjb29raWVbMl0pO1xyXG5cdFx0fVxyXG5cdFx0ZWxzZVxyXG5cdFx0e1xyXG5cdFx0XHRyZXR1cm4gbnVsbDtcclxuXHRcdH1cclxuXHR9O1xyXG5cclxuXHRwaHBiYi5kZWxldGVDb29raWUgPSBmdW5jdGlvbihuYW1lLCBjb25maWcpIHtcclxuXHRcdGNvbmZpZyA9ICQuZXh0ZW5kKHtcclxuXHRcdFx0cHJlZml4OiAnJyxcclxuXHRcdFx0cGF0aDogJy8nXHJcblx0XHR9LCB0eXBlb2YgY29uZmlnID09PSAnb2JqZWN0JyA/IGNvbmZpZyA6IHt9KTtcclxuXHJcblx0XHRkb2N1bWVudC5jb29raWUgPSBjb25maWcucHJlZml4ICsgbmFtZSArICc9J1xyXG5cdFx0XHQrIChjb25maWcucGF0aCAgPyAnOyBwYXRoPScgKyBjb25maWcucGF0aCA6ICcnKVxyXG5cdFx0XHQrIChjb25maWcuZG9tYWluID8gJzsgZG9tYWluPScgKyBjb25maWcuZG9tYWluIDogJycpXHJcblx0XHRcdCsgJzsgZXhwaXJlcz1UaHUsIDAxLUphbi03MCAwMDowMDowMSBHTVQnO1xyXG5cclxuXHRcdHJldHVybiBudWxsO1xyXG5cdH07XHJcblxyXG5cdC8vIFJlc3BvbnNpdmUgbmF2aWdhdGlvblxyXG5cdGluaXRSZXNwb25zaXZlTmF2aWdhdGlvbigpO1xyXG5cclxuXHQvLyBQYXJzZSBib2R5XHJcblx0cGFyc2VEb2N1bWVudCgkKCdib2R5JykpO1xyXG5cclxuXHQvLyBDaGVjayByZXNwb25zaXZlIG5hdmlnYXRpb25cclxuXHRjaGVja05hdmlnYXRpb24odHJ1ZSk7XHJcblxyXG5cdC8vIEV2ZW50c1xyXG5cdHN0eWxlQ29uZmlnLl9sb2FkZWQgPSB0cnVlO1xyXG5cdHN0eWxlQ29uZmlnLl9yZXNpemVUaHJvdHRsZWQgPSBmYWxzZTtcclxuXHRzdHlsZUNvbmZpZy5fcmVzaXplUXVldWVkID0gZmFsc2U7XHJcblxyXG5cdCQod2luZG93KS5sb2FkKGZ1bmN0aW9uKCkge1xyXG5cdFx0Y2hlY2tOYXZpZ2F0aW9uKHRydWUpO1xyXG5cdFx0aWYgKHN0eWxlQ29uZmlnLmV4dGVuZFBvc3RlclByb2ZpbGUpIHtcclxuXHRcdFx0JCgnLnBvc3Rwcm9maWxlICsgLnBvc3Rib2R5ID4gZGl2Om9ubHktY2hpbGQnKS5lYWNoKGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRcdGFkanVzdFBvc3RlclByb2ZpbGUoJCh0aGlzKSk7XHJcblx0XHRcdH0pO1xyXG5cdFx0fVxyXG5cdH0pO1xyXG5cclxuXHQkKHdpbmRvdykucmVzaXplKGZ1bmN0aW9uKCkge1xyXG5cdFx0aWYgKCFzdHlsZUNvbmZpZy5fcmVzaXplVGhyb3R0bGVkKSB7XHJcblx0XHRcdHByb2Nlc3NSZXNpemVFdmVudCgpO1xyXG5cdFx0XHRzdHlsZUNvbmZpZy5fcmVzaXplVGhyb3R0bGVkID0gdHJ1ZTtcclxuXHRcdFx0c3R5bGVDb25maWcuX3Jlc2l6ZVF1ZXVlZCA9IGZhbHNlO1xyXG5cdFx0XHRzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRcdHN0eWxlQ29uZmlnLl9yZXNpemVUaHJvdHRsZWQgPSBmYWxzZTtcclxuXHRcdFx0XHRpZiAoc3R5bGVDb25maWcuX3Jlc2l6ZVF1ZXVlZCkge1xyXG5cdFx0XHRcdFx0cHJvY2Vzc1Jlc2l6ZUV2ZW50KCk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9LCA1MDApO1xyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0c3R5bGVDb25maWcuX3Jlc2l6ZVF1ZXVlZCA9IHRydWU7XHJcblx0XHR9XHJcblx0fSk7XHJcbn0pO1xyXG4iXX0=
