function find_username(e){"use strict";return popup(e,760,570,"_usersearch"),!1}function popup(e,t,i,n){"use strict";return window.open(e.replace(/&amp;/g,"&"),n||"_popup","height="+i+",resizable=yes,scrollbars=yes, width="+t),!1}function pageJump(e){"use strict";var t=parseInt(e.val(),10),i=e.attr("data-per-page"),n=e.attr("data-base-url"),s=e.attr("data-start-name");null!==t&&!isNaN(t)&&t===Math.floor(t)&&t>0&&(-1===n.indexOf("?")?document.location.href=n+"?"+s+"="+(t-1)*i:document.location.href=n.replace(/&amp;/g,"&")+"&"+s+"="+(t-1)*i)}function marklist(e,t,i){"use strict";jQuery("#"+e+" input[type=checkbox][name]").each(function(){var e=jQuery(this);e.attr("name").substr(0,t.length)===t&&e.prop("checked",i)})}function viewableArea(e,t){"use strict";if(e){var i=t?e:e.parentNode;i.vaHeight?(i.style.height=i.vaHeight+"px",i.style.overflow="auto",i.style.maxHeight=i.vaMaxHeight,i.vaHeight=!1):(i.vaHeight=i.offsetHeight,i.vaMaxHeight=i.style.maxHeight,i.style.height="auto",i.style.maxHeight="none",i.style.overflow="visible")}}function activateSubPanel(e,t){"use strict";var i,n,s=void 0===t?jQuery(".sub-panels a[data-subpanel]").map(function(){return this.getAttribute("data-subpanel")}):t;for("string"==typeof e&&(n=e),$('input[name="show_panel"]').val(n),i=0;i<s.length;i++)jQuery("#"+s[i]).css("display",s[i]===n?"block":"none"),jQuery("#"+s[i]+"-tab").toggleClass("activetab",s[i]===n)}function selectCode(e){"use strict";var t,i,n=e.parentNode.parentNode.getElementsByTagName("CODE")[0];if(window.getSelection)if(t=window.getSelection(),t.setBaseAndExtent){var s=n.innerText.length>1?n.innerText.length-1:1;try{t.setBaseAndExtent(n,0,n,s)}catch(e){i=document.createRange(),i.selectNodeContents(n),t.removeAllRanges(),t.addRange(i)}}else window.opera&&"<BR>"===n.innerHTML.substring(n.innerHTML.length-4)&&(n.innerHTML=n.innerHTML+"&nbsp;"),i=document.createRange(),i.selectNodeContents(n),t.removeAllRanges(),t.addRange(i);else document.getSelection?(t=document.getSelection(),i=document.createRange(),i.selectNodeContents(n),t.removeAllRanges(),t.addRange(i)):document.selection&&(i=document.body.createTextRange(),i.moveToElementText(n),i.select())}function play_qt_file(e){"use strict";var t,i,n=e.GetRectangle();if(n){n=n.split(",");var s=parseInt(n[0],10),a=parseInt(n[2],10),o=parseInt(n[1],10),r=parseInt(n[3],10);t=s<0?-1*s+a:a-s,i=o<0?-1*o+r:r-o}else t=200,i=0;e.width=t,e.height=i+16,e.SetControllerVisible(!0),e.Play()}function phpbbCheckKey(e){"use strict";return!e.keyCode||40!==e.keyCode&&38!==e.keyCode||(inAutocomplete=!0),!inAutocomplete||lastKeyEntered&&lastKeyEntered!==e.which?13!==e.which&&(lastKeyEntered=e.which,!0):(inAutocomplete=!1,!0)}function insertUser(e,t){"use strict";var i=jQuery(e),n=i.attr("data-form-name"),s=i.attr("data-field-name"),a=opener.document.forms[n][s];a.value.length&&"textarea"===a.type&&(t=a.value+"\n"+t),a.value=t}function insert_marked_users(e,t){"use strict";for(var i=0;i<t.length;i++)t[i].checked&&insertUser(e,t[i].value);window.close()}function insert_single_user(e,t){"use strict";insertUser(e,t),window.close()}function adjustPosterProfile(e){var t=e.parent().prev(),i=t.parent(),n=t.hasClass("resized");if(i.width()<t.width()+e.width())return void(n&&function(){t.removeClass("resized").css("min-height","")}());n&&t.css("min-height",""),t.css("min-height",Math.floor(e.height())+"px").addClass("resized")}function checkNavigation(e){function t(e){e.responsive=!1,e.lastWidth=0,e.itemCount=0,e.contents=e.menu.find(".dropdown-contents:first"),e.canToggle=$(),e.noToggle=$(),e.contents.children(".separator:last-child").hide(),e.items=e.lists.children().not(e.menu).each(function(t){var i,n=$(this);if(n.is(".not-responsive, .responsive-menu, .dropdown-container, .selected")||"true"===n.attr("data-skip-responsive"))return n.attr("data-responsive-index",-1),void(e.noToggle=e.noToggle.add(n));i=n.attr("data-responsive-class")||n.hasClass("small-icon")?n.attr("class"):" responsive-index-"+t,e.contents.append(n.clone(!0).attr("class",i).addClass("responsive-clone").removeClass("tab")),n.addClass("responsive-cloned-item").attr("data-clone-index",t),e.canToggle=e.canToggle.add(n),e.itemCount++}),e.contents.find("a.nav-link").removeClass("nav-link"),e.responsiveClones=e.contents.children(".responsive-clone").hide(),e.initialized=!0}for(var i=0;i<styleConfig._responsiveNavigation.length;i++)!function(e,i){var n,s,a,o;e.initialized||(t(e),i=!0),e.itemCount&&(n=e.container.width(),(i||n!==e.lastWidth)&&(e.lastWidth=n,e.responsive&&(e.canToggle.show(),e.responsiveClones.hide(),e.menu.removeClass("showing-responsive-menu"),e.alwaysShowMenu||e.menu.show()),e.responsive=!1,a=e.menu.outerWidth(!0),s=a,e.noToggle.each(function(){var e=$(this);e.is(":visible")&&(s+=e.outerWidth(!0))}),o=s>=n,e.canToggle.each(function(){var t,i=$(this);if(i.is(":visible")){if(!o){if(!(t=i.outerWidth(!0)))return void i.hide();(s+=t)>=n&&(o=!0)}o&&(i.hide(),e.responsiveClones.filter(".responsive-index-"+i.attr("data-clone-index")).show())}}),e.responsive=o,o||e.alwaysShowMenu?o&&e.menu.addClass("showing-responsive-menu"):e.menu.hide()))}(styleConfig._responsiveNavigation[i],e)}function initResponsiveNavigation(){styleConfig._responsiveNavigation=[],$(".nav-tabs, .navbar.secondary").each(function(){var e=$(this),t=e.children("ul"),i=t.children(".responsive-menu:first"),n=i.length>0;if(!i.length){if(e.is(".nav-tabs"))return;t.eq(0).prepend('<li class="responsive-menu dropdown-container" style="display: none;"><a href="#" class="dropdown-trigger dropdown-toggle"><i class="mdi mdi-menu" aria-hidden="true"></a><div class="dropdown hidden"><div class="pointer"><div class="pointer-inner"></div></div><ul class="dropdown-contents" /></ul></div></li>'),i=t.children(".responsive-menu:first"),phpbb.registerDropdown(i.find(".dropdown-toggle"),i.find(".dropdown"))}styleConfig._responsiveNavigation.push({container:e,lists:t,menu:i,initialized:!1,alwaysShowMenu:n})})}function parseDocument(e){"use strict";var t=document.createElement("div"),i=void 0===t.style.borderRadius,n=$("body");e.find(".nav-tabs").each(function(){var e=$(this).children().children();e.not(".tab").each(function(){var e=$(this),t=e.attr("class").split(" ");e.attr("class","tab");for(var i=0;i<t.length;i++)"icon-"===t[i].substr(0,5)&&e.addClass(t[i].substr(5))}).children(":first-child").addClass("nav-link"),e.each(function(){var e=$(this),t="";if(!e.attr("title")){if(t=e.children(".nav-link").text().trim(),!t.length)return;e.children(".nav-link + strong").each(function(){t+=" ("+$(this).text().trim()+")"}),e.attr("title",t)}})}),e.find(".nav-tabs[data-current-page]").each(function(){var t,i,n,s,a=$(this),o=a.attr("data-current-page"),r=!1;if($(".tab[data-select-match]",this).each(function(){for(var e,t,i=$(this).attr("data-select-match").split(","),n=0;n<i.length;n++)if(e=i[n].trim(),-1!==o.indexOf(e))return t=$(this),t.hasClass("selected")||(a.find(".tab.selected").removeClass("selected"),t.addClass("selected")),void(r=!0)}),!r&&(t=e.find(".content.pages-content"),t.length)){for(i=t.prop("class").split(" "),n=0;n<i.length&&!r;n++)"content"!==(s=i[n].trim())&&"pages-content"!==s&&e.find(".tab.pages."+s).each(function(){a.find(".tab.selected").removeClass("selected"),$(this).addClass("selected"),r=!0});if(r)return;e.find(".tab.pages:first").each(function(){a.find(".tab.selected").removeClass("selected"),$(this).addClass("selected"),r=!0})}}),e.find("input[data-reset-on-edit]").on("keyup",function(){$(this.getAttribute("data-reset-on-edit")).val("")}),e.find(".pagination .page-jump-form :button").click(function(){pageJump($(this).siblings("input.inputbox"))}),e.find(".pagination .page-jump-form input.inputbox").on("keypress",function(e){13!==e.which&&13!==e.keyCode||(e.preventDefault(),pageJump($(this)))}),e.find(".pagination .dropdown-trigger").click(function(){var e=$(this).parent();setTimeout(function(){e.hasClass("dropdown-visible")&&e.find("input.inputbox").focus()},100)}),e.find(".navlinks").each(function(){function e(){var e,s=0,o=i.outerWidth(!0)-i.width(),r=Math.max(t.width()/3,240);a=!1,n.each(function(){$(this).is(":visible")&&(s+=$(this).outerWidth(!0))}),e=t.width()-s-o,i.css("max-width",Math.floor(Math.max(e,r))+"px")}var t=$(this),i=t.children().not(".rightside"),n=t.children(".rightside"),s=!1,a=!1;1===i.length&&n.length&&(e(),$(window).resize(function(){a?s=!0:(e(),a=!0,s=!1,setTimeout(function(){a=!1,s&&e()},250))}))}),e.find(".breadcrumbs:not([data-skip-responsive])").each(function(){function e(){var e,c=t.height();if(e=parseInt(t.css("max-width"),10),e||(e=n.width()),h=!1,r=parseInt(t.css("line-height"),10),i.each(function(){$(this).height()>0&&(r=Math.max(r,$(this).outerHeight(!0)))}),!(c<=r&&(!l||!1===d||d>=e)||(d=e,l&&(t.removeClass("wrapped").find(".crumb.wrapped").removeClass("wrapped "+a.join(" ")),t.height()<=r)||(l=!0,t.addClass("wrapped"),t.height()<=r))))for(var p=0;p<o;p++)for(var u=s-1;u>=0;u--)if(i.eq(u).addClass("wrapped "+a[p]),t.height()<=r)return}var t=$(this),i=t.find(".crumb"),s=i.length,a=["wrapped-max","wrapped-wide","wrapped-medium","wrapped-small","wrapped-tiny"],o=a.length,r=0,d=!1,l=!1,c=!1,h=!1;t.find("a").each(function(){var e=$(this);e.attr("title",e.text())}),e(),$(window).resize(function(){h?c=!0:(e(),h=!0,c=!1,setTimeout(function(){h=!1,c&&e()},250))})});e.find(".linklist:not(.navlinks, [data-skip-responsive]),.postbody .post-buttons:not([data-skip-responsive])").each(function(){function e(){var e=n.width();if(!(v&&f&&e<=u||(u=e,(g||v)&&(a.removeClass("hidden"),h.children(".clone").addClass("hidden"),g=v=!1),f&&(t.removeClass("compact"),f=!1),d&&p?c.removeClass("hidden"):c.addClass("hidden"),t.height()<=w||(f||(t.addClass("compact"),f=!0),t.height()<=w)))){if(f&&(t.removeClass("compact"),f=!1),!m){var i=o.clone();h.prepend(i.addClass("clone clone-first").removeClass("leftside rightside")),t.hasClass("post-buttons")&&($(".button",h).removeClass("button icon-button"),$(".responsive-menu-link",c).addClass("button icon-button").prepend("<span></span>")),m=!0}if(g||(o.addClass("hidden"),g=!0,h.children(".clone-first").removeClass("hidden"),c.removeClass("hidden")),!(t.height()<=w)&&(f||(t.addClass("compact"),f=!0),!(t.height()<=w)&&r.length)){if(f&&(t.removeClass("compact"),f=!1),!b){var s=r.clone();h.prepend(s.addClass("clone clone-last").removeClass("leftside rightside")),b=!0}v||(r.addClass("hidden"),v=!0,h.children(".clone-last").removeClass("hidden")),t.height()<=w||f||(t.addClass("compact"),f=!0)}}}var t=$(this),i=".edit-icon, .quote-icon, [data-last-responsive]",s=t.children(),a=s.not(".breadcrumbs, [data-skip-responsive]"),o=a.not(i),r=a.filter(i),d="nav-main"===t.attr("id"),l='<li class="responsive-menu hidden"><a href="javascript:void(0);" class="responsive-menu-link"></a><div class="dropdown hidden"><div class="pointer"><div class="pointer-inner" /></div><ul class="dropdown-contents" /></div></li>';d||(a.is(".rightside")?(a.filter(".rightside:first").before(l),t.children(".responsive-menu").addClass("rightside")):t.append(l));var c=t.children(".responsive-menu"),h=c.find(".dropdown-contents"),p=h.find("li:not(.separator)").length,u=!1,f=!1,g=!1,v=!1,m=!1,b=!1,w=0;s.each(function(){$(this).height()&&(w=Math.max(w,$(this).outerHeight(!0)))}),w<1||(w+=3,d||phpbb.registerDropdown(c.find("a.responsive-menu-link"),c.find(".dropdown"),!1),s.find("img").each(function(){$(this).load(function(){e()})}),e(),$(window).resize(e))}),e.find(".postbody").each(function(){var e=$(this),t=e.children();1===t.length&&t.is("div")||e.wrapInner('<div class="postbody-inner" />')}),$(".postprofile").each(function(e){var t=Math.max(28-e,2);$(this).css("z-index",t)}),i||(e.find("ul.topiclist dd.mark").siblings("dt").children(".list-inner").addClass("with-mark"),e.find(".topiclist.responsive-show-all > li > dl").each(function(){var e=$(this),t=e.find("dt .responsive-show:last-child"),i=!0;t.length?i=0===$.trim(t.text()).length:(e.find("dt > .list-inner").append('<div class="responsive-show" style="display:none;" />'),t=e.find("dt .responsive-show:last-child")),e.find("dd").not(".mark").each(function(){var e=$(this),n=e.children(),s=e.html();1===n.length&&n.text()===e.text()&&(s=n.html()),t.append((i?"":"<br />")+s),i=!1})}),e.find(".topiclist.responsive-show-columns").each(function(){var e=$(this),t=[],i=0;e.prev(".topiclist").find("li.header dd").not(".mark").each(function(){t.push($(this).text()),i++}),i&&e.find("dl").each(function(){var e=$(this),n=e.find("dt .responsive-show:last-child"),s=!0;n.length?s=0===$.trim(n.text()).length:(e.find("dt > .list-inner").append('<div class="responsive-show" style="display:none;" />'),n=e.find("dt .responsive-show:last-child")),e.find("dd").not(".mark").each(function(e){var a=$(this),o=a.children(),r=a.html();1===o.length&&o.text()===a.text()&&(r=o.html()),e<i&&(r=t[e]+": <strong>"+r+"</strong>"),n.append((s?"":"<br />")+r),s=!1})})}),e.find("table.table1").not(".not-responsive").each(function(){var e,t=$(this),i=t.find("thead > tr > th"),n=[],s=0;if(i.each(function(e){var i=$(this),a=parseInt(i.attr("colspan"),10),o=i.attr("data-dfn"),r=o||i.text();a=isNaN(a)||a<1?1:a;for(var d=0;d<a;d++)n.push(r);s++,o&&!e&&t.addClass("show-header")}),e=n.length,t.addClass("responsive"),s<2)return void t.addClass("show-header");t.find("tbody > tr").each(function(){var t=$(this),i=t.children("td"),s=0;if(1===i.length)return void t.addClass("big-column");i.each(function(){var t=$(this),i=parseInt(t.attr("colspan"),10),a=$.trim(t.text());e<=s||(a.length&&"-"!==a||t.children().length?t.prepend('<dfn style="display: none;">'+n[s]+"</dfn>"):t.addClass("empty"),i=isNaN(i)||i<1?1:i,s+=i)})})}),e.find("table.responsive > tbody").not(".responsive-skip-empty").each(function(){$(this).children("tr").length||$(this).parent("table:first").addClass("responsive-hide")}),e.find("#tabs, #minitabs").not("[data-skip-responsive]").each(function(){function e(){var i=n.width(),a=t.height();if(arguments.length||c&&!(i<=l)||!(a<=d)){if(s.show(),o.hide(),l=i,(a=t.height())<=d)return void(o.hasClass("dropdown-visible")&&phpbb.toggleDropdown.call(o.find("a.responsive-tab-link").get(0)));c=!0,o.show(),r.html("");for(var h,p=s.filter(":not(.activetab, .responsive-tab)"),u=p.length,f=u-1;f>=0;f--)if(h=p.eq(f),r.prepend(h.clone(!0).removeClass("tab")),h.hide(),t.height()<=d)return void r.find("a").click(function(){e(!0)});r.find("a").click(function(){e(!0)})}}var t=$(this),i=t.children(),s=i.children().not("[data-skip-responsive]"),a=s.children("a"),o=i.append('<li class="tab responsive-tab" style="display:none;"><a href="javascript:void(0);" class="responsive-tab-link">&nbsp;</a><div class="dropdown tab-dropdown" style="display: none;"><div class="pointer"><div class="pointer-inner" /></div><ul class="dropdown-contents" /></div></li>').find("li.responsive-tab"),r=o.find(".dropdown-contents"),d=0,l=!1,c=!1;a.each(function(){d=Math.max(d,Math.max($(this).outerHeight(!0),$(this).parent().outerHeight(!0)))});var h=o.find("a.responsive-tab-link");phpbb.registerDropdown(h,o.find(".dropdown"),{visibleClass:"activetab"}),e(!0),$(window).resize(e)}),e.find("#navigation").each(function(){1===$(this).children("ol, ul").children("li").length&&$(this).addClass("responsive-hide")}),e.find("[data-responsive-text]").each(function(){function e(){if($(window).width()>700){if(!s)return;return t.text(i),void(s=!1)}s||(t.text(n),s=!0)}var t=$(this),i=t.text(),n=t.attr("data-responsive-text"),s=!1;e(),$(window).resize(e)}),styleConfig.staticNavigation&&e.find(".navbar.tabbed > .inner").each(function(e){function t(){$("#page-header-box").css("padding-top",Math.floor(o.height())+"px"),o.addClass("static"),d.removeClass("not-static"),r=!0,checkNavigation(!0)}function i(){$("#page-header-box").css("padding-top",0),g.attr("data-card",0),v.attr("data-card",1),o.removeClass("static"),d.addClass("not-static"),r=!1,checkNavigation(!0)}function n(){(window.location.hash?window.location.hash:"")&&window.scrollTo(l.scrollLeft(),l.scrollTop()-o.height())}function s(e){var s,o=Math.floor(l.width());if(o<h||l.height()<p)return void(r&&i());if(!r){if((s=a.getBoundingClientRect().top)>0)return;return c=l.scrollTop()+s,t(),void(e&&n())}l.scrollTop()<c?i():e&&n()}var a=this,o=$(a),r=!1,d=o.parent(),l=$(window),c=0,h=styleConfig.staticNavigationMinWidth,p=styleConfig.staticNavigationMinHeight,u=!1,f=!1,g=$(".inner.page-width.card"),v=$("#page-header-box.card"),m=0,b=0,w=0;l.on("scroll resize",function(){r?(f?u=!0:(s(!1),f=!0,u=!1,setTimeout(function(){f=!1,u&&s(!1)},250)),b=l.scrollTop(),m=v.height(),Math.abs(b-w)>Math.abs(m-w)&&(b<m?(g.attr("data-card",0),v.attr("data-card",1)):(g.attr("data-card",1),v.attr("data-card",0)),w=b)):s(!1)}),l.on("load",function(){s(!0)}),l.on("hashchange",function(){s(!0)})}),e.find("dd.lastpost > span:only-child > br:only-child").parents("dd.lastpost").addClass("empty"),$("a.spoiler").click(function(e){e.preventDefault(),$(this).next("div.spoiler").show(),$(this).hide()}),window.matchMedia&&window.matchMedia("(-webkit-min-device-pixel-ratio: 2), (min-resolution: 192dpi), (min-resolution: 1.5dppx)").matches&&e.find("img[data-src-hd]").each(function(){function e(){i.css("width",(t.naturalWidth?t.naturalWidth:t.width)+"px"),t.setAttribute("src",t.getAttribute("data-src-hd"))}var t=this,i=$(this),n=new Image,s=!1,a=!1;t.complete?a=!0:t.onload=function(){a||(a=!0,s&&e())},n.onload=function(){s=!0,a&&e()},n.src=t.getAttribute("data-src-hd")}),e.find("div.buttons a.button.icon-button").each(function(){var e,t=$(this);t.children().length||(e=t.text().trim().split(" "),e.length>1&&(t.text(e.shift()+" ").append("<strong />"),t.find("strong").text(e.join(" "))))}),$("#phpbb.can-transform[data-online-text]").each(function(){var t=$(this).attr("data-online-text");e.find(".online").each(function(){$(this).css("position","relative").append('<span class="online-ribbon"><span>'+t+"</span><span>"+t+"</span></span>")})}),styleConfig._loaded&&e.find(".postprofile + .postbody > div:only-child").each(function(){adjustPosterProfile($(this))}),styleConfig.collapseForums&&e.find(".forabg li.header").each(function(){var e,t=$(this),i=t.parent().next("ul.forums"),n=0,s=!1;1===i.length&&($("a[data-id]",t).each(function(){n=parseInt(this.getAttribute("data-id"),10)}),n||i.find(".forumtitle[data-id]:first").each(function(){n=parseInt(this.getAttribute("data-id"),10),isNaN(n)||(n="f"+n)}),n&&(t.append('<a class="forum-toggle" href="#"></a>'),e=t.find(".forum-toggle"),e.click(function(t){if(t.preventDefault(),s)return i.stop(!0,!0).slideDown(200),s=!1,e.removeClass("toggled"),void phpbb.deleteCookie("toggled-"+n,styleConfig.cookieConfig);i.stop(!0,!0).slideUp(200),s=!0,e.addClass("toggled"),phpbb.setCookie("toggled-"+n,"1",styleConfig.cookieConfig)}),"1"===phpbb.getCookie("toggled-"+n,styleConfig.cookieConfig)&&(i.stop(!0,!0).slideUp(0),s=!0,e.addClass("toggled"))))}))}var styleConfig={staticNavigation:!0,staticNavigationMinWidth:700,staticNavigationMinHeight:400,extendPosterProfile:!0,collapseForums:!0},globalUnused=!0;jQuery(function(e){"use strict";e(".sub-panels").each(function(){var t=e("a[data-subpanel]",this),i=t.map(function(){return this.getAttribute("data-subpanel")}),n=this.getAttribute("data-show-panel");i.length&&(activateSubPanel(n,i),t.click(function(){return activateSubPanel(this.getAttribute("data-subpanel"),i),!1}))})});var inAutocomplete=!1,lastKeyEntered="";jQuery(function(e){"use strict";e("form input[type=text], form input[type=password]").on("keypress",function(t){var i=e(this).parents("form").find("input[type=submit].default-submit-action");return!i||i.length<=0||(!!phpbbCheckKey(t)||(!(t.which&&13===t.which||t.keyCode&&13===t.keyCode)||(i.click(),!1)))})}),jQuery(function(e){"use strict";function t(){styleConfig._resizeThrottled=!1,checkNavigation(!1),styleConfig.extendPosterProfile&&e(".postprofile + .postbody > div:only-child").each(function(){adjustPosterProfile(e(this))})}var i,n=["transform","webkitTransform","msTransform"];styleConfig.cookieConfig={prefix:"",path:"/",expires:new Date},styleConfig.cookieConfig.expires.setFullYear(styleConfig.cookieConfig.expires.getFullYear()+1),e("#phpbb.nojs").toggleClass("nojs hasjs"),e("#phpbb").toggleClass("hastouch",phpbb.isTouch),e("#phpbb.hastouch").removeClass("notouch"),e("form[data-focus]:first").each(function(){e("#"+this.getAttribute("data-focus")).focus()}),i=e("#phpbb").get(0);for(var s=0;s<n.length;s++)if(void 0!==i.style[n[s]]){e("#phpbb").addClass("can-transform");break}phpbb.setCookie=function(t,i,n){return n=e.extend({prefix:"",path:"/"},"object"==typeof n?n:{}),document.cookie=n.prefix+t+"="+encodeURIComponent(i)+(void 0===n.expires?"":";expires="+n.expires.toUTCString())+(n.path?";path="+n.path:"")+(n.domain?";domain="+n.domain:""),i},phpbb.getCookie=function(t,i){var n,s;return i=e.extend({prefix:"",path:"/"},"object"==typeof i?i:{}),n=new RegExp("(^| )"+i.prefix+t+"=([^;]+)(;|$)"),s=n.exec(document.cookie),s?decodeURIComponent(s[2]):null},phpbb.deleteCookie=function(t,i){return i=e.extend({prefix:"",path:"/"},"object"==typeof i?i:{}),document.cookie=i.prefix+t+"="+(i.path?"; path="+i.path:"")+(i.domain?"; domain="+i.domain:"")+"; expires=Thu, 01-Jan-70 00:00:01 GMT",null},initResponsiveNavigation(),parseDocument(e("body")),checkNavigation(!0),styleConfig._loaded=!0,styleConfig._resizeThrottled=!1,styleConfig._resizeQueued=!1,e(window).load(function(){checkNavigation(!0),styleConfig.extendPosterProfile&&e(".postprofile + .postbody > div:only-child").each(function(){adjustPosterProfile(e(this))})}),e(window).resize(function(){styleConfig._resizeThrottled?styleConfig._resizeQueued=!0:(t(),styleConfig._resizeThrottled=!0,styleConfig._resizeQueued=!1,setTimeout(function(){styleConfig._resizeThrottled=!1,styleConfig._resizeQueued&&t()},500))})});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImZvcnVtX2ZuLmpzIl0sIm5hbWVzIjpbImZpbmRfdXNlcm5hbWUiLCJ1cmwiLCJwb3B1cCIsIndpZHRoIiwiaGVpZ2h0IiwibmFtZSIsIndpbmRvdyIsIm9wZW4iLCJyZXBsYWNlIiwicGFnZUp1bXAiLCJpdGVtIiwicGFnZSIsInBhcnNlSW50IiwidmFsIiwicGVyUGFnZSIsImF0dHIiLCJiYXNlVXJsIiwic3RhcnROYW1lIiwiaXNOYU4iLCJNYXRoIiwiZmxvb3IiLCJpbmRleE9mIiwiZG9jdW1lbnQiLCJsb2NhdGlvbiIsImhyZWYiLCJtYXJrbGlzdCIsImlkIiwic3RhdGUiLCJqUXVlcnkiLCJlYWNoIiwiJHRoaXMiLCJ0aGlzIiwic3Vic3RyIiwibGVuZ3RoIiwicHJvcCIsInZpZXdhYmxlQXJlYSIsImUiLCJpdHNlbGYiLCJlbGVtZW50IiwicGFyZW50Tm9kZSIsInZhSGVpZ2h0Iiwic3R5bGUiLCJvdmVyZmxvdyIsIm1heEhlaWdodCIsInZhTWF4SGVpZ2h0Iiwib2Zmc2V0SGVpZ2h0IiwiYWN0aXZhdGVTdWJQYW5lbCIsInAiLCJwYW5lbHNPcHRpb24iLCJpIiwic2hvd1BhbmVsIiwicGFuZWxzIiwibWFwIiwiZ2V0QXR0cmlidXRlIiwiJCIsImNzcyIsInRvZ2dsZUNsYXNzIiwic2VsZWN0Q29kZSIsImEiLCJzIiwiciIsImdldEVsZW1lbnRzQnlUYWdOYW1lIiwiZ2V0U2VsZWN0aW9uIiwic2V0QmFzZUFuZEV4dGVudCIsImwiLCJpbm5lclRleHQiLCJlcnJvciIsImNyZWF0ZVJhbmdlIiwic2VsZWN0Tm9kZUNvbnRlbnRzIiwicmVtb3ZlQWxsUmFuZ2VzIiwiYWRkUmFuZ2UiLCJvcGVyYSIsImlubmVySFRNTCIsInN1YnN0cmluZyIsInNlbGVjdGlvbiIsImJvZHkiLCJjcmVhdGVUZXh0UmFuZ2UiLCJtb3ZlVG9FbGVtZW50VGV4dCIsInNlbGVjdCIsInBsYXlfcXRfZmlsZSIsIm9iaiIsInJlY3RhbmdsZSIsIkdldFJlY3RhbmdsZSIsInNwbGl0IiwieDEiLCJ4MiIsInkxIiwieTIiLCJTZXRDb250cm9sbGVyVmlzaWJsZSIsIlBsYXkiLCJwaHBiYkNoZWNrS2V5IiwiZXZlbnQiLCJrZXlDb2RlIiwiaW5BdXRvY29tcGxldGUiLCJsYXN0S2V5RW50ZXJlZCIsIndoaWNoIiwiaW5zZXJ0VXNlciIsImZvcm1JZCIsInZhbHVlIiwiJGZvcm0iLCJmb3JtTmFtZSIsImZpZWxkTmFtZSIsIm9wZW5lciIsImZvcm1zIiwidHlwZSIsImluc2VydF9tYXJrZWRfdXNlcnMiLCJ1c2VycyIsImNoZWNrZWQiLCJjbG9zZSIsImluc2VydF9zaW5nbGVfdXNlciIsInVzZXIiLCJhZGp1c3RQb3N0ZXJQcm9maWxlIiwicG9zdGJvZHkiLCJwcm9maWxlIiwicGFyZW50IiwicHJldiIsInBvc3QiLCJyZXNpemVkIiwiaGFzQ2xhc3MiLCJyZW1vdmVDbGFzcyIsImFkZENsYXNzIiwiY2hlY2tOYXZpZ2F0aW9uIiwiZm9yY2UiLCJpbml0IiwibmF2IiwicmVzcG9uc2l2ZSIsImxhc3RXaWR0aCIsIml0ZW1Db3VudCIsImNvbnRlbnRzIiwibWVudSIsImZpbmQiLCJjYW5Ub2dnbGUiLCJub1RvZ2dsZSIsImNoaWxkcmVuIiwiaGlkZSIsIml0ZW1zIiwibGlzdHMiLCJub3QiLCJjbG9uZUNsYXNzIiwiaXMiLCJhZGQiLCJhcHBlbmQiLCJjbG9uZSIsInJlc3BvbnNpdmVDbG9uZXMiLCJpbml0aWFsaXplZCIsInN0eWxlQ29uZmlnIiwiX3Jlc3BvbnNpdmVOYXZpZ2F0aW9uIiwiZm9yY2VDaGVjayIsImNvbnRhaW5lcldpZHRoIiwibWVudVdpZHRoIiwiaGlkaW5nIiwiY29udGFpbmVyIiwic2hvdyIsImFsd2F5c1Nob3dNZW51Iiwib3V0ZXJXaWR0aCIsIml0ZW1XaWR0aCIsImZpbHRlciIsImluaXRSZXNwb25zaXZlTmF2aWdhdGlvbiIsImVxIiwicHJlcGVuZCIsInBocGJiIiwicmVnaXN0ZXJEcm9wZG93biIsInB1c2giLCJwYXJzZURvY3VtZW50IiwiJGNvbnRhaW5lciIsInRlc3QiLCJjcmVhdGVFbGVtZW50Iiwib2xkQnJvd3NlciIsImJvcmRlclJhZGl1cyIsIiRib2R5IiwidGFicyIsInRhYiIsImNsYXNzTmFtZSIsInRpdGxlIiwidGV4dCIsInRyaW0iLCJjb250ZW50IiwiY2xhc3NlcyIsImtleSIsImN1cnJlbnQiLCJmb3VuZCIsIm1hdGNoIiwibWF0Y2hlcyIsImoiLCJvbiIsImNsaWNrIiwic2libGluZ3MiLCJwcmV2ZW50RGVmYXVsdCIsIiRkcm9wZG93bkNvbnRhaW5lciIsInNldFRpbWVvdXQiLCJmb2N1cyIsInJlc2l6ZSIsIm1heFdpZHRoIiwiZGlmZiIsIiRsZWZ0IiwibWluV2lkdGgiLCJtYXgiLCJ0aHJvdHRsZWQiLCIkcmlnaHQiLCJxdWV1ZWQiLCJjaGVjayIsIiRsaW5rcyIsIm91dGVySGVpZ2h0Iiwid3JhcHBlZCIsImpvaW4iLCJjbGFzc2VzTGVuZ3RoIiwiJGxpbmsiLCJyZXNwb25zaXZlMiIsImNvbXBhY3QiLCJyZXNwb25zaXZlMSIsIiRsaW5rc05vdFNraXAiLCIkbWVudUNvbnRlbnRzIiwicGVyc2lzdGVudCIsInBlcnNpc3RlbnRDb250ZW50IiwiJG1lbnUiLCJjb3BpZWQxIiwiJGNsb25lczEiLCIkbGlua3NGaXJzdCIsIiRsaW5rc0xhc3QiLCJjb3BpZWQyIiwiJGNsb25lczIiLCJmaWx0ZXJMYXN0IiwiJGxpbmtzQWxsIiwiaHRtbCIsImJlZm9yZSIsImxvYWQiLCJ3cmFwSW5uZXIiLCJ6IiwiJGJsb2NrIiwiZmlyc3QiLCJjb2x1bW4iLCIkY2hpbGRyZW4iLCIkbGlzdCIsImhlYWRlcnMiLCJoZWFkZXJzTGVuZ3RoIiwiJHRoIiwidG90YWxIZWFkZXJzIiwiY2VsbCIsImNvbHNwYW4iLCJkZm4iLCJyb3ciLCJjZWxscyIsImFyZ3VtZW50cyIsIiR0YWJzIiwiJGl0ZW0iLCJ0b2dnbGVEcm9wZG93biIsImNhbGwiLCJnZXQiLCIkdGFiIiwiJGF2YWlsYWJsZVRhYnMiLCJ0b3RhbCIsIiR1bCIsIiR0YWJMaW5rIiwidmlzaWJsZUNsYXNzIiwiZnVsbFRleHQiLCJyZXNwb25zaXZlVGV4dCIsInN0YXRpY05hdmlnYXRpb24iLCJlbmFibGVTdGF0aWMiLCJuYXZpZ2F0aW9uIiwiaXNTdGF0aWMiLCJkaXNhYmxlU3RhdGljIiwibmF2YmFyQm94IiwiaGVhZGVyQm94IiwidGVzdEhhc2giLCJoYXNoIiwic2Nyb2xsVG8iLCIkdyIsInNjcm9sbExlZnQiLCJzY3JvbGxUb3AiLCJjaGVja0hhc2giLCJ0b3AiLCJ3aW5kb3dXaWR0aCIsIm1pbkhlaWdodCIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsIm1pblRvcFBvc2l0aW9uIiwic3RhdGljTmF2aWdhdGlvbk1pbldpZHRoIiwic3RhdGljTmF2aWdhdGlvbk1pbkhlaWdodCIsImJyZWFrTGluZSIsImN1cnJPZmZzZXQiLCJwcmV2T2Zmc2V0IiwiYWJzIiwicGFyZW50cyIsIm5leHQiLCJtYXRjaE1lZGlhIiwicmVwbGFjZUltYWdlIiwiaW1nIiwibmF0dXJhbFdpZHRoIiwic2V0QXR0cmlidXRlIiwiaGRJbWFnZSIsIkltYWdlIiwiaGRMb2FkZWQiLCJub3JtYWxMb2FkZWQiLCJjb21wbGV0ZSIsIm9ubG9hZCIsInNyYyIsIndvcmRzIiwic2hpZnQiLCJfbG9hZGVkIiwiY29sbGFwc2VGb3J1bXMiLCJ0b2dnbGUiLCJmb3J1bSIsInRvZ2dsZWQiLCJzdG9wIiwic2xpZGVEb3duIiwiZGVsZXRlQ29va2llIiwiY29va2llQ29uZmlnIiwic2xpZGVVcCIsInNldENvb2tpZSIsImdldENvb2tpZSIsImV4dGVuZFBvc3RlclByb2ZpbGUiLCJnbG9iYWxVbnVzZWQiLCIkY2hpbGROb2RlcyIsImRlZmF1bHRCdXR0b24iLCJwcm9jZXNzUmVzaXplRXZlbnQiLCJfcmVzaXplVGhyb3R0bGVkIiwidHJhbnNmb3JtcyIsInByZWZpeCIsInBhdGgiLCJleHBpcmVzIiwiRGF0ZSIsInNldEZ1bGxZZWFyIiwiZ2V0RnVsbFllYXIiLCJpc1RvdWNoIiwiY29uZmlnIiwiZXh0ZW5kIiwiY29va2llIiwiZW5jb2RlVVJJQ29tcG9uZW50IiwidG9VVENTdHJpbmciLCJkb21haW4iLCJleHByIiwiUmVnRXhwIiwiZXhlYyIsImRlY29kZVVSSUNvbXBvbmVudCIsIl9yZXNpemVRdWV1ZWQiXSwibWFwcGluZ3MiOiJBQWtCQSxRQUFTQSxlQUFjQyxHQUNyQixZQUdBLE9BREFDLE9BQU1ELEVBQUssSUFBSyxJQUFLLGdCQUNkLEVBTVQsUUFBU0MsT0FBTUQsRUFBS0UsRUFBT0MsRUFBUUMsR0FDakMsWUFHQSxPQURBQyxRQUFPQyxLQUFLTixFQUFJTyxRQUFRLFNBQVUsS0FBTUgsR0FBUSxTQUFVLFVBQVlELEVBQVMsd0NBQTBDRCxJQUNsSCxFQU1ULFFBQVNNLFVBQVNDLEdBQ2hCLFlBRUEsSUFBSUMsR0FBT0MsU0FBU0YsRUFBS0csTUFBTyxJQUM1QkMsRUFBVUosRUFBS0ssS0FBSyxpQkFDcEJDLEVBQVVOLEVBQUtLLEtBQUssaUJBQ3BCRSxFQUFZUCxFQUFLSyxLQUFLLGtCQUViLFFBQVRKLElBQWtCTyxNQUFNUCxJQUFTQSxJQUFTUSxLQUFLQyxNQUFNVCxJQUFTQSxFQUFPLEtBQ3pDLElBQTFCSyxFQUFRSyxRQUFRLEtBQ2xCQyxTQUFTQyxTQUFTQyxLQUFPUixFQUFVLElBQU1DLEVBQVksS0FBUU4sRUFBTyxHQUFLRyxFQUV6RVEsU0FBU0MsU0FBU0MsS0FBT1IsRUFBUVIsUUFBUSxTQUFVLEtBQU8sSUFBTVMsRUFBWSxLQUFRTixFQUFPLEdBQUtHLEdBU3RHLFFBQVNXLFVBQVNDLEVBQUlyQixFQUFNc0IsR0FDMUIsWUFFQUMsUUFBTyxJQUFNRixFQUFLLCtCQUErQkcsS0FBSyxXQUNwRCxHQUFJQyxHQUFRRixPQUFPRyxLQUNmRCxHQUFNZixLQUFLLFFBQVFpQixPQUFPLEVBQUczQixFQUFLNEIsVUFBWTVCLEdBQ2hEeUIsRUFBTUksS0FBSyxVQUFXUCxLQVM1QixRQUFTUSxjQUFhQyxFQUFHQyxHQUN2QixZQUVBLElBQUtELEVBQUwsQ0FJQSxHQUFJRSxHQUFZRCxFQUF5QkQsRUFBZkEsRUFB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LFFBQVF5TCxPQUFPLFdBQ1Y5QyxZQUFZeUssaUJBV2Z6SyxZQUFZNEwsZUFBZ0IsR0FWNUJwQixJQUNBeEssWUFBWXlLLGtCQUFtQixFQUMvQnpLLFlBQVk0TCxlQUFnQixFQUM1QmhKLFdBQVcsV0FDVDVDLFlBQVl5SyxrQkFBbUIsRUFDM0J6SyxZQUFZNEwsZUFDZHBCLEtBRUQiLCJmaWxlIjoiZm9ydW1fZm4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKiBnbG9iYWwgcGhwYmIgKi9cblxuLyoqXG4gKiBwaHBCQjMgZm9ydW0gZnVuY3Rpb25zXG4gKi9cbnZhciBzdHlsZUNvbmZpZyA9IHtcbiAgc3RhdGljTmF2aWdhdGlvbjogdHJ1ZSxcbiAgc3RhdGljTmF2aWdhdGlvbk1pbldpZHRoOiA3MDAsXG4gIHN0YXRpY05hdmlnYXRpb25NaW5IZWlnaHQ6IDQwMCxcbiAgZXh0ZW5kUG9zdGVyUHJvZmlsZTogdHJ1ZSxcbiAgY29sbGFwc2VGb3J1bXM6IHRydWVcbn07XG5cbnZhciBnbG9iYWxVbnVzZWQgPSB0cnVlO1xuXG4vKipcbiAqIEZpbmQgYSBtZW1iZXJcbiAqL1xuZnVuY3Rpb24gZmluZF91c2VybmFtZSh1cmwpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIHBvcHVwKHVybCwgNzYwLCA1NzAsICdfdXNlcnNlYXJjaCcpO1xuICByZXR1cm4gZmFsc2U7XG59XG5cbi8qKlxuICogV2luZG93IHBvcHVwXG4gKi9cbmZ1bmN0aW9uIHBvcHVwKHVybCwgd2lkdGgsIGhlaWdodCwgbmFtZSkge1xuICAndXNlIHN0cmljdCc7XG5cbiAgd2luZG93Lm9wZW4odXJsLnJlcGxhY2UoLyZhbXA7L2csICcmJyksIG5hbWUgfHwgJ19wb3B1cCcsICdoZWlnaHQ9JyArIGhlaWdodCArICcscmVzaXphYmxlPXllcyxzY3JvbGxiYXJzPXllcywgd2lkdGg9JyArIHdpZHRoKTtcbiAgcmV0dXJuIGZhbHNlO1xufVxuXG4vKipcbiAqIEp1bXAgdG8gcGFnZVxuICovXG5mdW5jdGlvbiBwYWdlSnVtcChpdGVtKSB7XG4gICd1c2Ugc3RyaWN0JztcblxuICB2YXIgcGFnZSA9IHBhcnNlSW50KGl0ZW0udmFsKCksIDEwKTtcbiAgdmFyIHBlclBhZ2UgPSBpdGVtLmF0dHIoJ2RhdGEtcGVyLXBhZ2UnKTtcbiAgdmFyIGJhc2VVcmwgPSBpdGVtLmF0dHIoJ2RhdGEtYmFzZS11cmwnKTtcbiAgdmFyIHN0YXJ0TmFtZSA9IGl0ZW0uYXR0cignZGF0YS1zdGFydC1uYW1lJyk7XG5cbiAgaWYgKHBhZ2UgIT09IG51bGwgJiYgIWlzTmFOKHBhZ2UpICYmIHBhZ2UgPT09IE1hdGguZmxvb3IocGFnZSkgJiYgcGFnZSA+IDApIHtcbiAgICBpZiAoYmFzZVVybC5pbmRleE9mKCc/JykgPT09IC0xKSB7XG4gICAgICBkb2N1bWVudC5sb2NhdGlvbi5ocmVmID0gYmFzZVVybCArICc/JyArIHN0YXJ0TmFtZSArICc9JyArICgocGFnZSAtIDEpICogcGVyUGFnZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGRvY3VtZW50LmxvY2F0aW9uLmhyZWYgPSBiYXNlVXJsLnJlcGxhY2UoLyZhbXA7L2csICcmJykgKyAnJicgKyBzdGFydE5hbWUgKyAnPScgKyAoKHBhZ2UgLSAxKSAqIHBlclBhZ2UpO1xuICAgIH1cbiAgfVxufVxuXG4vKipcbiAqIE1hcmsvdW5tYXJrIGNoZWNrbGlzdFxuICogaWQgPSBJRCBvZiBwYXJlbnQgY29udGFpbmVyLCBuYW1lID0gbmFtZSBwcmVmaXgsIHN0YXRlID0gc3RhdGUgW3RydWUvZmFsc2VdXG4gKi9cbmZ1bmN0aW9uIG1hcmtsaXN0KGlkLCBuYW1lLCBzdGF0ZSkge1xuICAndXNlIHN0cmljdCc7XG5cbiAgalF1ZXJ5KCcjJyArIGlkICsgJyBpbnB1dFt0eXBlPWNoZWNrYm94XVtuYW1lXScpLmVhY2goZnVuY3Rpb24gKCkge1xuICAgIHZhciAkdGhpcyA9IGpRdWVyeSh0aGlzKTtcbiAgICBpZiAoJHRoaXMuYXR0cignbmFtZScpLnN1YnN0cigwLCBuYW1lLmxlbmd0aCkgPT09IG5hbWUpIHtcbiAgICAgICR0aGlzLnByb3AoJ2NoZWNrZWQnLCBzdGF0ZSk7XG4gICAgfVxuICB9KTtcbn1cblxuLyoqXG4gKiBSZXNpemUgdmlld2FibGUgYXJlYSBmb3IgYXR0YWNoZWQgaW1hZ2Ugb3IgdG9waWMgcmV2aWV3IHBhbmVsIChwb3NzaWJseSBvdGhlcnMgdG8gY29tZSlcbiAqIGUgPSBlbGVtZW50XG4gKi9cbmZ1bmN0aW9uIHZpZXdhYmxlQXJlYShlLCBpdHNlbGYpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIGlmICghZSkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIHZhciBlbGVtZW50ID0gKCFpdHNlbGYpID8gZS5wYXJlbnROb2RlIDogZTtcbiAgaWYgKCFlbGVtZW50LnZhSGVpZ2h0KSB7XG4gICAgLy8gU3RvcmUgdmlld2FibGUgYXJlYSBoZWlnaHQgYmVmb3JlIGNoYW5naW5nIHN0eWxlIHRvIGF1dG9cbiAgICBlbGVtZW50LnZhSGVpZ2h0ID0gZWxlbWVudC5vZmZzZXRIZWlnaHQ7XG4gICAgZWxlbWVudC52YU1heEhlaWdodCA9IGVsZW1lbnQuc3R5bGUubWF4SGVpZ2h0O1xuICAgIGVsZW1lbnQuc3R5bGUuaGVpZ2h0ID0gJ2F1dG8nO1xuICAgIGVsZW1lbnQuc3R5bGUubWF4SGVpZ2h0ID0gJ25vbmUnO1xuICAgIGVsZW1lbnQuc3R5bGUub3ZlcmZsb3cgPSAndmlzaWJsZSc7XG4gIH0gZWxzZSB7XG4gICAgLy8gUmVzdG9yZSB2aWV3YWJsZSBhcmVhIGhlaWdodCB0byB0aGUgZGVmYXVsdFxuICAgIGVsZW1lbnQuc3R5bGUuaGVpZ2h0ID0gZWxlbWVudC52YUhlaWdodCArICdweCc7XG4gICAgZWxlbWVudC5zdHlsZS5vdmVyZmxvdyA9ICdhdXRvJztcbiAgICBlbGVtZW50LnN0eWxlLm1heEhlaWdodCA9IGVsZW1lbnQudmFNYXhIZWlnaHQ7XG4gICAgZWxlbWVudC52YUhlaWdodCA9IGZhbHNlO1xuICB9XG59XG5cbi8qKlxuICogQWx0ZXJuYXRlIGRpc3BsYXkgb2Ygc3ViUGFuZWxzXG4gKi9cbmpRdWVyeShmdW5jdGlvbiAoJCkge1xuICAndXNlIHN0cmljdCc7XG5cbiAgJCgnLnN1Yi1wYW5lbHMnKS5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgJGNoaWxkTm9kZXMgPSAkKCdhW2RhdGEtc3VicGFuZWxdJywgdGhpcyk7XG4gICAgdmFyIHBhbmVscyA9ICRjaGlsZE5vZGVzLm1hcChmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gdGhpcy5nZXRBdHRyaWJ1dGUoJ2RhdGEtc3VicGFuZWwnKTtcbiAgICB9KTtcbiAgICB2YXIgc2hvd1BhbmVsID0gdGhpcy5nZXRBdHRyaWJ1dGUoJ2RhdGEtc2hvdy1wYW5lbCcpO1xuXG4gICAgaWYgKHBhbmVscy5sZW5ndGgpIHtcbiAgICAgIGFjdGl2YXRlU3ViUGFuZWwoc2hvd1BhbmVsLCBwYW5lbHMpO1xuICAgICAgJGNoaWxkTm9kZXMuY2xpY2soZnVuY3Rpb24gKCkge1xuICAgICAgICBhY3RpdmF0ZVN1YlBhbmVsKHRoaXMuZ2V0QXR0cmlidXRlKCdkYXRhLXN1YnBhbmVsJyksIHBhbmVscyk7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfSk7XG59KTtcblxuLyoqXG4gKiBBY3RpdmF0ZSBzcGVjaWZpYyBzdWJQYW5lbFxuICovXG5mdW5jdGlvbiBhY3RpdmF0ZVN1YlBhbmVsKHAsIHBhbmVsc09wdGlvbikge1xuICAndXNlIHN0cmljdCc7XG5cbiAgdmFyIGk7XG4gIHZhciBzaG93UGFuZWw7XG4gIHZhciBwYW5lbHMgPSAodHlwZW9mIHBhbmVsc09wdGlvbiA9PT0gJ3VuZGVmaW5lZCcpID9cbiAgICBqUXVlcnkoJy5zdWItcGFuZWxzIGFbZGF0YS1zdWJwYW5lbF0nKS5tYXAoZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHRoaXMuZ2V0QXR0cmlidXRlKCdkYXRhLXN1YnBhbmVsJyk7XG4gICAgfSkgOiBwYW5lbHNPcHRpb247XG5cbiAgaWYgKHR5cGVvZiBwID09PSAnc3RyaW5nJykge1xuICAgIHNob3dQYW5lbCA9IHA7XG4gIH1cbiAgJCgnaW5wdXRbbmFtZT1cInNob3dfcGFuZWxcIl0nKS52YWwoc2hvd1BhbmVsKTtcblxuICBmb3IgKGkgPSAwOyBpIDwgcGFuZWxzLmxlbmd0aDsgaSsrKSB7XG4gICAgalF1ZXJ5KCcjJyArIHBhbmVsc1tpXSkuY3NzKCdkaXNwbGF5JywgcGFuZWxzW2ldID09PSBzaG93UGFuZWwgPyAnYmxvY2snIDogJ25vbmUnKTtcbiAgICBqUXVlcnkoJyMnICsgcGFuZWxzW2ldICsgJy10YWInKS50b2dnbGVDbGFzcygnYWN0aXZldGFiJywgcGFuZWxzW2ldID09PSBzaG93UGFuZWwpO1xuICB9XG59XG5cbmZ1bmN0aW9uIHNlbGVjdENvZGUoYSkge1xuICAndXNlIHN0cmljdCc7XG5cbiAgLy8gR2V0IElEIG9mIGNvZGUgYmxvY2tcbiAgdmFyIGUgPSBhLnBhcmVudE5vZGUucGFyZW50Tm9kZS5nZXRFbGVtZW50c0J5VGFnTmFtZSgnQ09ERScpWzBdO1xuICB2YXIgcztcbiAgdmFyIHI7XG5cbiAgLy8gTm90IElFIGFuZCBJRTkrXG4gIGlmICh3aW5kb3cuZ2V0U2VsZWN0aW9uKSB7XG4gICAgcyA9IHdpbmRvdy5nZXRTZWxlY3Rpb24oKTtcbiAgICAvLyBTYWZhcmkgYW5kIENocm9tZVxuICAgIGlmIChzLnNldEJhc2VBbmRFeHRlbnQpIHtcbiAgICAgIHZhciBsID0gKGUuaW5uZXJUZXh0Lmxlbmd0aCA+IDEpID8gZS5pbm5lclRleHQubGVuZ3RoIC0gMSA6IDE7XG4gICAgICB0cnkge1xuICAgICAgICBzLnNldEJhc2VBbmRFeHRlbnQoZSwgMCwgZSwgbCk7XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICByID0gZG9jdW1lbnQuY3JlYXRlUmFuZ2UoKTtcbiAgICAgICAgci5zZWxlY3ROb2RlQ29udGVudHMoZSk7XG4gICAgICAgIHMucmVtb3ZlQWxsUmFuZ2VzKCk7XG4gICAgICAgIHMuYWRkUmFuZ2Uocik7XG4gICAgICB9XG4gICAgLy8gRmlyZWZveCBhbmQgT3BlcmFcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gd29ya2Fyb3VuZCBmb3IgYnVnICMgNDI4ODVcbiAgICAgIGlmICh3aW5kb3cub3BlcmEgJiYgZS5pbm5lckhUTUwuc3Vic3RyaW5nKGUuaW5uZXJIVE1MLmxlbmd0aCAtIDQpID09PSAnPEJSPicpIHtcbiAgICAgICAgZS5pbm5lckhUTUwgPSBlLmlubmVySFRNTCArICcmbmJzcDsnO1xuICAgICAgfVxuXG4gICAgICByID0gZG9jdW1lbnQuY3JlYXRlUmFuZ2UoKTtcbiAgICAgIHIuc2VsZWN0Tm9kZUNvbnRlbnRzKGUpO1xuICAgICAgcy5yZW1vdmVBbGxSYW5nZXMoKTtcbiAgICAgIHMuYWRkUmFuZ2Uocik7XG4gICAgfVxuICAvLyBTb21lIG9sZGVyIGJyb3dzZXJzXG4gIH0gZWxzZSBpZiAoZG9jdW1lbnQuZ2V0U2VsZWN0aW9uKSB7XG4gICAgcyA9IGRvY3VtZW50LmdldFNlbGVjdGlvbigpO1xuICAgIHIgPSBkb2N1bWVudC5jcmVhdGVSYW5nZSgpO1xuICAgIHIuc2VsZWN0Tm9kZUNvbnRlbnRzKGUpO1xuICAgIHMucmVtb3ZlQWxsUmFuZ2VzKCk7XG4gICAgcy5hZGRSYW5nZShyKTtcbiAgLy8gSUVcbiAgfSBlbHNlIGlmIChkb2N1bWVudC5zZWxlY3Rpb24pIHtcbiAgICByID0gZG9jdW1lbnQuYm9keS5jcmVhdGVUZXh0UmFuZ2UoKTtcbiAgICByLm1vdmVUb0VsZW1lbnRUZXh0KGUpO1xuICAgIHIuc2VsZWN0KCk7XG4gIH1cbn1cblxuLyoqXG4gKiBQbGF5IHF1aWNrdGltZSBmaWxlIGJ5IGRldGVybWluaW5nIGl0J3Mgd2lkdGgvaGVpZ2h0XG4gKiBmcm9tIHRoZSBkaXNwbGF5ZWQgcmVjdGFuZ2xlIGFyZWFcbiAqL1xuZnVuY3Rpb24gcGxheV9xdF9maWxlKG9iaikge1xuICAndXNlIHN0cmljdCc7XG5cbiAgdmFyIHJlY3RhbmdsZSA9IG9iai5HZXRSZWN0YW5nbGUoKTtcbiAgdmFyIHdpZHRoO1xuICB2YXIgaGVpZ2h0O1xuXG4gIGlmIChyZWN0YW5nbGUpIHtcbiAgICByZWN0YW5nbGUgPSByZWN0YW5nbGUuc3BsaXQoJywnKTtcbiAgICB2YXIgeDEgPSBwYXJzZUludChyZWN0YW5nbGVbMF0sIDEwKTtcbiAgICB2YXIgeDIgPSBwYXJzZUludChyZWN0YW5nbGVbMl0sIDEwKTtcbiAgICB2YXIgeTEgPSBwYXJzZUludChyZWN0YW5nbGVbMV0sIDEwKTtcbiAgICB2YXIgeTIgPSBwYXJzZUludChyZWN0YW5nbGVbM10sIDEwKTtcblxuICAgIHdpZHRoID0gKHgxIDwgMCkgPyAoeDEgKiAtMSkgKyB4MiA6IHgyIC0geDE7XG4gICAgaGVpZ2h0ID0gKHkxIDwgMCkgPyAoeTEgKiAtMSkgKyB5MiA6IHkyIC0geTE7XG4gIH0gZWxzZSB7XG4gICAgd2lkdGggPSAyMDA7XG4gICAgaGVpZ2h0ID0gMDtcbiAgfVxuXG4gIG9iai53aWR0aCA9IHdpZHRoO1xuICBvYmouaGVpZ2h0ID0gaGVpZ2h0ICsgMTY7XG5cbiAgb2JqLlNldENvbnRyb2xsZXJWaXNpYmxlKHRydWUpO1xuICBvYmouUGxheSgpO1xufVxuXG52YXIgaW5BdXRvY29tcGxldGUgPSBmYWxzZTtcbnZhciBsYXN0S2V5RW50ZXJlZCA9ICcnO1xuXG4vKipcbiAqIENoZWNrIGV2ZW50IGtleVxuICovXG5mdW5jdGlvbiBwaHBiYkNoZWNrS2V5KGV2ZW50KSB7XG4gICd1c2Ugc3RyaWN0JztcblxuICAvLyBLZXljb2RlIGlzIGFycmF5IGRvd24gb3IgdXA/XG4gIGlmIChldmVudC5rZXlDb2RlICYmIChldmVudC5rZXlDb2RlID09PSA0MCB8fCBldmVudC5rZXlDb2RlID09PSAzOCkpIHtcbiAgICBpbkF1dG9jb21wbGV0ZSA9IHRydWU7XG4gIH1cblxuICAvLyBNYWtlIHN1cmUgd2UgYXJlIG5vdCB3aXRoaW4gYW4gXCJhdXRvY29tcGxldGlvblwiIGZpZWxkXG4gIGlmIChpbkF1dG9jb21wbGV0ZSkge1xuICAgIC8vIElmIHJldHVybiBwcmVzc2VkIGFuZCBrZXkgY2hhbmdlZCB3ZSByZXNldCB0aGUgYXV0b2NvbXBsZXRpb25cbiAgICBpZiAoIWxhc3RLZXlFbnRlcmVkIHx8IGxhc3RLZXlFbnRlcmVkID09PSBldmVudC53aGljaCkge1xuICAgICAgaW5BdXRvY29tcGxldGUgPSBmYWxzZTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgfVxuXG4gIC8vIEtleWNvZGUgaXMgbm90IHJldHVybiwgdGhlbiByZXR1cm4uIDspXG4gIGlmIChldmVudC53aGljaCAhPT0gMTMpIHtcbiAgICBsYXN0S2V5RW50ZXJlZCA9IGV2ZW50LndoaWNoO1xuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgcmV0dXJuIGZhbHNlO1xufVxuXG4vKipcbiAqIEFwcGx5IG9ua2V5cHJlc3MgZXZlbnQgZm9yIGZvcmNpbmcgZGVmYXVsdCBzdWJtaXQgYnV0dG9uIG9uIEVOVEVSIGtleSBwcmVzc1xuICovXG5qUXVlcnkoZnVuY3Rpb24gKCQpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuXG4gICQoJ2Zvcm0gaW5wdXRbdHlwZT10ZXh0XSwgZm9ybSBpbnB1dFt0eXBlPXBhc3N3b3JkXScpLm9uKCdrZXlwcmVzcycsIGZ1bmN0aW9uIChlKSB7XG4gICAgdmFyIGRlZmF1bHRCdXR0b24gPSAkKHRoaXMpLnBhcmVudHMoJ2Zvcm0nKS5maW5kKCdpbnB1dFt0eXBlPXN1Ym1pdF0uZGVmYXVsdC1zdWJtaXQtYWN0aW9uJyk7XG5cbiAgICBpZiAoIWRlZmF1bHRCdXR0b24gfHwgZGVmYXVsdEJ1dHRvbi5sZW5ndGggPD0gMCkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgaWYgKHBocGJiQ2hlY2tLZXkoZSkpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIGlmICgoZS53aGljaCAmJiBlLndoaWNoID09PSAxMykgfHwgKGUua2V5Q29kZSAmJiBlLmtleUNvZGUgPT09IDEzKSkge1xuICAgICAgZGVmYXVsdEJ1dHRvbi5jbGljaygpO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIHJldHVybiB0cnVlO1xuICB9KTtcbn0pO1xuXG4vKipcbiAqIEZ1bmN0aW9ucyBmb3IgdXNlciBzZWFyY2ggcG9wdXBcbiAqL1xuZnVuY3Rpb24gaW5zZXJ0VXNlcihmb3JtSWQsIHZhbHVlKSB7XG4gICd1c2Ugc3RyaWN0JztcblxuICB2YXIgJGZvcm0gPSBqUXVlcnkoZm9ybUlkKTtcbiAgdmFyIGZvcm1OYW1lID0gJGZvcm0uYXR0cignZGF0YS1mb3JtLW5hbWUnKTtcbiAgdmFyIGZpZWxkTmFtZSA9ICRmb3JtLmF0dHIoJ2RhdGEtZmllbGQtbmFtZScpO1xuICB2YXIgaXRlbSA9IG9wZW5lci5kb2N1bWVudC5mb3Jtc1tmb3JtTmFtZV1bZmllbGROYW1lXTtcblxuICBpZiAoaXRlbS52YWx1ZS5sZW5ndGggJiYgaXRlbS50eXBlID09PSAndGV4dGFyZWEnKSB7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lXG4gICAgdmFsdWUgPSBpdGVtLnZhbHVlICsgJ1xcbicgKyB2YWx1ZTtcbiAgfVxuXG4gIGl0ZW0udmFsdWUgPSB2YWx1ZTtcbn1cblxuZnVuY3Rpb24gaW5zZXJ0X21hcmtlZF91c2Vycyhmb3JtSWQsIHVzZXJzKSB7XG4gICd1c2Ugc3RyaWN0JztcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IHVzZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgaWYgKHVzZXJzW2ldLmNoZWNrZWQpIHtcbiAgICAgIGluc2VydFVzZXIoZm9ybUlkLCB1c2Vyc1tpXS52YWx1ZSk7XG4gICAgfVxuICB9XG5cbiAgd2luZG93LmNsb3NlKCk7XG59XG5cbmZ1bmN0aW9uIGluc2VydF9zaW5nbGVfdXNlcihmb3JtSWQsIHVzZXIpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIGluc2VydFVzZXIoZm9ybUlkLCB1c2VyKTtcbiAgd2luZG93LmNsb3NlKCk7XG59XG5cbi8qKlxuICogUmVzaXplIHBvc3RlciBwcm9maWxlIGJsb2NrXG4gKi9cbmZ1bmN0aW9uIGFkanVzdFBvc3RlclByb2ZpbGUocG9zdGJvZHkpIHtcbiAgdmFyIHByb2ZpbGUgPSBwb3N0Ym9keS5wYXJlbnQoKS5wcmV2KCk7XG4gIHZhciBwb3N0ID0gcHJvZmlsZS5wYXJlbnQoKTtcbiAgdmFyIHJlc2l6ZWQgPSBwcm9maWxlLmhhc0NsYXNzKCdyZXNpemVkJyk7XG5cbiAgZnVuY3Rpb24gdW5yZXNpemUoKSB7XG4gICAgcHJvZmlsZS5yZW1vdmVDbGFzcygncmVzaXplZCcpLmNzcygnbWluLWhlaWdodCcsICcnKTtcbiAgfVxuXG4gIGlmIChwb3N0LndpZHRoKCkgPCAocHJvZmlsZS53aWR0aCgpICsgcG9zdGJvZHkud2lkdGgoKSkpIHtcbiAgICBpZiAocmVzaXplZCkge1xuICAgICAgdW5yZXNpemUoKTtcbiAgICB9XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgaWYgKHJlc2l6ZWQpIHtcbiAgICBwcm9maWxlLmNzcygnbWluLWhlaWdodCcsICcnKTtcbiAgfVxuICBwcm9maWxlLmNzcygnbWluLWhlaWdodCcsIE1hdGguZmxvb3IocG9zdGJvZHkuaGVpZ2h0KCkpICsgJ3B4JykuYWRkQ2xhc3MoJ3Jlc2l6ZWQnKTtcbn1cblxuLyoqXG4gKiBSZXNwb25zaXZlIG5hdmlnYXRpb25cbiAqL1xuZnVuY3Rpb24gY2hlY2tOYXZpZ2F0aW9uKGZvcmNlKSB7XG4gIGZ1bmN0aW9uIGluaXQobmF2KSB7XG4gICAgbmF2LnJlc3BvbnNpdmUgPSBmYWxzZTtcbiAgICBuYXYubGFzdFdpZHRoID0gMDtcbiAgICBuYXYuaXRlbUNvdW50ID0gMDtcblxuICAgIC8vIENvcHkgY2hpbGRyZW4gaXRlbXNcbiAgICBuYXYuY29udGVudHMgPSBuYXYubWVudS5maW5kKCcuZHJvcGRvd24tY29udGVudHM6Zmlyc3QnKTtcbiAgICBuYXYuY2FuVG9nZ2xlID0gJCgpO1xuICAgIG5hdi5ub1RvZ2dsZSA9ICQoKTtcbiAgICBuYXYuY29udGVudHMuY2hpbGRyZW4oJy5zZXBhcmF0b3I6bGFzdC1jaGlsZCcpLmhpZGUoKTtcbiAgICBuYXYuaXRlbXMgPSBuYXYubGlzdHMuY2hpbGRyZW4oKS5ub3QobmF2Lm1lbnUpLmVhY2goZnVuY3Rpb24gKGkpIHtcbiAgICAgIHZhciAkdGhpcyA9ICQodGhpcyk7XG4gICAgICB2YXIgY2xvbmVDbGFzcztcblxuICAgICAgaWYgKCR0aGlzLmlzKCcubm90LXJlc3BvbnNpdmUsIC5yZXNwb25zaXZlLW1lbnUsIC5kcm9wZG93bi1jb250YWluZXIsIC5zZWxlY3RlZCcpIHx8ICR0aGlzLmF0dHIoJ2RhdGEtc2tpcC1yZXNwb25zaXZlJykgPT09ICd0cnVlJykge1xuICAgICAgICAkdGhpcy5hdHRyKCdkYXRhLXJlc3BvbnNpdmUtaW5kZXgnLCAtMSk7XG4gICAgICAgIG5hdi5ub1RvZ2dsZSA9IG5hdi5ub1RvZ2dsZS5hZGQoJHRoaXMpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGNsb25lQ2xhc3MgPSAkdGhpcy5hdHRyKCdkYXRhLXJlc3BvbnNpdmUtY2xhc3MnKSB8fCAkdGhpcy5oYXNDbGFzcygnc21hbGwtaWNvbicpID8gJHRoaXMuYXR0cignY2xhc3MnKSA6ICcnXG4gICAgICAgICsgJyByZXNwb25zaXZlLWluZGV4LScgKyBpO1xuXG4gICAgICBuYXYuY29udGVudHMuYXBwZW5kKFxuICAgICAgICAkdGhpcy5jbG9uZSh0cnVlKS5hdHRyKCdjbGFzcycsIGNsb25lQ2xhc3MpLmFkZENsYXNzKCdyZXNwb25zaXZlLWNsb25lJykucmVtb3ZlQ2xhc3MoJ3RhYicpXG4gICAgICApO1xuXG4gICAgICAkdGhpcy5hZGRDbGFzcygncmVzcG9uc2l2ZS1jbG9uZWQtaXRlbScpLmF0dHIoJ2RhdGEtY2xvbmUtaW5kZXgnLCBpKTtcbiAgICAgIG5hdi5jYW5Ub2dnbGUgPSBuYXYuY2FuVG9nZ2xlLmFkZCgkdGhpcyk7XG4gICAgICBuYXYuaXRlbUNvdW50Kys7XG4gICAgfSk7XG4gICAgbmF2LmNvbnRlbnRzLmZpbmQoJ2EubmF2LWxpbmsnKS5yZW1vdmVDbGFzcygnbmF2LWxpbmsnKTtcbiAgICBuYXYucmVzcG9uc2l2ZUNsb25lcyA9IG5hdi5jb250ZW50cy5jaGlsZHJlbignLnJlc3BvbnNpdmUtY2xvbmUnKS5oaWRlKCk7XG5cbiAgICBuYXYuaW5pdGlhbGl6ZWQgPSB0cnVlO1xuICB9XG5cbiAgZnVuY3Rpb24gY2hlY2sobmF2LCBmb3JjZUNoZWNrKSB7XG4gICAgdmFyIGNvbnRhaW5lcldpZHRoO1xuICAgIHZhciB0b3RhbDtcbiAgICB2YXIgd2lkdGg7XG4gICAgdmFyIG1lbnVXaWR0aDtcbiAgICB2YXIgaGlkaW5nO1xuXG4gICAgLy8gU2V0dXAgbmF2aWdhdGlvblxuICAgIGlmICghbmF2LmluaXRpYWxpemVkKSB7XG4gICAgICBpbml0KG5hdik7XG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmVcbiAgICAgIGZvcmNlQ2hlY2sgPSB0cnVlO1xuICAgIH1cblxuICAgIGlmICghbmF2Lml0ZW1Db3VudCkge1xuICAgICAgLy8gTm90aGluZyB0byBoaWRlXG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gQ2hlY2sgd2lkdGhcbiAgICBjb250YWluZXJXaWR0aCA9IG5hdi5jb250YWluZXIud2lkdGgoKTtcbiAgICBpZiAoIWZvcmNlQ2hlY2sgJiYgY29udGFpbmVyV2lkdGggPT09IG5hdi5sYXN0V2lkdGgpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgbmF2Lmxhc3RXaWR0aCA9IGNvbnRhaW5lcldpZHRoO1xuXG4gICAgLy8gU2hvdyBhbGwgaXRlbXNcbiAgICBpZiAobmF2LnJlc3BvbnNpdmUpIHtcbiAgICAgIG5hdi5jYW5Ub2dnbGUuc2hvdygpO1xuICAgICAgbmF2LnJlc3BvbnNpdmVDbG9uZXMuaGlkZSgpO1xuICAgICAgbmF2Lm1lbnUucmVtb3ZlQ2xhc3MoJ3Nob3dpbmctcmVzcG9uc2l2ZS1tZW51Jyk7XG4gICAgICBpZiAoIW5hdi5hbHdheXNTaG93TWVudSkge1xuICAgICAgICBuYXYubWVudS5zaG93KCk7XG4gICAgICB9XG4gICAgfVxuICAgIG5hdi5yZXNwb25zaXZlID0gZmFsc2U7XG4gICAgbWVudVdpZHRoID0gbmF2Lm1lbnUub3V0ZXJXaWR0aCh0cnVlKTtcbiAgICB3aWR0aCA9IG1lbnVXaWR0aDtcblxuICAgIC8vIENvdW50IHdpZHRoIG9mIGFsbCBpdGVtcyB0aGF0IGNhbm5vdCBiZSBoaWRkZW5cbiAgICBuYXYubm9Ub2dnbGUuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgJHRoaXMgPSAkKHRoaXMpO1xuICAgICAgaWYgKCR0aGlzLmlzKCc6dmlzaWJsZScpKSB7XG4gICAgICAgIHdpZHRoICs9ICR0aGlzLm91dGVyV2lkdGgodHJ1ZSk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICAvLyBUZXN0IGFsbCBvdGhlciBpdGVtc1xuICAgIGhpZGluZyA9ICh3aWR0aCA+PSBjb250YWluZXJXaWR0aCk7XG4gICAgbmF2LmNhblRvZ2dsZS5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciAkdGhpcyA9ICQodGhpcyk7XG4gICAgICB2YXIgaXRlbVdpZHRoO1xuICAgICAgdmFyIG1hcmdpbjtcblxuICAgICAgaWYgKCEkdGhpcy5pcygnOnZpc2libGUnKSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGlmICghaGlkaW5nKSB7XG4gICAgICAgIGl0ZW1XaWR0aCA9ICR0aGlzLm91dGVyV2lkdGgodHJ1ZSk7XG4gICAgICAgIGlmICghaXRlbVdpZHRoKSB7XG4gICAgICAgICAgJHRoaXMuaGlkZSgpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHdpZHRoICs9IGl0ZW1XaWR0aDtcbiAgICAgICAgaWYgKHdpZHRoID49IGNvbnRhaW5lcldpZHRoKSB7XG4gICAgICAgICAgaGlkaW5nID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAoaGlkaW5nKSB7XG4gICAgICAgICR0aGlzLmhpZGUoKTtcbiAgICAgICAgbmF2LnJlc3BvbnNpdmVDbG9uZXMuZmlsdGVyKCcucmVzcG9uc2l2ZS1pbmRleC0nICsgJHRoaXMuYXR0cignZGF0YS1jbG9uZS1pbmRleCcpKS5zaG93KCk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBuYXYucmVzcG9uc2l2ZSA9IGhpZGluZztcbiAgICBpZiAoIWhpZGluZyAmJiAhbmF2LmFsd2F5c1Nob3dNZW51KSB7XG4gICAgICBuYXYubWVudS5oaWRlKCk7XG4gICAgfSBlbHNlIGlmIChoaWRpbmcpIHtcbiAgICAgIG5hdi5tZW51LmFkZENsYXNzKCdzaG93aW5nLXJlc3BvbnNpdmUtbWVudScpO1xuICAgIH1cbiAgfVxuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgc3R5bGVDb25maWcuX3Jlc3BvbnNpdmVOYXZpZ2F0aW9uLmxlbmd0aDsgaSsrKSB7XG4gICAgY2hlY2soc3R5bGVDb25maWcuX3Jlc3BvbnNpdmVOYXZpZ2F0aW9uW2ldLCBmb3JjZSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gaW5pdFJlc3BvbnNpdmVOYXZpZ2F0aW9uKCkge1xuICBzdHlsZUNvbmZpZy5fcmVzcG9uc2l2ZU5hdmlnYXRpb24gPSBbXTtcblxuICAkKCcubmF2LXRhYnMsIC5uYXZiYXIuc2Vjb25kYXJ5JykuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgdmFyICR0aGlzID0gJCh0aGlzKTtcbiAgICB2YXIgbGlzdHMgPSAkdGhpcy5jaGlsZHJlbigndWwnKTtcbiAgICB2YXIgbWVudSA9IGxpc3RzLmNoaWxkcmVuKCcucmVzcG9uc2l2ZS1tZW51OmZpcnN0Jyk7XG4gICAgdmFyIGFsd2F5c1Nob3dNZW51ID0gKG1lbnUubGVuZ3RoID4gMCk7XG5cbiAgICAvLyBDcmVhdGUgZW1wdHkgaGlkZGVuIG1lbnVcbiAgICBpZiAoIW1lbnUubGVuZ3RoKSB7XG4gICAgICBpZiAoJHRoaXMuaXMoJy5uYXYtdGFicycpKSB7XG4gICAgICAgIC8vIFNvbWV0aGluZyB3ZW50IHdyb25nIC0gbWFpbiBtZW51IG11c3QgaGF2ZSByZXNwb25zaXZlIG1lbnVcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgLy8gU2Vjb25kYXJ5IG1lbnVcbiAgICAgIGxpc3RzLmVxKDApLnByZXBlbmQoJzxsaSBjbGFzcz1cInJlc3BvbnNpdmUtbWVudSBkcm9wZG93bi1jb250YWluZXJcIiBzdHlsZT1cImRpc3BsYXk6IG5vbmU7XCI+PGEgaHJlZj1cIiNcIiBjbGFzcz1cImRyb3Bkb3duLXRyaWdnZXIgZHJvcGRvd24tdG9nZ2xlXCI+PGkgY2xhc3M9XCJtZGkgbWRpLW1lbnVcIiBhcmlhLWhpZGRlbj1cInRydWVcIj48L2E+JyArXG4gICAgICAgICc8ZGl2IGNsYXNzPVwiZHJvcGRvd24gaGlkZGVuXCI+JyArXG4gICAgICAgICc8ZGl2IGNsYXNzPVwicG9pbnRlclwiPjxkaXYgY2xhc3M9XCJwb2ludGVyLWlubmVyXCI+PC9kaXY+PC9kaXY+JyArXG4gICAgICAgICc8dWwgY2xhc3M9XCJkcm9wZG93bi1jb250ZW50c1wiIC8+PC91bD4nICtcbiAgICAgICAgJzwvZGl2PicgK1xuICAgICAgICAnPC9saT4nKTtcbiAgICAgIG1lbnUgPSBsaXN0cy5jaGlsZHJlbignLnJlc3BvbnNpdmUtbWVudTpmaXJzdCcpO1xuICAgICAgcGhwYmIucmVnaXN0ZXJEcm9wZG93bihtZW51LmZpbmQoJy5kcm9wZG93bi10b2dnbGUnKSwgbWVudS5maW5kKCcuZHJvcGRvd24nKSk7XG4gICAgfVxuXG4gICAgc3R5bGVDb25maWcuX3Jlc3BvbnNpdmVOYXZpZ2F0aW9uLnB1c2goe1xuICAgICAgY29udGFpbmVyOiAkdGhpcyxcbiAgICAgIGxpc3RzOiBsaXN0cyxcbiAgICAgIG1lbnU6IG1lbnUsXG4gICAgICBpbml0aWFsaXplZDogZmFsc2UsXG4gICAgICBhbHdheXNTaG93TWVudTogYWx3YXlzU2hvd01lbnVcbiAgICB9KTtcbiAgfSk7XG59XG5cbi8qKlxuICogUGFyc2UgZG9jdW1lbnQgYmxvY2tcbiAqL1xuZnVuY3Rpb24gcGFyc2VEb2N1bWVudCgkY29udGFpbmVyKSB7XG4gICd1c2Ugc3RyaWN0JztcblxuICB2YXIgdGVzdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICB2YXIgb2xkQnJvd3NlciA9ICh0eXBlb2YgdGVzdC5zdHlsZS5ib3JkZXJSYWRpdXMgPT09ICd1bmRlZmluZWQnKTtcbiAgdmFyICRib2R5ID0gJCgnYm9keScpO1xuXG4gIC8qKlxuICAgKiBBZGp1c3QgbmF2aWdhdGlvbiB0YWJzXG4gICAqL1xuICAkY29udGFpbmVyLmZpbmQoJy5uYXYtdGFicycpLmVhY2goZnVuY3Rpb24gKCkge1xuICAgIHZhciB0YWJzID0gJCh0aGlzKS5jaGlsZHJlbigpLmNoaWxkcmVuKCk7XG5cbiAgICAvLyBGaXggdGFicyBzdHJ1Y3R1cmVcbiAgICB0YWJzLm5vdCgnLnRhYicpLmVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIHRhYiA9ICQodGhpcyk7XG4gICAgICB2YXIgY2xhc3NOYW1lID0gdGFiLmF0dHIoJ2NsYXNzJykuc3BsaXQoJyAnKTtcbiAgICAgIHRhYi5hdHRyKCdjbGFzcycsICd0YWInKTtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY2xhc3NOYW1lLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmIChjbGFzc05hbWVbaV0uc3Vic3RyKDAsIDUpID09PSAnaWNvbi0nKSB7XG4gICAgICAgICAgdGFiLmFkZENsYXNzKGNsYXNzTmFtZVtpXS5zdWJzdHIoNSkpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSkuY2hpbGRyZW4oJzpmaXJzdC1jaGlsZCcpLmFkZENsYXNzKCduYXYtbGluaycpO1xuXG4gICAgLy8gVG9vbHRpcHMgZm9yIHRhYnNcbiAgICB0YWJzLmVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgdmFyICR0aGlzID0gJCh0aGlzKTtcbiAgICAgIHZhciB0aXRsZSA9ICcnO1xuICAgICAgaWYgKCEkdGhpcy5hdHRyKCd0aXRsZScpKSB7XG4gICAgICAgIHRpdGxlID0gJHRoaXMuY2hpbGRyZW4oJy5uYXYtbGluaycpLnRleHQoKS50cmltKCk7XG4gICAgICAgIGlmICghdGl0bGUubGVuZ3RoKSByZXR1cm47XG5cbiAgICAgICAgJHRoaXMuY2hpbGRyZW4oJy5uYXYtbGluayArIHN0cm9uZycpLmVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHRpdGxlICs9ICcgKCcgKyAkKHRoaXMpLnRleHQoKS50cmltKCkgKyAnKSc7XG4gICAgICAgIH0pO1xuICAgICAgICAkdGhpcy5hdHRyKCd0aXRsZScsIHRpdGxlKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfSk7XG5cbiAgLyoqXG4gICAqIFN3aXRjaCBzZWxlY3RlZCB0YWJcbiAgICovXG4gICRjb250YWluZXIuZmluZCgnLm5hdi10YWJzW2RhdGEtY3VycmVudC1wYWdlXScpLmVhY2goZnVuY3Rpb24gKCkge1xuICAgIHZhciB0YWJzID0gJCh0aGlzKTtcbiAgICB2YXIgY3VycmVudCA9IHRhYnMuYXR0cignZGF0YS1jdXJyZW50LXBhZ2UnKTtcbiAgICB2YXIgZm91bmQgPSBmYWxzZTtcbiAgICB2YXIgY29udGVudDtcbiAgICB2YXIgY2xhc3NlcztcbiAgICB2YXIgaTtcbiAgICB2YXIga2V5O1xuXG4gICAgJCgnLnRhYltkYXRhLXNlbGVjdC1tYXRjaF0nLCB0aGlzKS5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBtYXRjaGVzID0gJCh0aGlzKS5hdHRyKCdkYXRhLXNlbGVjdC1tYXRjaCcpLnNwbGl0KCcsJyk7XG4gICAgICB2YXIgbWF0Y2g7XG4gICAgICB2YXIgaXRlbTtcblxuICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBtYXRjaGVzLmxlbmd0aDsgaisrKSB7XG4gICAgICAgIG1hdGNoID0gbWF0Y2hlc1tqXS50cmltKCk7XG4gICAgICAgIGlmIChjdXJyZW50LmluZGV4T2YobWF0Y2gpICE9PSAtMSkge1xuICAgICAgICAgIC8vIEZvdW5kIGEgbWF0Y2ghXG4gICAgICAgICAgaXRlbSA9ICQodGhpcyk7XG4gICAgICAgICAgaWYgKCFpdGVtLmhhc0NsYXNzKCdzZWxlY3RlZCcpKSB7XG4gICAgICAgICAgICB0YWJzLmZpbmQoJy50YWIuc2VsZWN0ZWQnKS5yZW1vdmVDbGFzcygnc2VsZWN0ZWQnKTtcbiAgICAgICAgICAgIGl0ZW0uYWRkQ2xhc3MoJ3NlbGVjdGVkJyk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGZvdW5kID0gdHJ1ZTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcblxuICAgIC8vIENoZWNrIGZvciBrbm93biBleHRlbnNpb25zXG4gICAgaWYgKGZvdW5kKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29udGVudCA9ICRjb250YWluZXIuZmluZCgnLmNvbnRlbnQucGFnZXMtY29udGVudCcpO1xuICAgIGlmIChjb250ZW50Lmxlbmd0aCkge1xuICAgICAgLy8gR2V0IHBhZ2UgY29udGVudCBjbGFzcywgdHJ5IHRvIGZpbmQgbWF0Y2hpbmcgbGlua1xuICAgICAgY2xhc3NlcyA9IGNvbnRlbnQucHJvcCgnY2xhc3MnKS5zcGxpdCgnICcpO1xuICAgICAgZm9yIChpID0gMDsgaSA8IGNsYXNzZXMubGVuZ3RoICYmICFmb3VuZDsgaSsrKSB7XG4gICAgICAgIGtleSA9IGNsYXNzZXNbaV0udHJpbSgpO1xuICAgICAgICBpZiAoa2V5ICE9PSAnY29udGVudCcgJiYga2V5ICE9PSAncGFnZXMtY29udGVudCcpIHtcbiAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmVcbiAgICAgICAgICAkY29udGFpbmVyLmZpbmQoJy50YWIucGFnZXMuJyArIGtleSkuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB0YWJzLmZpbmQoJy50YWIuc2VsZWN0ZWQnKS5yZW1vdmVDbGFzcygnc2VsZWN0ZWQnKTtcbiAgICAgICAgICAgICQodGhpcykuYWRkQ2xhc3MoJ3NlbGVjdGVkJyk7XG4gICAgICAgICAgICBmb3VuZCA9IHRydWU7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChmb3VuZCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIC8vIEdldCBmaXJzdCBwYWdlIGxpbmtcbiAgICAgICRjb250YWluZXIuZmluZCgnLnRhYi5wYWdlczpmaXJzdCcpLmVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgICB0YWJzLmZpbmQoJy50YWIuc2VsZWN0ZWQnKS5yZW1vdmVDbGFzcygnc2VsZWN0ZWQnKTtcbiAgICAgICAgJCh0aGlzKS5hZGRDbGFzcygnc2VsZWN0ZWQnKTtcbiAgICAgICAgZm91bmQgPSB0cnVlO1xuICAgICAgfSk7XG4gICAgfVxuICB9KTtcblxuICAvKipcbiAgICogUmVzZXQgYXZhdGFyIGRpbWVuc2lvbnMgd2hlbiBjaGFuZ2luZyBVUkwgb3IgRU1BSUxcbiAgICovXG4gICRjb250YWluZXIuZmluZCgnaW5wdXRbZGF0YS1yZXNldC1vbi1lZGl0XScpLm9uKCdrZXl1cCcsIGZ1bmN0aW9uICgpIHtcbiAgICAkKHRoaXMuZ2V0QXR0cmlidXRlKCdkYXRhLXJlc2V0LW9uLWVkaXQnKSkudmFsKCcnKTtcbiAgfSk7XG5cbiAgLyoqXG4gICAqIFBhZ2luYXRpb25cbiAgICovXG4gICRjb250YWluZXIuZmluZCgnLnBhZ2luYXRpb24gLnBhZ2UtanVtcC1mb3JtIDpidXR0b24nKS5jbGljayhmdW5jdGlvbiAoKSB7XG4gICAgdmFyICRpbnB1dCA9ICQodGhpcykuc2libGluZ3MoJ2lucHV0LmlucHV0Ym94Jyk7XG4gICAgcGFnZUp1bXAoJGlucHV0KTtcbiAgfSk7XG5cbiAgJGNvbnRhaW5lci5maW5kKCcucGFnaW5hdGlvbiAucGFnZS1qdW1wLWZvcm0gaW5wdXQuaW5wdXRib3gnKS5vbigna2V5cHJlc3MnLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICBpZiAoZXZlbnQud2hpY2ggPT09IDEzIHx8IGV2ZW50LmtleUNvZGUgPT09IDEzKSB7XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgcGFnZUp1bXAoJCh0aGlzKSk7XG4gICAgfVxuICB9KTtcblxuICAkY29udGFpbmVyLmZpbmQoJy5wYWdpbmF0aW9uIC5kcm9wZG93bi10cmlnZ2VyJykuY2xpY2soZnVuY3Rpb24gKCkge1xuICAgIHZhciAkZHJvcGRvd25Db250YWluZXIgPSAkKHRoaXMpLnBhcmVudCgpO1xuICAgIC8vIFdhaXQgYSBsaXR0bGUgYml0IHRvIG1ha2Ugc3VyZSB0aGUgZHJvcGRvd24gaGFzIGFjdGl2YXRlZFxuICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKCRkcm9wZG93bkNvbnRhaW5lci5oYXNDbGFzcygnZHJvcGRvd24tdmlzaWJsZScpKSB7XG4gICAgICAgICRkcm9wZG93bkNvbnRhaW5lci5maW5kKCdpbnB1dC5pbnB1dGJveCcpLmZvY3VzKCk7XG4gICAgICB9XG4gICAgfSwgMTAwKTtcbiAgfSk7XG5cbiAgLyoqXG4gICAqIEFkanVzdCBIVE1MIGNvZGUgZm9yIElFOCBhbmQgb2xkZXIgdmVyc2lvbnNcbiAgICovXG4gIC8vIGlmIChvbGRCcm93c2VyKSB7XG4gIC8vIFx0Ly8gRml4IC5saW5rbGlzdC5idWxsZXRpbiBsaXN0c1xuICAvLyBcdCRjb250YWluZXJcbiAgLy8gXHRcdC5maW5kKCd1bC5saW5rbGlzdC5idWxsZXRpbiA+IGxpJylcbiAgLy8gXHRcdC5maWx0ZXIoJzpmaXJzdC1jaGlsZCwgLnJpZ2h0c2lkZTpsYXN0LWNoaWxkJylcbiAgLy8gXHRcdC5hZGRDbGFzcygnbm8tYnVsbGV0aW4nKTtcbiAgLy8gfVxuXG4gIC8qKlxuICAgKiBSZXNpemUgbmF2aWdhdGlvbiAoYnJlYWRjcnVtYnMpIGJsb2NrIHRvIGtlZXAgYWxsIGxpbmtzIG9uIHNhbWUgbGluZVxuICAgKi9cbiAgJGNvbnRhaW5lci5maW5kKCcubmF2bGlua3MnKS5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgJHRoaXMgPSAkKHRoaXMpO1xuICAgIHZhciAkbGVmdCA9ICR0aGlzLmNoaWxkcmVuKCkubm90KCcucmlnaHRzaWRlJyk7XG4gICAgdmFyICRyaWdodCA9ICR0aGlzLmNoaWxkcmVuKCcucmlnaHRzaWRlJyk7XG4gICAgdmFyIHF1ZXVlZCA9IGZhbHNlO1xuICAgIHZhciB0aHJvdHRsZWQgPSBmYWxzZTtcblxuICAgIGlmICgkbGVmdC5sZW5ndGggIT09IDEgfHwgISRyaWdodC5sZW5ndGgpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiByZXNpemUoKSB7XG4gICAgICB2YXIgd2lkdGggPSAwO1xuICAgICAgdmFyIGRpZmYgPSAkbGVmdC5vdXRlcldpZHRoKHRydWUpIC0gJGxlZnQud2lkdGgoKTtcbiAgICAgIHZhciBtaW5XaWR0aCA9IE1hdGgubWF4KCR0aGlzLndpZHRoKCkgLyAzLCAyNDApO1xuICAgICAgdmFyIG1heFdpZHRoO1xuXG4gICAgICB0aHJvdHRsZWQgPSBmYWxzZTtcbiAgICAgICRyaWdodC5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKCQodGhpcykuaXMoJzp2aXNpYmxlJykpIHtcbiAgICAgICAgICB3aWR0aCArPSAkKHRoaXMpLm91dGVyV2lkdGgodHJ1ZSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICBtYXhXaWR0aCA9ICR0aGlzLndpZHRoKCkgLSB3aWR0aCAtIGRpZmY7XG4gICAgICAkbGVmdC5jc3MoJ21heC13aWR0aCcsIE1hdGguZmxvb3IoTWF0aC5tYXgobWF4V2lkdGgsIG1pbldpZHRoKSkgKyAncHgnKTtcbiAgICB9XG5cbiAgICByZXNpemUoKTtcbiAgICAkKHdpbmRvdykucmVzaXplKGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmICh0aHJvdHRsZWQpIHtcbiAgICAgICAgcXVldWVkID0gdHJ1ZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJlc2l6ZSgpO1xuICAgICAgICB0aHJvdHRsZWQgPSB0cnVlO1xuICAgICAgICBxdWV1ZWQgPSBmYWxzZTtcbiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgdGhyb3R0bGVkID0gZmFsc2U7XG4gICAgICAgICAgaWYgKHF1ZXVlZCkge1xuICAgICAgICAgICAgcmVzaXplKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9LCAyNTApO1xuICAgICAgfVxuICAgIH0pO1xuICB9KTtcblxuICAvKipcbiAgICogTWFrZXMgYnJlYWRjcnVtYnMgcmVzcG9uc2l2ZVxuICAgKi9cbiAgJGNvbnRhaW5lci5maW5kKCcuYnJlYWRjcnVtYnM6bm90KFtkYXRhLXNraXAtcmVzcG9uc2l2ZV0pJykuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgdmFyICR0aGlzID0gJCh0aGlzKTtcbiAgICB2YXIgJGxpbmtzID0gJHRoaXMuZmluZCgnLmNydW1iJyk7XG4gICAgdmFyIGxlbmd0aCA9ICRsaW5rcy5sZW5ndGg7XG4gICAgdmFyIGNsYXNzZXMgPSBbJ3dyYXBwZWQtbWF4JywgJ3dyYXBwZWQtd2lkZScsICd3cmFwcGVkLW1lZGl1bScsICd3cmFwcGVkLXNtYWxsJywgJ3dyYXBwZWQtdGlueSddO1xuICAgIHZhciBjbGFzc2VzTGVuZ3RoID0gY2xhc3Nlcy5sZW5ndGg7XG4gICAgdmFyIG1heEhlaWdodCA9IDA7XG4gICAgdmFyIGxhc3RXaWR0aCA9IGZhbHNlO1xuICAgIHZhciB3cmFwcGVkID0gZmFsc2U7XG4gICAgdmFyIHF1ZXVlZCA9IGZhbHNlO1xuICAgIHZhciB0aHJvdHRsZWQgPSBmYWxzZTtcblxuICAgIC8vIFNldCB0b29sdGlwc1xuICAgICR0aGlzLmZpbmQoJ2EnKS5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciAkbGluayA9ICQodGhpcyk7XG4gICAgICAkbGluay5hdHRyKCd0aXRsZScsICRsaW5rLnRleHQoKSk7XG4gICAgfSk7XG5cbiAgICAvLyBGdW5jdGlvbiB0aGF0IGNoZWNrcyBicmVhZGNydW1ic1xuICAgIGZ1bmN0aW9uIGNoZWNrKCkge1xuICAgICAgdmFyIGhlaWdodCA9ICR0aGlzLmhlaWdodCgpO1xuICAgICAgdmFyIHdpZHRoO1xuXG4gICAgICAvLyBUZXN0IG1heC13aWR0aCBzZXQgaW4gY29kZSBmb3IgLm5hdmxpbmtzIGFib3ZlXG4gICAgICB3aWR0aCA9IHBhcnNlSW50KCR0aGlzLmNzcygnbWF4LXdpZHRoJyksIDEwKTtcbiAgICAgIGlmICghd2lkdGgpIHtcbiAgICAgICAgd2lkdGggPSAkYm9keS53aWR0aCgpO1xuICAgICAgfVxuXG4gICAgICB0aHJvdHRsZWQgPSBmYWxzZTtcbiAgICAgIG1heEhlaWdodCA9IHBhcnNlSW50KCR0aGlzLmNzcygnbGluZS1oZWlnaHQnKSwgMTApO1xuICAgICAgJGxpbmtzLmVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoJCh0aGlzKS5oZWlnaHQoKSA+IDApIHtcbiAgICAgICAgICBtYXhIZWlnaHQgPSBNYXRoLm1heChtYXhIZWlnaHQsICQodGhpcykub3V0ZXJIZWlnaHQodHJ1ZSkpO1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgaWYgKGhlaWdodCA8PSBtYXhIZWlnaHQpIHtcbiAgICAgICAgaWYgKCF3cmFwcGVkIHx8IGxhc3RXaWR0aCA9PT0gZmFsc2UgfHwgbGFzdFdpZHRoID49IHdpZHRoKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBsYXN0V2lkdGggPSB3aWR0aDtcblxuICAgICAgaWYgKHdyYXBwZWQpIHtcbiAgICAgICAgJHRoaXMucmVtb3ZlQ2xhc3MoJ3dyYXBwZWQnKS5maW5kKCcuY3J1bWIud3JhcHBlZCcpLnJlbW92ZUNsYXNzKCd3cmFwcGVkICcgKyBjbGFzc2VzLmpvaW4oJyAnKSk7XG4gICAgICAgIGlmICgkdGhpcy5oZWlnaHQoKSA8PSBtYXhIZWlnaHQpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgd3JhcHBlZCA9IHRydWU7XG4gICAgICAkdGhpcy5hZGRDbGFzcygnd3JhcHBlZCcpO1xuICAgICAgaWYgKCR0aGlzLmhlaWdodCgpIDw9IG1heEhlaWdodCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY2xhc3Nlc0xlbmd0aDsgaSsrKSB7XG4gICAgICAgIGZvciAodmFyIGogPSBsZW5ndGggLSAxOyBqID49IDA7IGotLSkge1xuICAgICAgICAgICRsaW5rcy5lcShqKS5hZGRDbGFzcygnd3JhcHBlZCAnICsgY2xhc3Nlc1tpXSk7XG4gICAgICAgICAgaWYgKCR0aGlzLmhlaWdodCgpIDw9IG1heEhlaWdodCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIC8vIFJ1biBmdW5jdGlvbiBhbmQgc2V0IGV2ZW50XG4gICAgY2hlY2soKTtcbiAgICAkKHdpbmRvdykucmVzaXplKGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmICh0aHJvdHRsZWQpIHtcbiAgICAgICAgcXVldWVkID0gdHJ1ZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNoZWNrKCk7XG4gICAgICAgIHRocm90dGxlZCA9IHRydWU7XG4gICAgICAgIHF1ZXVlZCA9IGZhbHNlO1xuICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICB0aHJvdHRsZWQgPSBmYWxzZTtcbiAgICAgICAgICBpZiAocXVldWVkKSB7XG4gICAgICAgICAgICBjaGVjaygpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSwgMjUwKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfSk7XG5cbiAgLyoqXG4gICAqIFJlc3BvbnNpdmUgbGluayBsaXN0c1xuICAgKi9cbiAgdmFyIHNlbGVjdG9yID0gJy5saW5rbGlzdDpub3QoLm5hdmxpbmtzLCBbZGF0YS1za2lwLXJlc3BvbnNpdmVdKSwnICtcbiAgICAnLnBvc3Rib2R5IC5wb3N0LWJ1dHRvbnM6bm90KFtkYXRhLXNraXAtcmVzcG9uc2l2ZV0pJztcbiAgJGNvbnRhaW5lci5maW5kKHNlbGVjdG9yKS5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgJHRoaXMgPSAkKHRoaXMpO1xuICAgIHZhciBmaWx0ZXJTa2lwID0gJy5icmVhZGNydW1icywgW2RhdGEtc2tpcC1yZXNwb25zaXZlXSc7XG4gICAgdmFyIGZpbHRlckxhc3QgPSAnLmVkaXQtaWNvbiwgLnF1b3RlLWljb24sIFtkYXRhLWxhc3QtcmVzcG9uc2l2ZV0nO1xuICAgIHZhciAkbGlua3NBbGwgPSAkdGhpcy5jaGlsZHJlbigpO1xuICAgIHZhciAkbGlua3NOb3RTa2lwID0gJGxpbmtzQWxsLm5vdChmaWx0ZXJTa2lwKTsgLy8gQWxsIGl0ZW1zIHRoYXQgY2FuIHBvdGVudGlhbGx5IGJlIGhpZGRlblxuICAgIHZhciAkbGlua3NGaXJzdCA9ICRsaW5rc05vdFNraXAubm90KGZpbHRlckxhc3QpOyAvLyBUaGUgaXRlbXMgdGhhdCB3aWxsIGJlIGhpZGRlbiBmaXJzdFxuICAgIHZhciAkbGlua3NMYXN0ID0gJGxpbmtzTm90U2tpcC5maWx0ZXIoZmlsdGVyTGFzdCk7IC8vIFRoZSBpdGVtcyB0aGF0IHdpbGwgYmUgaGlkZGVuIGxhc3RcbiAgICB2YXIgcGVyc2lzdGVudCA9ICR0aGlzLmF0dHIoJ2lkJykgPT09ICduYXYtbWFpbic7IC8vIERvZXMgdGhpcyBsaXN0IGFscmVhZHkgaGF2ZSBhIG1lbnUgKHN1Y2ggYXMgcXVpY2stbGlua3MpP1xuICAgIHZhciBodG1sID0gJzxsaSBjbGFzcz1cInJlc3BvbnNpdmUtbWVudSBoaWRkZW5cIj48YSBocmVmPVwiamF2YXNjcmlwdDp2b2lkKDApO1wiIGNsYXNzPVwicmVzcG9uc2l2ZS1tZW51LWxpbmtcIj48L2E+PGRpdiBjbGFzcz1cImRyb3Bkb3duIGhpZGRlblwiPjxkaXYgY2xhc3M9XCJwb2ludGVyXCI+PGRpdiBjbGFzcz1cInBvaW50ZXItaW5uZXJcIiAvPjwvZGl2Pjx1bCBjbGFzcz1cImRyb3Bkb3duLWNvbnRlbnRzXCIgLz48L2Rpdj48L2xpPic7XG4gICAgdmFyIHNsYWNrID0gMzsgLy8gVmVydGljYWwgc2xhY2sgc3BhY2UgKGluIHBpeGVscykuIERldGVybWluZXMgaG93IHNlbnNpdGl2ZSB0aGUgc2NyaXB0IGlzIGluIGRldGVybWluaW5nIHdoZXRoZXIgYSBsaW5lLWJyZWFrIGhhcyBvY2N1cmVkLlxuXG4gICAgLy8gQWRkIGEgaGlkZGVuIGRyb3AtZG93biBtZW51IHRvIGVhY2ggbGlua3MgbGlzdCAoZXhjZXB0IHRob3NlIHRoYXQgYWxyZWFkeSBoYXZlIG9uZSlcbiAgICBpZiAoIXBlcnNpc3RlbnQpIHtcbiAgICAgIGlmICgkbGlua3NOb3RTa2lwLmlzKCcucmlnaHRzaWRlJykpIHtcbiAgICAgICAgJGxpbmtzTm90U2tpcC5maWx0ZXIoJy5yaWdodHNpZGU6Zmlyc3QnKS5iZWZvcmUoaHRtbCk7XG4gICAgICAgICR0aGlzLmNoaWxkcmVuKCcucmVzcG9uc2l2ZS1tZW51JykuYWRkQ2xhc3MoJ3JpZ2h0c2lkZScpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgJHRoaXMuYXBwZW5kKGh0bWwpO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIFNldCBzb21lIG9iamVjdCByZWZlcmVuY2VzIGFuZCBpbml0aWFsIHN0YXRlc1xuICAgIHZhciAkbWVudSA9ICR0aGlzLmNoaWxkcmVuKCcucmVzcG9uc2l2ZS1tZW51Jyk7XG4gICAgdmFyICRtZW51Q29udGVudHMgPSAkbWVudS5maW5kKCcuZHJvcGRvd24tY29udGVudHMnKTtcbiAgICB2YXIgcGVyc2lzdGVudENvbnRlbnQgPSAkbWVudUNvbnRlbnRzLmZpbmQoJ2xpOm5vdCguc2VwYXJhdG9yKScpLmxlbmd0aDtcbiAgICB2YXIgbGFzdFdpZHRoID0gZmFsc2U7XG4gICAgdmFyIGNvbXBhY3QgPSBmYWxzZTtcbiAgICB2YXIgcmVzcG9uc2l2ZTEgPSBmYWxzZTtcbiAgICB2YXIgcmVzcG9uc2l2ZTIgPSBmYWxzZTtcbiAgICB2YXIgY29waWVkMSA9IGZhbHNlO1xuICAgIHZhciBjb3BpZWQyID0gZmFsc2U7XG4gICAgdmFyIG1heEhlaWdodCA9IDA7XG5cbiAgICAvLyBGaW5kIHRoZSB0YWxsZXN0IGVsZW1lbnQgaW4gdGhlIGxpc3QgKHdlIGFzc3VtZSB0aGF0IGFsbCBlbGVtZW50cyBhcmUgcm91Z2hseSB0aGUgc2FtZSBoZWlnaHQpXG4gICAgJGxpbmtzQWxsLmVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKCEkKHRoaXMpLmhlaWdodCgpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIG1heEhlaWdodCA9IE1hdGgubWF4KG1heEhlaWdodCwgJCh0aGlzKS5vdXRlckhlaWdodCh0cnVlKSk7XG4gICAgfSk7XG4gICAgaWYgKG1heEhlaWdodCA8IDEpIHtcbiAgICAgIHJldHVybjsgLy8gU2hvdWxkbid0IGJlIHBvc3NpYmxlLCBidXQganVzdCBpbiBjYXNlLCBhYm9ydFxuICAgIH1cbiAgICBtYXhIZWlnaHQgPSBtYXhIZWlnaHQgKyBzbGFjaztcblxuXG4gICAgZnVuY3Rpb24gY2hlY2soKSB7XG4gICAgICB2YXIgd2lkdGggPSAkYm9keS53aWR0aCgpO1xuICAgICAgLy8gV2UgY2FuJ3QgbWFrZSBpdCBhbnkgc21hbGxlciB0aGFuIHRoaXMsIHNvIGp1c3Qgc2tpcFxuICAgICAgaWYgKHJlc3BvbnNpdmUyICYmIGNvbXBhY3QgJiYgKHdpZHRoIDw9IGxhc3RXaWR0aCkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgbGFzdFdpZHRoID0gd2lkdGg7XG5cbiAgICAgIC8vIFJlc2V0IHJlc3BvbnNpdmUgYW5kIGNvbXBhY3QgbGF5b3V0XG4gICAgICBpZiAocmVzcG9uc2l2ZTEgfHwgcmVzcG9uc2l2ZTIpIHtcbiAgICAgICAgJGxpbmtzTm90U2tpcC5yZW1vdmVDbGFzcygnaGlkZGVuJyk7XG4gICAgICAgICRtZW51Q29udGVudHMuY2hpbGRyZW4oJy5jbG9uZScpLmFkZENsYXNzKCdoaWRkZW4nKTtcbiAgICAgICAgcmVzcG9uc2l2ZTEgPSByZXNwb25zaXZlMiA9IGZhbHNlO1xuICAgICAgfVxuICAgICAgaWYgKGNvbXBhY3QpIHtcbiAgICAgICAgJHRoaXMucmVtb3ZlQ2xhc3MoJ2NvbXBhY3QnKTtcbiAgICAgICAgY29tcGFjdCA9IGZhbHNlO1xuICAgICAgfVxuXG4gICAgICAvLyBVbmhpZGUgdGhlIHF1aWNrLWxpbmtzIG1lbnUgaWYgaXQgaGFzIFwicGVyc2lzdGVudFwiIGNvbnRlbnRcbiAgICAgIGlmIChwZXJzaXN0ZW50ICYmIHBlcnNpc3RlbnRDb250ZW50KSB7XG4gICAgICAgICRtZW51LnJlbW92ZUNsYXNzKCdoaWRkZW4nKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgICRtZW51LmFkZENsYXNzKCdoaWRkZW4nKTtcbiAgICAgIH1cblxuICAgICAgLy8gTm90aGluZyB0byByZXNpemUgaWYgYmxvY2sncyBoZWlnaHQgaXMgbm90IGJpZ2dlciB0aGFuIHRhbGxlc3QgZWxlbWVudCdzIGhlaWdodFxuICAgICAgaWYgKCR0aGlzLmhlaWdodCgpIDw9IG1heEhlaWdodCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIC8vIFNURVAgMTogQ29tcGFjdFxuICAgICAgaWYgKCFjb21wYWN0KSB7XG4gICAgICAgICR0aGlzLmFkZENsYXNzKCdjb21wYWN0Jyk7XG4gICAgICAgIGNvbXBhY3QgPSB0cnVlO1xuICAgICAgfVxuICAgICAgaWYgKCR0aGlzLmhlaWdodCgpIDw9IG1heEhlaWdodCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIC8vIFNURVAgMjogRmlyc3QgcmVzcG9uc2l2ZSBzZXQgLSBjb21wYWN0XG4gICAgICBpZiAoY29tcGFjdCkge1xuICAgICAgICAkdGhpcy5yZW1vdmVDbGFzcygnY29tcGFjdCcpO1xuICAgICAgICBjb21wYWN0ID0gZmFsc2U7XG4gICAgICB9XG4gICAgICAvLyBDb3B5IHRoZSBsaXN0IGl0ZW1zIHRvIHRoZSBkcm9wZG93blxuICAgICAgaWYgKCFjb3BpZWQxKSB7XG4gICAgICAgIHZhciAkY2xvbmVzMSA9ICRsaW5rc0ZpcnN0LmNsb25lKCk7XG4gICAgICAgICRtZW51Q29udGVudHMucHJlcGVuZCgkY2xvbmVzMS5hZGRDbGFzcygnY2xvbmUgY2xvbmUtZmlyc3QnKS5yZW1vdmVDbGFzcygnbGVmdHNpZGUgcmlnaHRzaWRlJykpO1xuXG4gICAgICAgIGlmICgkdGhpcy5oYXNDbGFzcygncG9zdC1idXR0b25zJykpIHtcbiAgICAgICAgICAkKCcuYnV0dG9uJywgJG1lbnVDb250ZW50cykucmVtb3ZlQ2xhc3MoJ2J1dHRvbiBpY29uLWJ1dHRvbicpO1xuICAgICAgICAgICQoJy5yZXNwb25zaXZlLW1lbnUtbGluaycsICRtZW51KS5hZGRDbGFzcygnYnV0dG9uIGljb24tYnV0dG9uJykucHJlcGVuZCgnPHNwYW4+PC9zcGFuPicpO1xuICAgICAgICB9XG4gICAgICAgIGNvcGllZDEgPSB0cnVlO1xuICAgICAgfVxuICAgICAgaWYgKCFyZXNwb25zaXZlMSkge1xuICAgICAgICAkbGlua3NGaXJzdC5hZGRDbGFzcygnaGlkZGVuJyk7XG4gICAgICAgIHJlc3BvbnNpdmUxID0gdHJ1ZTtcbiAgICAgICAgJG1lbnVDb250ZW50cy5jaGlsZHJlbignLmNsb25lLWZpcnN0JykucmVtb3ZlQ2xhc3MoJ2hpZGRlbicpO1xuICAgICAgICAkbWVudS5yZW1vdmVDbGFzcygnaGlkZGVuJyk7XG4gICAgICB9XG4gICAgICBpZiAoJHRoaXMuaGVpZ2h0KCkgPD0gbWF4SGVpZ2h0KSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgLy8gU1RFUCAzOiBGaXJzdCByZXNwb25zaXZlIHNldCArIGNvbXBhY3RcbiAgICAgIGlmICghY29tcGFjdCkge1xuICAgICAgICAkdGhpcy5hZGRDbGFzcygnY29tcGFjdCcpO1xuICAgICAgICBjb21wYWN0ID0gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIGlmICgkdGhpcy5oZWlnaHQoKSA8PSBtYXhIZWlnaHQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICAvLyBTVEVQIDQ6IExhc3QgcmVzcG9uc2l2ZSBzZXQgLSBjb21wYWN0XG4gICAgICBpZiAoISRsaW5rc0xhc3QubGVuZ3RoKSB7XG4gICAgICAgIHJldHVybjsgLy8gTm8gb3RoZXIgbGlua3MgdG8gaGlkZSwgY2FuJ3QgZG8gbW9yZVxuICAgICAgfVxuICAgICAgaWYgKGNvbXBhY3QpIHtcbiAgICAgICAgJHRoaXMucmVtb3ZlQ2xhc3MoJ2NvbXBhY3QnKTtcbiAgICAgICAgY29tcGFjdCA9IGZhbHNlO1xuICAgICAgfVxuICAgICAgLy8gQ29weSB0aGUgbGlzdCBpdGVtcyB0byB0aGUgZHJvcGRvd25cbiAgICAgIGlmICghY29waWVkMikge1xuICAgICAgICB2YXIgJGNsb25lczIgPSAkbGlua3NMYXN0LmNsb25lKCk7XG4gICAgICAgICRtZW51Q29udGVudHMucHJlcGVuZCgkY2xvbmVzMi5hZGRDbGFzcygnY2xvbmUgY2xvbmUtbGFzdCcpLnJlbW92ZUNsYXNzKCdsZWZ0c2lkZSByaWdodHNpZGUnKSk7XG4gICAgICAgIGNvcGllZDIgPSB0cnVlO1xuICAgICAgfVxuICAgICAgaWYgKCFyZXNwb25zaXZlMikge1xuICAgICAgICAkbGlua3NMYXN0LmFkZENsYXNzKCdoaWRkZW4nKTtcbiAgICAgICAgcmVzcG9uc2l2ZTIgPSB0cnVlO1xuICAgICAgICAkbWVudUNvbnRlbnRzLmNoaWxkcmVuKCcuY2xvbmUtbGFzdCcpLnJlbW92ZUNsYXNzKCdoaWRkZW4nKTtcbiAgICAgIH1cbiAgICAgIGlmICgkdGhpcy5oZWlnaHQoKSA8PSBtYXhIZWlnaHQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICAvLyBTVEVQIDU6IExhc3QgcmVzcG9uc2l2ZSBzZXQgKyBjb21wYWN0XG4gICAgICBpZiAoIWNvbXBhY3QpIHtcbiAgICAgICAgJHRoaXMuYWRkQ2xhc3MoJ2NvbXBhY3QnKTtcbiAgICAgICAgY29tcGFjdCA9IHRydWU7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKCFwZXJzaXN0ZW50KSB7XG4gICAgICBwaHBiYi5yZWdpc3RlckRyb3Bkb3duKCRtZW51LmZpbmQoJ2EucmVzcG9uc2l2ZS1tZW51LWxpbmsnKSwgJG1lbnUuZmluZCgnLmRyb3Bkb3duJyksIGZhbHNlKTtcbiAgICB9XG5cbiAgICAvLyBJZiB0aGVyZSBhcmUgYW55IGltYWdlcyBpbiB0aGUgbGlua3MgbGlzdCwgcnVuIHRoZSBjaGVjayBhZ2FpbiBhZnRlciB0aGV5IGhhdmUgbG9hZGVkXG4gICAgJGxpbmtzQWxsLmZpbmQoJ2ltZycpLmVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgJCh0aGlzKS5sb2FkKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgY2hlY2soKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgY2hlY2soKTtcbiAgICAkKHdpbmRvdykucmVzaXplKGNoZWNrKTtcbiAgfSk7XG5cbiAgLyoqXG4gICAqIEZpeCBjb250YWluZXIgZm9yIG1lc3NhZ2VzXG4gICAqL1xuICAkY29udGFpbmVyLmZpbmQoJy5wb3N0Ym9keScpLmVhY2goZnVuY3Rpb24gKCkge1xuICAgIHZhciAkdGhpcyA9ICQodGhpcyk7XG4gICAgdmFyIGNoaWxkcmVuID0gJHRoaXMuY2hpbGRyZW4oKTtcblxuICAgIGlmIChjaGlsZHJlbi5sZW5ndGggPT09IDEgJiYgY2hpbGRyZW4uaXMoJ2RpdicpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgJHRoaXMud3JhcElubmVyKCc8ZGl2IGNsYXNzPVwicG9zdGJvZHktaW5uZXJcIiAvPicpO1xuICB9KTtcblxuICAvKipcbiAgICogQWRqdXN0IHBvc3Qgei1pbmRleCBmb3IgcG9zdCBwcm9maWxlcyBmb3IgYWxsIHBvc3RzXG4gICAqL1xuICAkKCcucG9zdHByb2ZpbGUnKS5lYWNoKGZ1bmN0aW9uIChpKSB7XG4gICAgdmFyIHogPSBNYXRoLm1heCgyOCAtIGksIDIpO1xuICAgICQodGhpcykuY3NzKCd6LWluZGV4Jywgeik7XG4gIH0pO1xuXG4gIC8qKlxuICAgKiBEbyBub3QgcnVuIGZ1bmN0aW9ucyBiZWxvdyBmb3Igb2xkIGJyb3dzZXJzXG4gICAqL1xuICBpZiAob2xkQnJvd3Nlcikge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8qKlxuICAgKiBBZGp1c3QgdG9waWNsaXN0IGxpc3RzIHdpdGggY2hlY2sgYm94ZXNcbiAgICovXG4gICRjb250YWluZXIuZmluZCgndWwudG9waWNsaXN0IGRkLm1hcmsnKS5zaWJsaW5ncygnZHQnKS5jaGlsZHJlbignLmxpc3QtaW5uZXInKS5hZGRDbGFzcygnd2l0aC1tYXJrJyk7XG5cbiAgLyoqXG4gICAqIEFwcGVuZHMgY29udGVudHMgb2YgYWxsIGV4dHJhIGNvbHVtbnMgdG8gZmlyc3QgY29sdW1uIGluXG4gICAqIC50b3BpY2xpc3QgbGlzdHMgZm9yIG1vYmlsZSBkZXZpY2VzLiBDb3BpZXMgY29udGVudHMgYXMgaXMuXG4gICAqXG4gICAqIFRvIGFkZCB0aGF0IGZ1bmN0aW9uYWxpdHkgdG8gLnRvcGljbGlzdCBsaXN0IHNpbXBseSBhZGRcbiAgICogcmVzcG9uc2l2ZS1zaG93LWFsbCB0byBsaXN0IG9mIGNsYXNzZXNcbiAgICovXG4gICRjb250YWluZXIuZmluZCgnLnRvcGljbGlzdC5yZXNwb25zaXZlLXNob3ctYWxsID4gbGkgPiBkbCcpLmVhY2goZnVuY3Rpb24gKCkge1xuICAgIHZhciAkdGhpcyA9ICQodGhpcyk7XG4gICAgdmFyICRibG9jayA9ICR0aGlzLmZpbmQoJ2R0IC5yZXNwb25zaXZlLXNob3c6bGFzdC1jaGlsZCcpO1xuICAgIHZhciBmaXJzdCA9IHRydWU7XG5cbiAgICAvLyBDcmVhdGUgYmxvY2sgdGhhdCBpcyB2aXNpYmxlIG9ubHkgb24gbW9iaWxlIGRldmljZXNcbiAgICBpZiAoISRibG9jay5sZW5ndGgpIHtcbiAgICAgICR0aGlzLmZpbmQoJ2R0ID4gLmxpc3QtaW5uZXInKS5hcHBlbmQoJzxkaXYgY2xhc3M9XCJyZXNwb25zaXZlLXNob3dcIiBzdHlsZT1cImRpc3BsYXk6bm9uZTtcIiAvPicpO1xuICAgICAgJGJsb2NrID0gJHRoaXMuZmluZCgnZHQgLnJlc3BvbnNpdmUtc2hvdzpsYXN0LWNoaWxkJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGZpcnN0ID0gKCQudHJpbSgkYmxvY2sudGV4dCgpKS5sZW5ndGggPT09IDApO1xuICAgIH1cblxuICAgIC8vIENvcHkgY29udGVudHMgb2YgZWFjaCBjb2x1bW5cbiAgICAkdGhpcy5maW5kKCdkZCcpLm5vdCgnLm1hcmsnKS5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBjb2x1bW4gPSAkKHRoaXMpO1xuICAgICAgdmFyICRjaGlsZHJlbiA9IGNvbHVtbi5jaGlsZHJlbigpO1xuICAgICAgdmFyIGh0bWwgPSBjb2x1bW4uaHRtbCgpO1xuXG4gICAgICBpZiAoJGNoaWxkcmVuLmxlbmd0aCA9PT0gMSAmJiAkY2hpbGRyZW4udGV4dCgpID09PSBjb2x1bW4udGV4dCgpKSB7XG4gICAgICAgIGh0bWwgPSAkY2hpbGRyZW4uaHRtbCgpO1xuICAgICAgfVxuXG4gICAgICAkYmxvY2suYXBwZW5kKChmaXJzdCA/ICcnIDogJzxiciAvPicpICsgaHRtbCk7XG5cbiAgICAgIGZpcnN0ID0gZmFsc2U7XG4gICAgfSk7XG4gIH0pO1xuXG4gIC8qKlxuICAgKiBTYW1lIGFzIGFib3ZlLCBidXQgcHJlcGVuZHMgdGV4dCBmcm9tIGhlYWRlciB0byBlYWNoXG4gICAqIGNvbHVtbiBiZWZvcmUgY29udGVudHMgb2YgdGhhdCBjb2x1bW4uXG4gICAqXG4gICAqIFRvIGFkZCB0aGF0IGZ1bmN0aW9uYWxpdHkgdG8gLnRvcGljbGlzdCBsaXN0IHNpbXBseSBhZGRcbiAgICogcmVzcG9uc2l2ZS1zaG93LWNvbHVtbnMgdG8gbGlzdCBvZiBjbGFzc2VzXG4gICAqL1xuICAkY29udGFpbmVyLmZpbmQoJy50b3BpY2xpc3QucmVzcG9uc2l2ZS1zaG93LWNvbHVtbnMnKS5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgJGxpc3QgPSAkKHRoaXMpO1xuICAgIHZhciBoZWFkZXJzID0gW107XG4gICAgdmFyIGhlYWRlcnNMZW5ndGggPSAwO1xuXG4gICAgLy8gRmluZCBhbGwgaGVhZGVycywgZ2V0IGNvbnRlbnRzXG4gICAgJGxpc3QucHJldignLnRvcGljbGlzdCcpLmZpbmQoJ2xpLmhlYWRlciBkZCcpLm5vdCgnLm1hcmsnKS5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgIGhlYWRlcnMucHVzaCgkKHRoaXMpLnRleHQoKSk7XG4gICAgICBoZWFkZXJzTGVuZ3RoKys7XG4gICAgfSk7XG5cbiAgICBpZiAoIWhlYWRlcnNMZW5ndGgpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBQYXJzZSBlYWNoIHJvd1xuICAgICRsaXN0LmZpbmQoJ2RsJykuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgJHRoaXMgPSAkKHRoaXMpO1xuICAgICAgdmFyICRibG9jayA9ICR0aGlzLmZpbmQoJ2R0IC5yZXNwb25zaXZlLXNob3c6bGFzdC1jaGlsZCcpO1xuICAgICAgdmFyIGZpcnN0ID0gdHJ1ZTtcblxuICAgICAgLy8gQ3JlYXRlIGJsb2NrIHRoYXQgaXMgdmlzaWJsZSBvbmx5IG9uIG1vYmlsZSBkZXZpY2VzXG4gICAgICBpZiAoISRibG9jay5sZW5ndGgpIHtcbiAgICAgICAgJHRoaXMuZmluZCgnZHQgPiAubGlzdC1pbm5lcicpLmFwcGVuZCgnPGRpdiBjbGFzcz1cInJlc3BvbnNpdmUtc2hvd1wiIHN0eWxlPVwiZGlzcGxheTpub25lO1wiIC8+Jyk7XG4gICAgICAgICRibG9jayA9ICR0aGlzLmZpbmQoJ2R0IC5yZXNwb25zaXZlLXNob3c6bGFzdC1jaGlsZCcpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZmlyc3QgPSAoJC50cmltKCRibG9jay50ZXh0KCkpLmxlbmd0aCA9PT0gMCk7XG4gICAgICB9XG5cbiAgICAgIC8vIENvcHkgY29udGVudHMgb2YgZWFjaCBjb2x1bW5cbiAgICAgICR0aGlzLmZpbmQoJ2RkJykubm90KCcubWFyaycpLmVhY2goZnVuY3Rpb24gKGkpIHtcbiAgICAgICAgdmFyIGNvbHVtbiA9ICQodGhpcyk7XG4gICAgICAgIHZhciBjaGlsZHJlbiA9IGNvbHVtbi5jaGlsZHJlbigpO1xuICAgICAgICB2YXIgaHRtbCA9IGNvbHVtbi5odG1sKCk7XG5cbiAgICAgICAgaWYgKGNoaWxkcmVuLmxlbmd0aCA9PT0gMSAmJiBjaGlsZHJlbi50ZXh0KCkgPT09IGNvbHVtbi50ZXh0KCkpIHtcbiAgICAgICAgICBodG1sID0gY2hpbGRyZW4uaHRtbCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gUHJlcGVuZCBjb250ZW50cyBvZiBtYXRjaGluZyBoZWFkZXIgYmVmb3JlIGNvbnRlbnRzIG9mIGNvbHVtblxuICAgICAgICBpZiAoaSA8IGhlYWRlcnNMZW5ndGgpIHtcbiAgICAgICAgICBodG1sID0gaGVhZGVyc1tpXSArICc6IDxzdHJvbmc+JyArIGh0bWwgKyAnPC9zdHJvbmc+JztcbiAgICAgICAgfVxuXG4gICAgICAgICRibG9jay5hcHBlbmQoKGZpcnN0ID8gJycgOiAnPGJyIC8+JykgKyBodG1sKTtcblxuICAgICAgICBmaXJzdCA9IGZhbHNlO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIC8qKlxuICAgKiBSZXNwb25zaXZlIHRhYmxlc1xuICAgKi9cbiAgJGNvbnRhaW5lci5maW5kKCd0YWJsZS50YWJsZTEnKS5ub3QoJy5ub3QtcmVzcG9uc2l2ZScpLmVhY2goZnVuY3Rpb24gKCkge1xuICAgIHZhciAkdGhpcyA9ICQodGhpcyk7XG4gICAgdmFyICR0aCA9ICR0aGlzLmZpbmQoJ3RoZWFkID4gdHIgPiB0aCcpO1xuICAgIHZhciBoZWFkZXJzID0gW107XG4gICAgdmFyIHRvdGFsSGVhZGVycyA9IDA7XG4gICAgdmFyIGhlYWRlcnNMZW5ndGg7XG5cbiAgICAvLyBGaW5kIGVhY2ggaGVhZGVyXG4gICAgJHRoLmVhY2goZnVuY3Rpb24gKGNvbHVtbikge1xuICAgICAgdmFyIGNlbGwgPSAkKHRoaXMpO1xuICAgICAgdmFyIGNvbHNwYW4gPSBwYXJzZUludChjZWxsLmF0dHIoJ2NvbHNwYW4nKSwgMTApO1xuICAgICAgdmFyIGRmbiA9IGNlbGwuYXR0cignZGF0YS1kZm4nKTtcbiAgICAgIHZhciB0ZXh0ID0gZGZuID8gZGZuIDogY2VsbC50ZXh0KCk7XG5cbiAgICAgIGNvbHNwYW4gPSBpc05hTihjb2xzcGFuKSB8fCBjb2xzcGFuIDwgMSA/IDEgOiBjb2xzcGFuO1xuXG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNvbHNwYW47IGkrKykge1xuICAgICAgICBoZWFkZXJzLnB1c2godGV4dCk7XG4gICAgICB9XG4gICAgICB0b3RhbEhlYWRlcnMrKztcblxuICAgICAgaWYgKGRmbiAmJiAhY29sdW1uKSB7XG4gICAgICAgICR0aGlzLmFkZENsYXNzKCdzaG93LWhlYWRlcicpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgaGVhZGVyc0xlbmd0aCA9IGhlYWRlcnMubGVuZ3RoO1xuXG4gICAgLy8gQWRkIGhlYWRlciB0ZXh0IHRvIGVhY2ggY2VsbCBhcyA8ZGZuPlxuICAgICR0aGlzLmFkZENsYXNzKCdyZXNwb25zaXZlJyk7XG5cbiAgICBpZiAodG90YWxIZWFkZXJzIDwgMikge1xuICAgICAgJHRoaXMuYWRkQ2xhc3MoJ3Nob3ctaGVhZGVyJyk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgJHRoaXMuZmluZCgndGJvZHkgPiB0cicpLmVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIHJvdyA9ICQodGhpcyk7XG4gICAgICB2YXIgY2VsbHMgPSByb3cuY2hpbGRyZW4oJ3RkJyk7XG4gICAgICB2YXIgY29sdW1uID0gMDtcblxuICAgICAgaWYgKGNlbGxzLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICByb3cuYWRkQ2xhc3MoJ2JpZy1jb2x1bW4nKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBjZWxscy5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGNlbGwgPSAkKHRoaXMpO1xuICAgICAgICB2YXIgY29sc3BhbiA9IHBhcnNlSW50KGNlbGwuYXR0cignY29sc3BhbicpLCAxMCk7XG4gICAgICAgIHZhciB0ZXh0ID0gJC50cmltKGNlbGwudGV4dCgpKTtcblxuICAgICAgICBpZiAoaGVhZGVyc0xlbmd0aCA8PSBjb2x1bW4pIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoKHRleHQubGVuZ3RoICYmIHRleHQgIT09ICctJykgfHwgY2VsbC5jaGlsZHJlbigpLmxlbmd0aCkge1xuICAgICAgICAgIGNlbGwucHJlcGVuZCgnPGRmbiBzdHlsZT1cImRpc3BsYXk6IG5vbmU7XCI+JyArIGhlYWRlcnNbY29sdW1uXSArICc8L2Rmbj4nKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjZWxsLmFkZENsYXNzKCdlbXB0eScpO1xuICAgICAgICB9XG5cbiAgICAgICAgY29sc3BhbiA9IGlzTmFOKGNvbHNwYW4pIHx8IGNvbHNwYW4gPCAxID8gMSA6IGNvbHNwYW47XG4gICAgICAgIGNvbHVtbiArPSBjb2xzcGFuO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIC8qKlxuICAgKiBIaWRlIGVtcHR5IHJlc3BvbnNpdmUgdGFibGVzXG4gICAqL1xuICAkY29udGFpbmVyLmZpbmQoJ3RhYmxlLnJlc3BvbnNpdmUgPiB0Ym9keScpLm5vdCgnLnJlc3BvbnNpdmUtc2tpcC1lbXB0eScpLmVhY2goZnVuY3Rpb24gKCkge1xuICAgIHZhciAkaXRlbXMgPSAkKHRoaXMpLmNoaWxkcmVuKCd0cicpO1xuICAgIGlmICghJGl0ZW1zLmxlbmd0aCkge1xuICAgICAgJCh0aGlzKS5wYXJlbnQoJ3RhYmxlOmZpcnN0JykuYWRkQ2xhc3MoJ3Jlc3BvbnNpdmUtaGlkZScpO1xuICAgIH1cbiAgfSk7XG5cbiAgLyoqXG4gICAqIFJlc3BvbnNpdmUgdGFic1xuICAgKi9cbiAgJGNvbnRhaW5lci5maW5kKCcjdGFicywgI21pbml0YWJzJykubm90KCdbZGF0YS1za2lwLXJlc3BvbnNpdmVdJykuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgdmFyICR0aGlzID0gJCh0aGlzKTtcbiAgICB2YXIgJHVsID0gJHRoaXMuY2hpbGRyZW4oKTtcbiAgICB2YXIgJHRhYnMgPSAkdWwuY2hpbGRyZW4oKS5ub3QoJ1tkYXRhLXNraXAtcmVzcG9uc2l2ZV0nKTtcbiAgICB2YXIgJGxpbmtzID0gJHRhYnMuY2hpbGRyZW4oJ2EnKTtcbiAgICB2YXIgJGl0ZW0gPSAkdWwuYXBwZW5kKCc8bGkgY2xhc3M9XCJ0YWIgcmVzcG9uc2l2ZS10YWJcIiBzdHlsZT1cImRpc3BsYXk6bm9uZTtcIj48YSBocmVmPVwiamF2YXNjcmlwdDp2b2lkKDApO1wiIGNsYXNzPVwicmVzcG9uc2l2ZS10YWItbGlua1wiPiZuYnNwOzwvYT48ZGl2IGNsYXNzPVwiZHJvcGRvd24gdGFiLWRyb3Bkb3duXCIgc3R5bGU9XCJkaXNwbGF5OiBub25lO1wiPjxkaXYgY2xhc3M9XCJwb2ludGVyXCI+PGRpdiBjbGFzcz1cInBvaW50ZXItaW5uZXJcIiAvPjwvZGl2Pjx1bCBjbGFzcz1cImRyb3Bkb3duLWNvbnRlbnRzXCIgLz48L2Rpdj48L2xpPicpLmZpbmQoJ2xpLnJlc3BvbnNpdmUtdGFiJyk7XG4gICAgdmFyICRtZW51ID0gJGl0ZW0uZmluZCgnLmRyb3Bkb3duLWNvbnRlbnRzJyk7XG4gICAgdmFyIG1heEhlaWdodCA9IDA7XG4gICAgdmFyIGxhc3RXaWR0aCA9IGZhbHNlO1xuICAgIHZhciByZXNwb25zaXZlID0gZmFsc2U7XG5cbiAgICAkbGlua3MuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICBtYXhIZWlnaHQgPSBNYXRoLm1heChtYXhIZWlnaHQsIE1hdGgubWF4KCQodGhpcykub3V0ZXJIZWlnaHQodHJ1ZSksICQodGhpcykucGFyZW50KCkub3V0ZXJIZWlnaHQodHJ1ZSkpKTtcbiAgICB9KTtcblxuICAgIGZ1bmN0aW9uIGNoZWNrKCkge1xuICAgICAgdmFyIHdpZHRoID0gJGJvZHkud2lkdGgoKTtcbiAgICAgIHZhciBoZWlnaHQgPSAkdGhpcy5oZWlnaHQoKTtcblxuICAgICAgaWYgKCFhcmd1bWVudHMubGVuZ3RoICYmICghcmVzcG9uc2l2ZSB8fCB3aWR0aCA8PSBsYXN0V2lkdGgpICYmIGhlaWdodCA8PSBtYXhIZWlnaHQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICAkdGFicy5zaG93KCk7XG4gICAgICAkaXRlbS5oaWRlKCk7XG5cbiAgICAgIGxhc3RXaWR0aCA9IHdpZHRoO1xuICAgICAgaGVpZ2h0ID0gJHRoaXMuaGVpZ2h0KCk7XG4gICAgICBpZiAoaGVpZ2h0IDw9IG1heEhlaWdodCkge1xuICAgICAgICBpZiAoJGl0ZW0uaGFzQ2xhc3MoJ2Ryb3Bkb3duLXZpc2libGUnKSkge1xuICAgICAgICAgIHBocGJiLnRvZ2dsZURyb3Bkb3duLmNhbGwoJGl0ZW0uZmluZCgnYS5yZXNwb25zaXZlLXRhYi1saW5rJykuZ2V0KDApKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHJlc3BvbnNpdmUgPSB0cnVlO1xuICAgICAgJGl0ZW0uc2hvdygpO1xuICAgICAgJG1lbnUuaHRtbCgnJyk7XG5cbiAgICAgIHZhciAkYXZhaWxhYmxlVGFicyA9ICR0YWJzLmZpbHRlcignOm5vdCguYWN0aXZldGFiLCAucmVzcG9uc2l2ZS10YWIpJyk7XG4gICAgICB2YXIgdG90YWwgPSAkYXZhaWxhYmxlVGFicy5sZW5ndGg7XG4gICAgICB2YXIgJHRhYjtcblxuICAgICAgZm9yICh2YXIgaSA9IHRvdGFsIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgICAgJHRhYiA9ICRhdmFpbGFibGVUYWJzLmVxKGkpO1xuICAgICAgICAkbWVudS5wcmVwZW5kKCR0YWIuY2xvbmUodHJ1ZSkucmVtb3ZlQ2xhc3MoJ3RhYicpKTtcbiAgICAgICAgJHRhYi5oaWRlKCk7XG4gICAgICAgIGlmICgkdGhpcy5oZWlnaHQoKSA8PSBtYXhIZWlnaHQpIHtcbiAgICAgICAgICAkbWVudS5maW5kKCdhJykuY2xpY2soZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgY2hlY2sodHJ1ZSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICAkbWVudS5maW5kKCdhJykuY2xpY2soZnVuY3Rpb24gKCkge1xuICAgICAgICBjaGVjayh0cnVlKTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIHZhciAkdGFiTGluayA9ICRpdGVtLmZpbmQoJ2EucmVzcG9uc2l2ZS10YWItbGluaycpO1xuICAgIHBocGJiLnJlZ2lzdGVyRHJvcGRvd24oJHRhYkxpbmssICRpdGVtLmZpbmQoJy5kcm9wZG93bicpLCB7XG4gICAgICB2aXNpYmxlQ2xhc3M6ICdhY3RpdmV0YWInXG4gICAgfSk7XG5cbiAgICBjaGVjayh0cnVlKTtcbiAgICAkKHdpbmRvdykucmVzaXplKGNoZWNrKTtcbiAgfSk7XG5cbiAgLyoqXG4gICAqIEhpZGUgVUNQL01DUCBuYXZpZ2F0aW9uIGlmIHRoZXJlIGlzIG9ubHkgMSBpdGVtXG4gICAqL1xuICAkY29udGFpbmVyLmZpbmQoJyNuYXZpZ2F0aW9uJykuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgdmFyICRpdGVtcyA9ICQodGhpcykuY2hpbGRyZW4oJ29sLCB1bCcpLmNoaWxkcmVuKCdsaScpO1xuICAgIGlmICgkaXRlbXMubGVuZ3RoID09PSAxKSB7XG4gICAgICAkKHRoaXMpLmFkZENsYXNzKCdyZXNwb25zaXZlLWhpZGUnKTtcbiAgICB9XG4gIH0pO1xuXG4gIC8qKlxuICAgKiBSZXBsYWNlIHJlc3BvbnNpdmUgdGV4dFxuICAgKi9cbiAgJGNvbnRhaW5lci5maW5kKCdbZGF0YS1yZXNwb25zaXZlLXRleHRdJykuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgdmFyICR0aGlzID0gJCh0aGlzKTtcbiAgICB2YXIgZnVsbFRleHQgPSAkdGhpcy50ZXh0KCk7XG4gICAgdmFyIHJlc3BvbnNpdmVUZXh0ID0gJHRoaXMuYXR0cignZGF0YS1yZXNwb25zaXZlLXRleHQnKTtcbiAgICB2YXIgcmVzcG9uc2l2ZSA9IGZhbHNlO1xuXG4gICAgZnVuY3Rpb24gY2hlY2soKSB7XG4gICAgICBpZiAoJCh3aW5kb3cpLndpZHRoKCkgPiA3MDApIHtcbiAgICAgICAgaWYgKCFyZXNwb25zaXZlKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgICR0aGlzLnRleHQoZnVsbFRleHQpO1xuICAgICAgICByZXNwb25zaXZlID0gZmFsc2U7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmIChyZXNwb25zaXZlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgICR0aGlzLnRleHQocmVzcG9uc2l2ZVRleHQpO1xuICAgICAgcmVzcG9uc2l2ZSA9IHRydWU7XG4gICAgfVxuXG4gICAgY2hlY2soKTtcbiAgICAkKHdpbmRvdykucmVzaXplKGNoZWNrKTtcbiAgfSk7XG5cbiAgLyoqXG4gICAqIFN0YXRpYyBuYXZpZ2F0aW9uXG4gICAqL1xuICBpZiAoc3R5bGVDb25maWcuc3RhdGljTmF2aWdhdGlvbikge1xuICAgICRjb250YWluZXIuZmluZCgnLm5hdmJhci50YWJiZWQgPiAuaW5uZXInKS5lYWNoKGZ1bmN0aW9uIChpKSB7XG4gICAgICB2YXIgbmF2ID0gdGhpcztcbiAgICAgIHZhciBuYXZpZ2F0aW9uID0gJChuYXYpO1xuICAgICAgdmFyIGlzU3RhdGljID0gZmFsc2U7XG4gICAgICB2YXIgcGFyZW50ID0gbmF2aWdhdGlvbi5wYXJlbnQoKTtcbiAgICAgIHZhciBpbm5lcjtcbiAgICAgIHZhciAkdyA9ICQod2luZG93KTtcbiAgICAgIHZhciBtaW5Ub3BQb3NpdGlvbiA9IDA7XG4gICAgICB2YXIgbWluV2lkdGggPSBzdHlsZUNvbmZpZy5zdGF0aWNOYXZpZ2F0aW9uTWluV2lkdGg7XG4gICAgICB2YXIgbWluSGVpZ2h0ID0gc3R5bGVDb25maWcuc3RhdGljTmF2aWdhdGlvbk1pbkhlaWdodDtcbiAgICAgIHZhciBxdWV1ZWQgPSBmYWxzZTtcbiAgICAgIHZhciB0aHJvdHRsZWQgPSBmYWxzZTtcbiAgICAgIHZhciBuYXZiYXJCb3ggPSAkKCcuaW5uZXIucGFnZS13aWR0aC5jYXJkJyk7XG4gICAgICB2YXIgaGVhZGVyQm94ID0gJCgnI3BhZ2UtaGVhZGVyLWJveC5jYXJkJyk7XG4gICAgICB2YXIgYnJlYWtMaW5lID0gMDtcbiAgICAgIHZhciBjdXJyT2Zmc2V0ID0gMDtcbiAgICAgIHZhciBwcmV2T2Zmc2V0ID0gMDtcblxuICAgICAgZnVuY3Rpb24gZW5hYmxlU3RhdGljKCkge1xuICAgICAgICAkKCcjcGFnZS1oZWFkZXItYm94JykuY3NzKCdwYWRkaW5nLXRvcCcsIE1hdGguZmxvb3IobmF2aWdhdGlvbi5oZWlnaHQoKSkgKyAncHgnKTtcbiAgICAgICAgbmF2aWdhdGlvbi5hZGRDbGFzcygnc3RhdGljJyk7XG4gICAgICAgIHBhcmVudC5yZW1vdmVDbGFzcygnbm90LXN0YXRpYycpO1xuICAgICAgICBpc1N0YXRpYyA9IHRydWU7XG4gICAgICAgIGNoZWNrTmF2aWdhdGlvbih0cnVlKTtcbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gZGlzYWJsZVN0YXRpYygpIHtcbiAgICAgICAgJCgnI3BhZ2UtaGVhZGVyLWJveCcpLmNzcygncGFkZGluZy10b3AnLCAwKTtcbiAgICAgICAgbmF2YmFyQm94LmF0dHIoJ2RhdGEtY2FyZCcsIDApO1xuICAgICAgICBoZWFkZXJCb3guYXR0cignZGF0YS1jYXJkJywgMSk7XG4gICAgICAgIG5hdmlnYXRpb24ucmVtb3ZlQ2xhc3MoJ3N0YXRpYycpO1xuICAgICAgICBwYXJlbnQuYWRkQ2xhc3MoJ25vdC1zdGF0aWMnKTtcbiAgICAgICAgaXNTdGF0aWMgPSBmYWxzZTtcbiAgICAgICAgY2hlY2tOYXZpZ2F0aW9uKHRydWUpO1xuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiB0ZXN0SGFzaCgpIHtcbiAgICAgICAgdmFyIGhhc2ggPSAod2luZG93LmxvY2F0aW9uLmhhc2gpID8gd2luZG93LmxvY2F0aW9uLmhhc2ggOiAnJztcbiAgICAgICAgaWYgKCFoYXNoKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHdpbmRvdy5zY3JvbGxUbygkdy5zY3JvbGxMZWZ0KCksICR3LnNjcm9sbFRvcCgpIC0gbmF2aWdhdGlvbi5oZWlnaHQoKSk7XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIGNoZWNrKGNoZWNrSGFzaCkge1xuICAgICAgICB2YXIgd2luZG93VG9wID0gMDtcbiAgICAgICAgdmFyIHdpbmRvd1dpZHRoID0gTWF0aC5mbG9vcigkdy53aWR0aCgpKTtcbiAgICAgICAgdmFyIHRvcDtcblxuICAgICAgICBpZiAod2luZG93V2lkdGggPCBtaW5XaWR0aCB8fCAkdy5oZWlnaHQoKSA8IG1pbkhlaWdodCkge1xuICAgICAgICAgIGlmIChpc1N0YXRpYykge1xuICAgICAgICAgICAgZGlzYWJsZVN0YXRpYygpO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFpc1N0YXRpYykge1xuICAgICAgICAgIC8vIG5hdkhlaWdodCA9IG5hdmlnYXRpb24uaGVpZ2h0KCk7XG4gICAgICAgICAgdG9wID0gbmF2LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLnRvcDtcbiAgICAgICAgICBpZiAodG9wID4gMCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cbiAgICAgICAgICBtaW5Ub3BQb3NpdGlvbiA9ICR3LnNjcm9sbFRvcCgpICsgdG9wO1xuICAgICAgICAgIGVuYWJsZVN0YXRpYygpO1xuICAgICAgICAgIGlmIChjaGVja0hhc2gpIHtcbiAgICAgICAgICAgIHRlc3RIYXNoKCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoJHcuc2Nyb2xsVG9wKCkgPCBtaW5Ub3BQb3NpdGlvbikge1xuICAgICAgICAgIGRpc2FibGVTdGF0aWMoKTtcbiAgICAgICAgfSBlbHNlIGlmIChjaGVja0hhc2gpIHtcbiAgICAgICAgICB0ZXN0SGFzaCgpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICAkdy5vbignc2Nyb2xsIHJlc2l6ZScsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKCFpc1N0YXRpYykge1xuICAgICAgICAgIGNoZWNrKGZhbHNlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpZiAoIXRocm90dGxlZCkge1xuICAgICAgICAgICAgY2hlY2soZmFsc2UpO1xuICAgICAgICAgICAgdGhyb3R0bGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIHF1ZXVlZCA9IGZhbHNlO1xuICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgIHRocm90dGxlZCA9IGZhbHNlO1xuICAgICAgICAgICAgICBpZiAocXVldWVkKSB7XG4gICAgICAgICAgICAgICAgY2hlY2soZmFsc2UpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LCAyNTApO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBxdWV1ZWQgPSB0cnVlO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIC8qKlxuICAgICAgICAgICAqIFNtb290aCB0cmFuc2l0aW9uIHNoYWRvdyBib3ggZnJvbSBoZWFkZXIgdG8gbmF2YmFyXG4gICAgICAgICAgICogLS0tICAgICAgazkxMUBlbGVrdHJ5Y3pueS50ayDCqSAyMDE2ICAgICAgICAgICAtLS1cbiAgICAgICAgICAgKi9cbiAgICAgICAgICBjdXJyT2Zmc2V0ID0gJHcuc2Nyb2xsVG9wKCk7XG4gICAgICAgICAgYnJlYWtMaW5lID0gaGVhZGVyQm94LmhlaWdodCgpO1xuICAgICAgICAgIGlmIChNYXRoLmFicyhjdXJyT2Zmc2V0IC0gcHJldk9mZnNldCkgPiBNYXRoLmFicyhicmVha0xpbmUgLSBwcmV2T2Zmc2V0KSkge1xuICAgICAgICAgICAgaWYgKGN1cnJPZmZzZXQgPCBicmVha0xpbmUpIHtcbiAgICAgICAgICAgICAgbmF2YmFyQm94LmF0dHIoJ2RhdGEtY2FyZCcsIDApO1xuICAgICAgICAgICAgICBoZWFkZXJCb3guYXR0cignZGF0YS1jYXJkJywgMSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBuYXZiYXJCb3guYXR0cignZGF0YS1jYXJkJywgMSk7XG4gICAgICAgICAgICAgIGhlYWRlckJveC5hdHRyKCdkYXRhLWNhcmQnLCAwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHByZXZPZmZzZXQgPSBjdXJyT2Zmc2V0O1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICAkdy5vbignbG9hZCcsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgY2hlY2sodHJ1ZSk7XG4gICAgICB9KTtcbiAgICAgICR3Lm9uKCdoYXNoY2hhbmdlJywgZnVuY3Rpb24gKCkge1xuICAgICAgICBjaGVjayh0cnVlKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIEVtcHR5IGxhc3QgcG9zdCBjb2x1bW5cbiAgICovXG4gICRjb250YWluZXIuZmluZCgnZGQubGFzdHBvc3QgPiBzcGFuOm9ubHktY2hpbGQgPiBicjpvbmx5LWNoaWxkJykucGFyZW50cygnZGQubGFzdHBvc3QnKS5hZGRDbGFzcygnZW1wdHknKTtcblxuICAvKipcbiAgICogU3BvaWxlciDDoCBsYSB3eWtvcC5wbFxuICAgKiBVc2FnZTpcbiAgICogXHR8IDxhIGhyZWY9XCIjXCIgY2xhc3M9XCJzcG9pbGVyXCI+cG9rYcW8IHNwb2lsZXI8L2E+XG4gICAqXHR8IDxjb2RlIGNsYXNzPVwic3BvaWxlclwiPntURVhUfTwvY29kZT5cbiAgICovXG4gICQoJ2Euc3BvaWxlcicpLmNsaWNrKGZ1bmN0aW9uIChlKSB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICQodGhpcykubmV4dCgnZGl2LnNwb2lsZXInKS5zaG93KCk7XG4gICAgJCh0aGlzKS5oaWRlKCk7XG4gIH0pO1xuXG4gIC8qKlxuICAgKiBIRCBpbWFnZXNcbiAgICovXG4gIGlmICh3aW5kb3cubWF0Y2hNZWRpYSAmJiB3aW5kb3cubWF0Y2hNZWRpYSgnKC13ZWJraXQtbWluLWRldmljZS1waXhlbC1yYXRpbzogMiksIChtaW4tcmVzb2x1dGlvbjogMTkyZHBpKSwgKG1pbi1yZXNvbHV0aW9uOiAxLjVkcHB4KScpLm1hdGNoZXMpIHtcbiAgICAkY29udGFpbmVyLmZpbmQoJ2ltZ1tkYXRhLXNyYy1oZF0nKS5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBpbWcgPSB0aGlzO1xuICAgICAgdmFyICR0aGlzID0gJCh0aGlzKTtcbiAgICAgIHZhciBoZEltYWdlID0gbmV3IEltYWdlKCk7XG4gICAgICB2YXIgaGRMb2FkZWQgPSBmYWxzZTtcbiAgICAgIHZhciBub3JtYWxMb2FkZWQgPSBmYWxzZTtcblxuICAgICAgZnVuY3Rpb24gcmVwbGFjZUltYWdlKCkge1xuICAgICAgICAkdGhpcy5jc3MoJ3dpZHRoJywgKGltZy5uYXR1cmFsV2lkdGggPyBpbWcubmF0dXJhbFdpZHRoIDogaW1nLndpZHRoKSArICdweCcpO1xuICAgICAgICBpbWcuc2V0QXR0cmlidXRlKCdzcmMnLCBpbWcuZ2V0QXR0cmlidXRlKCdkYXRhLXNyYy1oZCcpKTtcbiAgICAgIH1cblxuICAgICAgaWYgKGltZy5jb21wbGV0ZSkge1xuICAgICAgICBub3JtYWxMb2FkZWQgPSB0cnVlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaW1nLm9ubG9hZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBpZiAobm9ybWFsTG9hZGVkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuICAgICAgICAgIG5vcm1hbExvYWRlZCA9IHRydWU7XG4gICAgICAgICAgaWYgKGhkTG9hZGVkKSB7XG4gICAgICAgICAgICByZXBsYWNlSW1hZ2UoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICB9XG5cbiAgICAgIGhkSW1hZ2Uub25sb2FkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBoZExvYWRlZCA9IHRydWU7XG4gICAgICAgIGlmIChub3JtYWxMb2FkZWQpIHtcbiAgICAgICAgICByZXBsYWNlSW1hZ2UoKTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICAgIGhkSW1hZ2Uuc3JjID0gaW1nLmdldEF0dHJpYnV0ZSgnZGF0YS1zcmMtaGQnKTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTcGxpdCBidXR0b25zXG4gICAqL1xuICAkY29udGFpbmVyLmZpbmQoJ2Rpdi5idXR0b25zIGEuYnV0dG9uLmljb24tYnV0dG9uJykuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgdmFyICR0aGlzID0gJCh0aGlzKTtcbiAgICB2YXIgd29yZHM7XG5cbiAgICBpZiAoJHRoaXMuY2hpbGRyZW4oKS5sZW5ndGgpIHJldHVybjtcblxuICAgIHdvcmRzID0gJHRoaXMudGV4dCgpLnRyaW0oKS5zcGxpdCgnICcpO1xuICAgIGlmICh3b3Jkcy5sZW5ndGggPiAxKSB7XG4gICAgICAkdGhpcy50ZXh0KHdvcmRzLnNoaWZ0KCkgKyAnICcpLmFwcGVuZCgnPHN0cm9uZyAvPicpO1xuICAgICAgJHRoaXMuZmluZCgnc3Ryb25nJykudGV4dCh3b3Jkcy5qb2luKCcgJykpO1xuICAgIH1cbiAgfSk7XG5cbiAgLyoqXG4gICAqIEFkZCBvbmxpbmUgc3RhdHVzXG4gICAqL1xuICAkKCcjcGhwYmIuY2FuLXRyYW5zZm9ybVtkYXRhLW9ubGluZS10ZXh0XScpLmVhY2goZnVuY3Rpb24gKCkge1xuICAgIHZhciB0ZXh0ID0gJCh0aGlzKS5hdHRyKCdkYXRhLW9ubGluZS10ZXh0Jyk7XG5cbiAgICAkY29udGFpbmVyLmZpbmQoJy5vbmxpbmUnKS5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciAkdGhpcyA9ICQodGhpcyk7XG5cbiAgICAgICR0aGlzLmNzcygncG9zaXRpb24nLCAncmVsYXRpdmUnKS5hcHBlbmQoJzxzcGFuIGNsYXNzPVwib25saW5lLXJpYmJvblwiPjxzcGFuPicgKyB0ZXh0ICsgJzwvc3Bhbj48c3Bhbj4nICsgdGV4dCArICc8L3NwYW4+PC9zcGFuPicpO1xuICAgIH0pO1xuICB9KTtcblxuICAvKipcbiAgICogRXh0ZW5kIHBvc3RlciBwcm9maWxlXG4gICAqL1xuICBpZiAoc3R5bGVDb25maWcuX2xvYWRlZCkge1xuICAgICRjb250YWluZXIuZmluZCgnLnBvc3Rwcm9maWxlICsgLnBvc3Rib2R5ID4gZGl2Om9ubHktY2hpbGQnKS5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgIGFkanVzdFBvc3RlclByb2ZpbGUoJCh0aGlzKSk7XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogQ29sbGFwc2UgZm9ydW1zXG4gICAqL1xuICBpZiAoc3R5bGVDb25maWcuY29sbGFwc2VGb3J1bXMpIHtcbiAgICAkY29udGFpbmVyLmZpbmQoJy5mb3JhYmcgbGkuaGVhZGVyJykuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgJHRoaXMgPSAkKHRoaXMpO1xuICAgICAgdmFyIGZvcnVtID0gJHRoaXMucGFyZW50KCkubmV4dCgndWwuZm9ydW1zJyk7XG4gICAgICB2YXIgaWQgPSAwO1xuICAgICAgdmFyIHRvZ2dsZWQgPSBmYWxzZTtcbiAgICAgIHZhciB0b2dnbGU7XG5cbiAgICAgIGlmIChmb3J1bS5sZW5ndGggIT09IDEpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICAvLyBGaW5kIGNhdGVnb3J5IGlkXG4gICAgICAkKCdhW2RhdGEtaWRdJywgJHRoaXMpLmVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgICBpZCA9IHBhcnNlSW50KHRoaXMuZ2V0QXR0cmlidXRlKCdkYXRhLWlkJyksIDEwKTtcbiAgICAgIH0pO1xuICAgICAgaWYgKCFpZCkge1xuICAgICAgICBmb3J1bS5maW5kKCcuZm9ydW10aXRsZVtkYXRhLWlkXTpmaXJzdCcpLmVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgICAgIGlkID0gcGFyc2VJbnQodGhpcy5nZXRBdHRyaWJ1dGUoJ2RhdGEtaWQnKSwgMTApO1xuICAgICAgICAgIGlmICghaXNOYU4oaWQpKSB7XG4gICAgICAgICAgICBpZCA9ICdmJyArIGlkO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICBpZiAoIWlkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgLy8gQWRkIHRvZ2dsZSBjb2RlXG4gICAgICAkdGhpcy5hcHBlbmQoJzxhIGNsYXNzPVwiZm9ydW0tdG9nZ2xlXCIgaHJlZj1cIiNcIj48L2E+Jyk7XG4gICAgICB0b2dnbGUgPSAkdGhpcy5maW5kKCcuZm9ydW0tdG9nZ2xlJyk7XG4gICAgICB0b2dnbGUuY2xpY2soZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIGlmICh0b2dnbGVkKSB7XG4gICAgICAgICAgZm9ydW0uc3RvcCh0cnVlLCB0cnVlKS5zbGlkZURvd24oMjAwKTtcbiAgICAgICAgICB0b2dnbGVkID0gZmFsc2U7XG4gICAgICAgICAgdG9nZ2xlLnJlbW92ZUNsYXNzKCd0b2dnbGVkJyk7XG4gICAgICAgICAgcGhwYmIuZGVsZXRlQ29va2llKCd0b2dnbGVkLScgKyBpZCwgc3R5bGVDb25maWcuY29va2llQ29uZmlnKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgZm9ydW0uc3RvcCh0cnVlLCB0cnVlKS5zbGlkZVVwKDIwMCk7XG4gICAgICAgIHRvZ2dsZWQgPSB0cnVlO1xuICAgICAgICB0b2dnbGUuYWRkQ2xhc3MoJ3RvZ2dsZWQnKTtcbiAgICAgICAgcGhwYmIuc2V0Q29va2llKCd0b2dnbGVkLScgKyBpZCwgJzEnLCBzdHlsZUNvbmZpZy5jb29raWVDb25maWcpO1xuICAgICAgfSk7XG5cbiAgICAgIC8vIENoZWNrIGRlZmF1bHQgc3RhdGVcbiAgICAgIGlmIChwaHBiYi5nZXRDb29raWUoJ3RvZ2dsZWQtJyArIGlkLCBzdHlsZUNvbmZpZy5jb29raWVDb25maWcpID09PSAnMScpIHtcbiAgICAgICAgZm9ydW0uc3RvcCh0cnVlLCB0cnVlKS5zbGlkZVVwKDApO1xuICAgICAgICB0b2dnbGVkID0gdHJ1ZTtcbiAgICAgICAgdG9nZ2xlLmFkZENsYXNzKCd0b2dnbGVkJyk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbn1cblxuLyoqXG4gKiBSdW4gb25sb2FkIGZ1bmN0aW9uc1xuICovXG5qUXVlcnkoZnVuY3Rpb24gKCQpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIGZ1bmN0aW9uIHByb2Nlc3NSZXNpemVFdmVudCgpIHtcbiAgICBzdHlsZUNvbmZpZy5fcmVzaXplVGhyb3R0bGVkID0gZmFsc2U7XG5cbiAgICBjaGVja05hdmlnYXRpb24oZmFsc2UpO1xuXG4gICAgaWYgKHN0eWxlQ29uZmlnLmV4dGVuZFBvc3RlclByb2ZpbGUpIHtcbiAgICAgICQoJy5wb3N0cHJvZmlsZSArIC5wb3N0Ym9keSA+IGRpdjpvbmx5LWNoaWxkJykuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICAgIGFkanVzdFBvc3RlclByb2ZpbGUoJCh0aGlzKSk7XG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICB2YXIgdHJhbnNmb3JtcyA9IFsndHJhbnNmb3JtJywgJ3dlYmtpdFRyYW5zZm9ybScsICdtc1RyYW5zZm9ybSddO1xuICB2YXIgdGVzdDtcblxuICAvLyBDb29raWUgY29uZmlndXJhdGlvblxuICBzdHlsZUNvbmZpZy5jb29raWVDb25maWcgPSB7XG4gICAgcHJlZml4OiAnJyxcbiAgICBwYXRoOiAnLycsXG4gICAgZXhwaXJlczogbmV3IERhdGUoKVxuICB9O1xuICBzdHlsZUNvbmZpZy5jb29raWVDb25maWcuZXhwaXJlcy5zZXRGdWxsWWVhcihzdHlsZUNvbmZpZy5jb29raWVDb25maWcuZXhwaXJlcy5nZXRGdWxsWWVhcigpICsgMSk7XG5cbiAgLy8gU3dhcCAubm9qcyBhbmQgLmhhc2pzXG4gICQoJyNwaHBiYi5ub2pzJykudG9nZ2xlQ2xhc3MoJ25vanMgaGFzanMnKTtcbiAgJCgnI3BocGJiJykudG9nZ2xlQ2xhc3MoJ2hhc3RvdWNoJywgcGhwYmIuaXNUb3VjaCk7XG4gICQoJyNwaHBiYi5oYXN0b3VjaCcpLnJlbW92ZUNsYXNzKCdub3RvdWNoJyk7XG5cbiAgLy8gRm9jdXMgZm9ybXNcbiAgJCgnZm9ybVtkYXRhLWZvY3VzXTpmaXJzdCcpLmVhY2goZnVuY3Rpb24gKCkge1xuICAgICQoJyMnICsgdGhpcy5nZXRBdHRyaWJ1dGUoJ2RhdGEtZm9jdXMnKSkuZm9jdXMoKTtcbiAgfSk7XG5cbiAgLy8gQ2hlY2sgZm9yIHRyYW5zZm9ybWF0aW9uc1xuICB0ZXN0ID0gJCgnI3BocGJiJykuZ2V0KDApO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IHRyYW5zZm9ybXMubGVuZ3RoOyBpKyspIHtcbiAgICBpZiAodHlwZW9mICh0ZXN0LnN0eWxlW3RyYW5zZm9ybXNbaV1dKSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICQoJyNwaHBiYicpLmFkZENsYXNzKCdjYW4tdHJhbnNmb3JtJyk7XG4gICAgICBicmVhaztcbiAgICB9XG4gIH1cblxuICAvLyBDb29raWVzXG4gIHBocGJiLnNldENvb2tpZSA9IGZ1bmN0aW9uIChuYW1lLCB2YWx1ZSwgY29uZmlnKSB7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lXG4gICAgY29uZmlnID0gJC5leHRlbmQoe1xuICAgICAgcHJlZml4OiAnJyxcbiAgICAgIHBhdGg6ICcvJ1xuICAgIH0sIHR5cGVvZiBjb25maWcgPT09ICdvYmplY3QnID8gY29uZmlnIDoge30pO1xuXG4gICAgZG9jdW1lbnQuY29va2llID0gY29uZmlnLnByZWZpeCArIG5hbWUgKyAnPScgKyBlbmNvZGVVUklDb21wb25lbnQodmFsdWUpICtcbiAgICAgICh0eXBlb2YgY29uZmlnLmV4cGlyZXMgPT09ICd1bmRlZmluZWQnID8gJycgOiAnO2V4cGlyZXM9JyArIGNvbmZpZy5leHBpcmVzLnRvVVRDU3RyaW5nKCkpICtcbiAgICAgIChjb25maWcucGF0aCA/ICc7cGF0aD0nICsgY29uZmlnLnBhdGggOiAnJykgK1xuICAgICAgKGNvbmZpZy5kb21haW4gPyAnO2RvbWFpbj0nICsgY29uZmlnLmRvbWFpbiA6ICcnKTtcblxuICAgIHJldHVybiB2YWx1ZTtcbiAgfTtcblxuICBwaHBiYi5nZXRDb29raWUgPSBmdW5jdGlvbiAobmFtZSwgY29uZmlnKSB7XG4gICAgdmFyIGV4cHI7XG4gICAgdmFyIGNvb2tpZTtcblxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZVxuICAgIGNvbmZpZyA9ICQuZXh0ZW5kKHtcbiAgICAgIHByZWZpeDogJycsXG4gICAgICBwYXRoOiAnLydcbiAgICB9LCB0eXBlb2YgY29uZmlnID09PSAnb2JqZWN0JyA/IGNvbmZpZyA6IHt9KTtcblxuICAgIGV4cHIgPSBuZXcgUmVnRXhwKCcoXnwgKScgKyBjb25maWcucHJlZml4ICsgbmFtZSArICc9KFteO10rKSg7fCQpJyk7XG4gICAgY29va2llID0gZXhwci5leGVjKGRvY3VtZW50LmNvb2tpZSk7XG5cbiAgICBpZiAoY29va2llKSB7XG4gICAgICByZXR1cm4gZGVjb2RlVVJJQ29tcG9uZW50KGNvb2tpZVsyXSk7XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xuICB9O1xuXG4gIHBocGJiLmRlbGV0ZUNvb2tpZSA9IGZ1bmN0aW9uIChuYW1lLCBjb25maWcpIHtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmVcbiAgICBjb25maWcgPSAkLmV4dGVuZCh7XG4gICAgICBwcmVmaXg6ICcnLFxuICAgICAgcGF0aDogJy8nXG4gICAgfSwgdHlwZW9mIGNvbmZpZyA9PT0gJ29iamVjdCcgPyBjb25maWcgOiB7fSk7XG5cbiAgICBkb2N1bWVudC5jb29raWUgPSBjb25maWcucHJlZml4ICsgbmFtZSArICc9JyArXG4gICAgICAoY29uZmlnLnBhdGggPyAnOyBwYXRoPScgKyBjb25maWcucGF0aCA6ICcnKSArXG4gICAgICAoY29uZmlnLmRvbWFpbiA/ICc7IGRvbWFpbj0nICsgY29uZmlnLmRvbWFpbiA6ICcnKSArXG4gICAgICAnOyBleHBpcmVzPVRodSwgMDEtSmFuLTcwIDAwOjAwOjAxIEdNVCc7XG5cbiAgICByZXR1cm4gbnVsbDtcbiAgfTtcblxuICAvLyBSZXNwb25zaXZlIG5hdmlnYXRpb25cbiAgaW5pdFJlc3BvbnNpdmVOYXZpZ2F0aW9uKCk7XG5cbiAgLy8gUGFyc2UgYm9keVxuICBwYXJzZURvY3VtZW50KCQoJ2JvZHknKSk7XG5cbiAgLy8gQ2hlY2sgcmVzcG9uc2l2ZSBuYXZpZ2F0aW9uXG4gIGNoZWNrTmF2aWdhdGlvbih0cnVlKTtcblxuICAvLyBFdmVudHNcbiAgc3R5bGVDb25maWcuX2xvYWRlZCA9IHRydWU7XG4gIHN0eWxlQ29uZmlnLl9yZXNpemVUaHJvdHRsZWQgPSBmYWxzZTtcbiAgc3R5bGVDb25maWcuX3Jlc2l6ZVF1ZXVlZCA9IGZhbHNlO1xuXG4gICQod2luZG93KS5sb2FkKGZ1bmN0aW9uICgpIHtcbiAgICBjaGVja05hdmlnYXRpb24odHJ1ZSk7XG4gICAgaWYgKHN0eWxlQ29uZmlnLmV4dGVuZFBvc3RlclByb2ZpbGUpIHtcbiAgICAgICQoJy5wb3N0cHJvZmlsZSArIC5wb3N0Ym9keSA+IGRpdjpvbmx5LWNoaWxkJykuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICAgIGFkanVzdFBvc3RlclByb2ZpbGUoJCh0aGlzKSk7XG4gICAgICB9KTtcbiAgICB9XG4gIH0pO1xuXG4gICQod2luZG93KS5yZXNpemUoZnVuY3Rpb24gKCkge1xuICAgIGlmICghc3R5bGVDb25maWcuX3Jlc2l6ZVRocm90dGxlZCkge1xuICAgICAgcHJvY2Vzc1Jlc2l6ZUV2ZW50KCk7XG4gICAgICBzdHlsZUNvbmZpZy5fcmVzaXplVGhyb3R0bGVkID0gdHJ1ZTtcbiAgICAgIHN0eWxlQ29uZmlnLl9yZXNpemVRdWV1ZWQgPSBmYWxzZTtcbiAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICBzdHlsZUNvbmZpZy5fcmVzaXplVGhyb3R0bGVkID0gZmFsc2U7XG4gICAgICAgIGlmIChzdHlsZUNvbmZpZy5fcmVzaXplUXVldWVkKSB7XG4gICAgICAgICAgcHJvY2Vzc1Jlc2l6ZUV2ZW50KCk7XG4gICAgICAgIH1cbiAgICAgIH0sIDUwMCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHN0eWxlQ29uZmlnLl9yZXNpemVRdWV1ZWQgPSB0cnVlO1xuICAgIH1cbiAgfSk7XG59KTtcbiJdfQ==
